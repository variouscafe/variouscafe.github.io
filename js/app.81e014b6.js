(function(t){function e(e){for(var s,o,a=e[0],l=e[1],u=e[2],m=0,d=[];m<a.length;m++)o=a[m],Object.prototype.hasOwnProperty.call(n,o)&&n[o]&&d.push(n[o][0]),n[o]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(t[s]=l[s]);c&&c(e);while(d.length)d.shift()();return r.push.apply(r,u||[]),i()}function i(){for(var t,e=0;e<r.length;e++){for(var i=r[e],s=!0,a=1;a<i.length;a++){var l=i[a];0!==n[l]&&(s=!1)}s&&(r.splice(e--,1),t=o(o.s=i[0]))}return t}var s={},n={app:0},r=[];function o(e){if(s[e])return s[e].exports;var i=s[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,o),i.l=!0,i.exports}o.m=t,o.c=s,o.d=function(t,e,i){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(o.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)o.d(i,s,function(e){return t[e]}.bind(null,s));return i},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],l=a.push.bind(a);a.push=e,a=a.slice();for(var u=0;u<a.length;u++)e(a[u]);var c=l;r.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("56d7")},"034f":function(t,e,i){"use strict";i("85ec")},"18a5":function(t,e,i){},"1a36":function(t,e,i){},"1b2f":function(t,e){},"1b96":function(t,e,i){},3437:function(t,e,i){var s=i("7037").default;i("99af"),e.getObject=function(t,e,i){var n=[];for(var r in t)if(Object.prototype.isPrototypeOf.call(t,r))if("object"==s(t[r]))n=n.concat(this.getObjects(t[r],e,i));else{if(r==e&&t[r]==i||r==e&&""===i){n.push(t);break}if(t[r]==i&&""===e&&-1==n.lastIndexOf(t)){n.push(t);break}}return n},e.getObjects=function(t,e,i){var n=[];for(var r in t)Object.prototype.isPrototypeOf.call(t,r)&&("object"==s(t[r])?n=n.concat(this.getObjects(t[r],e,i)):(r==e&&t[r]==i||r==e&&""===i||t[r]==i&&""===e&&-1==n.lastIndexOf(t))&&n.push(t));return n}},"458f":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAACXBIWXMAAAsTAAALEwEAmpwYAAAGc0lEQVR4nO2ad4wVVRTGPxsiCATBQuyCKBZEUYkihj/EhlnFiiV2sCG22IgCajBRY9cYjdFoQizE3kXFqDF2RbGgogE02FHEAriu55dz1n0sr8w83ptdyHzJl1fmntvvaXekHDly5MiRI0eOHFVjQ2OHNmi3Q7Td5vjM+IFx9wzbHGycHm23OV40LjH+a3zOeLBx7YLnaxj7GPc3jjaeZhxpXL+gDN+PjGejo2yfkG0GdR5ifD7aWhJttzmuMH4u7/RUY6O8c3OM38TvpuB848/GxcZFxkuN4+P74ng2v6B8Y9QxJ+psjDaGG78wXp7B+CpiD3lnt4nfPY0HGccazzKOMO5k7FIgs5bxbOM/8oFRtmPB8y4hMyLqGBt19ozn20Wbg2s+miqwinwH3FyF7DHBtLjFODPabhfg7P5l3DSDtjaPtk7NoK3EQFl9Ij+fq9axHep+wTjDuHod26kKA+Qrw/asx9akzlujjQF1qL8maJBr9CeMG9Ww3o2NT0bdDTWsty4YJFeKrNRkuRbH7u9l7JpAvmuUHRmyk6Mu6ty1Dv2tC9AJJ8idlrlyG4/ZYiAnl5EbFWWaQmZu1HG8lnaKVkisY5wo38abFXm+hXzQ46PsSglWcYHxuCLP2DG/qR1q91rjK+O5Rf4/z/hlxn3JHNjx343HFnnGrlig+voRbY7t5QpuhyLPdtTSMcVKiTOMvxpXK/KMs88OOD3THmWMl+V2vRTuUzuJ8euB3vJ4/oAyZRqizFaZ9Chj3C7X8uXMHAqQoOq2THqUIUhe/m08MUFZvME/5R5jNQ7RBsbDq5CriMfknUuDi+Tu7FPG2UrmzhILMAFYhI+MvVK0R65glvH1dN1MhvPl5/Mu+SyXwybGB+XpLjrDYB6Rp8LKAVP4rvEXuV/wsTwneFgFOUJlPMkfjG+qjq40CoyVXCifiEPl+TlC3/7yzG5z9MZK7BlyY+Qmbp7xGuN+xi3lR4PcH9mdZ+XZ3leMfUOum/Ee+cSTer/YOEQeNyA/1DhBrjeII67V0hnpuqBjDIiOktRsKiCBzkvGk7Tsdu8hD4amt5KBeIdTVNpCkABBic4rIkvGmIH3q8HYUqOTcWt5DgDT1bF88f/RXb5zkOO4JL1ZwkqgEwbKvckeaTq7oiFJ8qQUutesFwVgW/dOKcPWvUHpV4pUOWf6JqXLL+Jj3Ks6RZVkfNHOwxOWJ6WFskRPkM7qn0CGo8BtEUrvcblOud+4bgJZFCrmFmU7NGEfU2FN451yxYPGZiJam7XO8rtBFCQaHeVEQhP/nonAcqDFWwdD68ktAZedhTl/yqL4uDJjYvpqWRBhTpIPnMuSXaocX2JwFTZNvkp4d3T6Dfld3aL4n5UYVCCD8sJE4tg0RWdnhBx2nsn5w3i3XCkWgmuyy+Q2vik+35ObxZ/iv6+NF8oXKTNwo3u0cZzxKrmNxgXtWU5Ibr/RJxNC7hy5+avkJLFrmPwz5SvOpOCZkiluN1dkKzXw9oolMsqBVR1SRVt4ehyjfaqQ5R2CB6qQqwhMC/dySU0aDgt+OWf0DiXP6+PgfCv3DtEpR6To4ylyfTIphUxioG3J6NI53uIo5b2x6tzooKAIZjizpMFQgJz1UklPAiziBOz/M3Jn5mq1BFLblukb8QQXKCjgcUkHVA2Isq6Xa39y+A8ZrzReIFdohMxo84Xxu3PIsaWnRAe/kzsrKDHC5RvlqTJWDpOHCSw8avuqJX74UJ4suUR+gcLOmhnP3lIGJrAZvaKjDxvfkUd+b8vPHomMUpaAuAFz9bR8MJjO1+T+Af5DpxJy7Jqhxuvkk/WpfHfhjzDRA5dvODnaHfDp8RWSuMCtgbWq5rWbimDbjklRHucEZ+d7+RtkSYE396j8XLPV07xngJNFwubVFDKJgWZHUU1O0CmiRhQiGn2aWkxTl3JC8pct3zf+KA+mcHdRmqxoOW8PHYFOIlhDp3Sr0E7V2FvuD5C0ZCKOMu4s1/L4/tz5oe2x38QIu4UcZpP3//Dj0eIHyqNDVgxHidfgmgOoqVEfIL2FpmcCSXtNNA6TZ3+4QsNCYIVmRZt8r+RSLzdwaEZFR2m0MD3FxGDDWbHWXiOrQryAuWpsJcfKMaHDSrSJD8BreLO1bEqMBWF39anF4NKC80r0NjA+k0Zj+AeEtnh9mNQ0N8J4okxIP7X4GTly5MiRI0eOHDnS4j9CGHU3X0jEqQAAAABJRU5ErkJggg=="},"56d7":function(t,e,i){"use strict";i.r(e);i("e260"),i("e6cf"),i("cca6"),i("a79d");var s=i("2b0e"),n=i("2f62"),r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-app",[s("v-app-bar",{staticStyle:{"border-bottom":"1px solid rgb(216, 222, 228, 0.9) !important"},attrs:{app:"",color:"lightgrey",dense:"",absolute:"",elevation:"0"}},[s("v-btn",{staticClass:"text-capitalize",attrs:{plain:"",text:"",small:""},on:{click:function(e){return t.clickLogo()}}},[s("v-avatar",{attrs:{size:"22"}},[s("img",{attrs:{src:i("458f")}})]),t._v(" Pish ")],1),s("v-spacer")],1),s("v-main",[s("v-container",{attrs:{fluid:""}},[s("router-view")],1)],1),s("v-footer",{staticStyle:{"background-color":"#f8f9fa"}},[s("small",[t._v("pish.io")])])],1)},o=[],a={name:"App",components:{},data:function(){return{tab:{},drawer:!1}},created:function(){console.log("app created"),this.$store.state.telegramId},methods:{clickLogo:function(t){null!==this.$store.state.telegramId?this.$router.push("/bots"):this.$router.push("/")}}},l=a,u=(i("034f"),i("2877")),c=i("6544"),m=i.n(c),d=i("7496"),p=i("40dc"),_=i("8212"),v=i("8336"),h=i("a523"),f=i("553a"),y=i("f6c4"),b=i("2fa4"),g=Object(u["a"])(l,r,o,!1,null,null,null),x=g.exports;m()(g,{VApp:d["a"],VAppBar:p["a"],VAvatar:_["a"],VBtn:v["a"],VContainer:h["a"],VFooter:f["a"],VMain:y["a"],VSpacer:b["a"]});var w=i("f309"),C=i("bfd9");s["default"].use(w["a"]);var k=new w["a"]({preset:C["preset"],theme:{dark:!1,default:"light",disable:!1,options:{cspNonce:void 0,customProperties:void 0,minifyTheme:void 0,themeCache:void 0},themes:{light:{primary:"#24292F",secondary:"#424242",accent:"#82B1FF",error:"#FF5252",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00",lightgrey:"F6F8FA"},dark:{primary:"#2196F3",secondary:"#424242",accent:"#FF4081",error:"#FF5252",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"}}}}),P=i("7591"),T=i.n(P),S=i("8c4f"),D=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-container",[i("v-row",{staticClass:"text-center"},[t._v(" 111 ")])],1)},O=[],R={name:"HelloWorld",data:function(){return{ecosystem:[{text:"vuetify-loader",href:"https://github.com/vuetifyjs/vuetify-loader"},{text:"github",href:"https://github.com/vuetifyjs/vuetify"},{text:"awesome-vuetify",href:"https://github.com/vuetifyjs/awesome-vuetify"}],importantLinks:[{text:"Documentation",href:"https://vuetifyjs.com"},{text:"Chat",href:"https://community.vuetifyjs.com"},{text:"Made with Vuetify",href:"https://madewithvuejs.com/vuetify"},{text:"Twitter",href:"https://twitter.com/vuetifyjs"},{text:"Articles",href:"https://medium.com/vuetify"}],whatsNext:[{text:"Explore components",href:"https://vuetifyjs.com/components/api-explorer"},{text:"Select a layout",href:"https://vuetifyjs.com/getting-started/pre-made-layouts"},{text:"Frequently Asked Questions",href:"https://vuetifyjs.com/getting-started/frequently-asked-questions"}]}}},I=R,F=i("0fd9"),U=Object(u["a"])(I,D,O,!1,null,null,null);U.exports;m()(U,{VContainer:h["a"],VRow:F["a"]});var N=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-card",{staticClass:"mx-auto",staticStyle:{"touch-action":"manipulation"},attrs:{"max-width":"500"}},[i("v-container",{attrs:{fluid:""}},[i("v-card",{staticClass:"mx-auto",attrs:{outlined:""}},[t.coins.length?i("v-row",{staticClass:"mt-1 text-center",attrs:{"no-gutters":""}},[i("v-col",{staticClass:"ml-2 mr-2"},[i("v-text-field",{attrs:{label:"atr*"},on:{change:function(e){return t.changeTextField("price_add_value",t.coins[0].price_add_value)}},model:{value:t.coins[0].price_add_value,callback:function(e){t.$set(t.coins[0],"price_add_value",e)},expression:"coins[0].price_add_value"}})],1),i("v-col",{staticClass:"ml-2 mr-2"},[i("v-text-field",{attrs:{label:"limit"},model:{value:t.coins[0].limit_usd,callback:function(e){t.$set(t.coins[0],"limit_usd",e)},expression:"coins[0].limit_usd"}})],1),i("v-col",{staticClass:"ml-2 mr-2"},[i("v-text-field",{attrs:{label:"sell percent"},model:{value:t.coins[0].sell_percent,callback:function(e){t.$set(t.coins[0],"sell_percent",e)},expression:"coins[0].sell_percent"}})],1),i("v-col",{staticClass:"ml-2 mr-2"},[i("v-text-field",{attrs:{label:"mulpercent"},model:{value:t.coins[0].mul_percent,callback:function(e){t.$set(t.coins[0],"mul_percent",e)},expression:"coins[0].mul_percent"}})],1)],1):t._e()],1),i("v-row",{attrs:{"no-gutters":""}},[i("v-row",{staticClass:"mt-1 mb-3",attrs:{"no-gutters":""}},[i("v-col",{staticClass:"ml-1",attrs:{cols:"1"}}),i("v-col",{attrs:{cols:"2"},on:{click:function(e){return t.sortClick("rank")}}},[i("small",[t._v("RANK")])]),i("v-col",{staticClass:"text-right ml-2",attrs:{cols:"2"},on:{click:function(e){return t.sortClick("price")}}},[i("small",[t._v("PRICE")])]),i("v-col",{staticClass:"text-right",attrs:{cols:"4"},on:{click:function(e){return t.sortClick("percent")}}},[i("small",[t._v("PERCENT")])]),i("v-col",{staticClass:"text-right",attrs:{cols:"2"},on:{click:function(e){return t.sortClick("init")}}},[i("small",[t._v("INIT")])])],1),i("v-expansion-panels",{attrs:{accordion:""}},t._l(t.coins,(function(e,s){return i("v-expansion-panel",{key:s},[i("v-expansion-panel-header",{staticClass:"pa-0 pl-3 mb-n1 mt-n1",attrs:{"hide-actions":""}},[i("v-row",{attrs:{"no-gutters":""}},[i("v-col",{attrs:{cols:"1"}},[i("v-img",{attrs:{src:t.getImage(e.symbol2),"max-width":"16","max-height":"16"},on:{error:t.test}})],1),i("v-col",{staticClass:"ml-n1",attrs:{cols:"2"}},[i("small",{staticClass:"grey--text text--darken-1"},[t._v(t._s(e.symbol2))]),i("small",{staticStyle:{"font-size":"0.6rem"}},[t._v(" "+t._s(e.rank))])]),i("v-col",{staticClass:"ml-3 text-right",attrs:{cols:"2"}},[i("span",{staticClass:"grey--text",staticStyle:{"font-size":"0.6rem"}},[t._v("$")]),t._v(t._s(e.usd_position_amt)+" ")]),i("v-col",{staticClass:"text-right",attrs:{cols:"4"}},[t._v(" "+t._s(e.percent)),i("small",{staticClass:"grey--text text--darken-1"},[t._v("% ("+t._s(e.buy_percent)+")")])]),i("v-col",{staticClass:"text-right",attrs:{cols:"2"}},[i("small",[i("span",{staticClass:"grey--text",staticStyle:{"font-size":"0.5rem"}},[t._v("$")]),t._v(t._s(e.actual_price))])])],1)],1),i("v-expansion-panel-content",[i("v-row",{attrs:{"no-gutters":""}},[i("v-col",[t._v(" earn : "+t._s(e.earn)+" ")]),i("v-col",[i("v-card",{attrs:{outlined:""}},[t._v(" amt : "+t._s(e.init_amt)),i("br"),i("v-btn",{staticClass:"mx-2 mt-1 mb-1",attrs:{small:"",fab:"",outlined:""},on:{click:function(i){return t.clickAmt(e,"plus")}}},[i("v-icon",[t._v(" mdi-plus ")])],1),i("v-btn",{staticClass:"mx-2 mt-1 mb-1",attrs:{small:"",fab:"",outlined:""},on:{click:function(i){return t.clickAmt(e,"minus")}}},[i("v-icon",[t._v(" mdi-minus ")])],1)],1)],1)],1)],1)],1)})),1)],1)],1)],1)},A=[],L=i("b85c"),V=(i("b680"),i("4e827"),i("a9e3"),i("ac1f"),i("5319"),i("c7cd"),i("3437")),j=i.n(V),B={name:"Mulbot",data:function(){return{ticker:{},coins:[],sort:{rank:!1,price:!1,percent:!1,init:!1}}},watch:{},created:function(){console.log("created!!"),this.getTicker()},methods:{getTicker:function(){var t=this;this.$http.get(this.$server+"/coin/ticker/all").then((function(e){t.ticker=e.data,t.getCoins()})).catch((function(t){console.log("error"+t)}))},getCoins:function(){var t=this,e={headers:{sessionKey:"nfftzo@naver.com"}};this.$http.get(this.$server+"/coin/binance/bot/mul",e).then((function(e){t.sumUsd=0,t.sumInitAmtUsd=0;var i,s=Object(L["a"])(t.ticker.binance);try{for(s.s();!(i=s.n()).done;){var n,r=i.value,o=Object(L["a"])(e.data);try{for(o.s();!(n=o.n()).done;){var a=n.value;if(r.symbol===a.symbol){a.lastPrice=r.lastPrice,a.actual_price=Number((a.init_amt*r.lastPrice).toFixed(1)),a.quoteVolume=Number(Number(r.quoteVolume).toFixed(0)),a.symbol2=a.symbol.replace("USDT",""),a.symbolLower=a.symbol2.toLowerCase();var l=j.a.getObject(t.ticker.coingecko,"symbol",a.symbol2.toLowerCase())[0];void 0!==l?(a.h1=t.toFixed(l.h1,1),a.h24=t.toFixed(l.h24,1)):(a.h1=0,a.h24=0),a.usd_position_amt=Number(a.usd_position_amt.toFixed(0)),t.sumUsd+=a.usd_position_amt,t.sumInitAmtUsd+=a.actual_price,a.high_usd_price=Number(a.high_usd_price.toFixed(0)),a.percent=Number(a.percent.toFixed(1)),a.items=[]}}}catch(u){o.e(u)}finally{o.f()}}}catch(u){s.e(u)}finally{s.f()}t.sumInitAmtUsd=t.sumInitAmtUsd.toFixed(0),e.data.sort((function(t,e){return e.usd_position_amt-t.usd_position_amt})),t.coins=e.data})).catch((function(t){console.log("getcoinerrror"+t)}))},sortClick:function(t){"rank"===t?(this.sort.rank?this.coins.sort((function(t,e){return e.rank-t.rank})):this.coins.sort((function(t,e){return t.rank-e.rank})),this.sort.rank=!this.sort.rank):"price"===t?(this.sort.price?this.coins.sort((function(t,e){return t.usd_position_amt-e.usd_position_amt})):this.coins.sort((function(t,e){return e.usd_position_amt-t.usd_position_amt})),this.sort.price=!this.sort.price):"percent"===t?(this.sort.percent?this.coins.sort((function(t,e){return t.percent-e.percent})):this.coins.sort((function(t,e){return e.percent-t.percent})),this.sort.percent=!this.sort.percent):"init"===t&&(this.sort.init?this.coins.sort((function(t,e){return t.actual_price-e.actual_price})):this.coins.sort((function(t,e){return e.actual_price-t.actual_price})),this.sort.init=!this.sort.init),console.log(t)},changeTextField:function(t,e){console.log(e)},clickAmt:function(t,e){var i=1;1===t.fixed?i=.1:2===t.fixed?i=.01:3===t.fixed&&(i=.001),"plus"===e?t.init_amt=t.init_amt+i:"minus"===e&&(t.init_amt=t.init_amt-i),t.init_amt=Number(t.init_amt.toFixed(t.fixed)),t.actual_price=Number((t.init_amt*t.lastPrice).toFixed(1)),console.log("click : "+t.init_amt),console.log(t)},getImage:function(t){try{return t=t.toLowerCase(),console.log("@/assets/coins/".concat(t,".png")),!function(){var t=new Error("Cannot find module 'undefined'");throw t.code="MODULE_NOT_FOUND",t}()}catch(e){return""}},test:function(){},toFixed:function(t,e){return Number(Number(t).toFixed(e))}}},H=B,W=i("b0af"),M=i("62ad"),E=i("cd55"),$=i("49e2"),G=i("c865"),q=i("0393"),z=i("132d"),X=i("adda"),K=i("8654"),J=Object(u["a"])(H,N,A,!1,null,null,null),Y=J.exports;m()(J,{VBtn:v["a"],VCard:W["a"],VCol:M["a"],VContainer:h["a"],VExpansionPanel:E["a"],VExpansionPanelContent:$["a"],VExpansionPanelHeader:G["a"],VExpansionPanels:q["a"],VIcon:z["a"],VImg:X["a"],VRow:F["a"],VTextField:K["a"]});var Z=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"mt-2"},[t._v("Orders")]),i("v-data-table",{staticClass:"elevation-1",attrs:{"mobile-breakpoint":"200","hide-default-footer":"","items-per-page":-1,headers:t.headers,items:t.orders,"sort-by":"buy_price","sort-desc":"",dense:""},scopedSlots:t._u([{key:"top",fn:function(){return[i("v-toolbar",{attrs:{flat:""}},[i("v-spacer"),i("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,n=e.attrs;return[i("v-btn",t._g(t._b({staticClass:"mb-2",attrs:{color:"primary",dark:"",small:""}},"v-btn",n,!1),s),[t._v(" New Item ")])]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[i("v-card",[i("v-card-title",[i("span",{staticClass:"text-h5"},[t._v(t._s(t.formTitle))])]),i("v-card-text",[i("v-container",[i("v-row",[i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-text-field",{attrs:{label:"Symbol"},model:{value:t.editedItem.symbol,callback:function(e){t.$set(t.editedItem,"symbol",e)},expression:"editedItem.symbol"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-text-field",{attrs:{label:"Buy price"},model:{value:t.editedItem.buy_price,callback:function(e){t.$set(t.editedItem,"buy_price",e)},expression:"editedItem.buy_price"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[i("v-text-field",{attrs:{label:"Sell price"},model:{value:t.editedItem.sell_price,callback:function(e){t.$set(t.editedItem,"sell_price",e)},expression:"editedItem.sell_price"}})],1)],1),i("v-row",{staticClass:"mt-1 ml-0"},[t._v("Profit : "+t._s(t.editedItem.profit))])],1)],1),i("v-card-actions",[i("v-spacer"),i("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.closeDialog}},[t._v(" Cancel ")]),i("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.clickSave}},[t._v(" Save ")])],1)],1)],1),i("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.dialogDelete,callback:function(e){t.dialogDelete=e},expression:"dialogDelete"}},[i("v-card",[i("v-card-title",{staticClass:"text-h5"},[t._v("Are you sure you want to delete this item?")]),i("v-card-actions",[i("v-spacer"),i("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.closeDialog}},[t._v("Cancel")]),i("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.deleteItemConfirm}},[t._v("OK")]),i("v-spacer")],1)],1)],1)],1)]},proxy:!0},{key:"item.actions",fn:function(e){var s=e.item;return[i("v-icon",{attrs:{small:""},on:{click:function(e){return t.deleteItem(s)}}},[t._v(" mdi-delete ")])]}},{key:"item.shortSymbol",fn:function(e){var s=e.item;return[i("small",[t._v(t._s(s.shortSymbol))])]}},{key:"item.profit",fn:function(e){var s=e.item;return[i("small",[t._v(t._s(s.profit))])]}},{key:"item.buy_price",fn:function(e){var s=e.item;return[t._v(" "+t._s(s.buy_price)+" "),i("v-chip",{directives:[{name:"show",rawName:"v-show",value:"requested"===s.buyStatus,expression:"item.buyStatus === 'requested' "}],staticClass:"pa-1",attrs:{color:"amber lighten-2","x-small":""}}),i("v-chip",{directives:[{name:"show",rawName:"v-show",value:"contracted"===s.buyStatus,expression:"item.buyStatus === 'contracted' "}],staticClass:"pa-1",attrs:{color:"green lighten-2","x-small":""}})]}},{key:"item.sell_price",fn:function(e){var s=e.item;return[t._v(" "+t._s(s.sell_price)+" "),i("v-chip",{directives:[{name:"show",rawName:"v-show",value:"requested"===s.sellStatus,expression:"item.sellStatus === 'requested' "}],staticClass:"pa-1",attrs:{color:"amber lighten-2","x-small":""}}),i("v-chip",{directives:[{name:"show",rawName:"v-show",value:"contracted"===s.sellStatus,expression:"item.sellStatus === 'contracted' "}],staticClass:"pa-1",attrs:{color:"green lighten-2","x-small":""}})]}}])}),i("div",{staticClass:"mt-2"},[t._v("Postions")]),i("v-data-table",{attrs:{"mobile-breakpoint":"200","hide-default-footer":"","items-per-page":-1,headers:t.postionHeaders,items:t.positions,dense:""},scopedSlots:t._u([{key:"item.buy_price",fn:function(e){var s=e.item;return[t._v(" "+t._s(s.buy_price)+" "),i("v-chip",{directives:[{name:"show",rawName:"v-show",value:"requested"===s.buyStatus,expression:"item.buyStatus === 'requested' "}],staticClass:"pa-1",attrs:{color:"amber lighten-2","x-small":""}}),i("v-chip",{directives:[{name:"show",rawName:"v-show",value:"contracted"===s.buyStatus,expression:"item.buyStatus === 'contracted' "}],staticClass:"pa-1",attrs:{color:"green lighten-2","x-small":""}})]}},{key:"item.sell_price",fn:function(e){var s=e.item;return[t._v(" "+t._s(s.sell_price)+" "),i("v-chip",{directives:[{name:"show",rawName:"v-show",value:"requested"===s.sellStatus,expression:"item.sellStatus === 'requested' "}],staticClass:"pa-1",attrs:{color:"amber lighten-2","x-small":""}}),i("v-chip",{directives:[{name:"show",rawName:"v-show",value:"contracted"===s.sellStatus,expression:"item.sellStatus === 'contracted' "}],staticClass:"pa-1",attrs:{color:"green lighten-2","x-small":""}})]}}])}),i("div",{staticClass:"mt-2"},[t._v("Histories : "+t._s(t.profitSum.toFixed(2))),i("small",[t._v("$")])]),i("v-data-table",{attrs:{"mobile-breakpoint":"200","hide-default-footer":"","items-per-page":-1,headers:t.historyHeaders,items:t.histories,dense:""}})],1)},Q=[],tt=i("1da1"),et=(i("96cf"),i("1276"),i("fb6a"),i("d3b7"),i("25f0"),{name:"Mulbot",data:function(){return{dialog:!1,dialogDelete:!1,headers:[{text:"",value:"shortSymbol"},{text:"Buy",value:"buy_price"},{text:"Sell",value:"sell_price"},{text:"%",value:"profit"},{text:"D",value:"actions",sortable:!1}],postionHeaders:[{text:"",value:"shortSymbol"},{text:"Buy",value:"buy_price"},{text:"Sell",value:"sell_price"},{text:"%",value:"profit"}],historyHeaders:[{text:"",value:"shortSymbol"},{text:"Buy",value:"buy_price"},{text:"Sell",value:"sell_price"},{text:"profit",value:"profit"},{text:"date",value:"newDate"}],desserts:[],editedIndex:-1,editedItem:{symbol:"BTCUSDT",buy_price:"",sell_price:""},orders:[],positions:[],histories:[],selected_item:{},profitSum:0}},computed:{formTitle:function(){return-1===this.editedIndex?"New Item":"Edit Item"}},watch:{editedItem:{deep:!0,handler:function(){this.editedItem.profit=((this.editedItem.sell_price-this.editedItem.buy_price)/this.editedItem.buy_price*100).toFixed(2)+"%"}}},created:function(){this.getOrderList(),this.getHistories()},methods:{getOrderList:function(){var t=this;return Object(tt["a"])(regeneratorRuntime.mark((function e(){var i,s,n,r,o,a,l,u,c,m,d;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.requestGet(t.$server+"/coin/bybit/feebot/orders");case 2:return i=e.sent,e.next=5,t.requestGet(t.$server+"/coin/bybit/feebot/positions");case 5:s=e.sent,n=Object(L["a"])(i);try{for(n.s();!(r=n.n()).done;){o=r.value,a=Object(L["a"])(s);try{for(a.s();!(l=a.n()).done;)u=l.value,o.buy_price===u.buy_price&&(o.buyStatus="requested",null!==u.sell_order_id&&(o.buyStatus="contracted",o.sellStatus="requested"))}catch(p){a.e(p)}finally{a.f()}o.shortSymbol=o.symbol.split("USDT")[0],o.profit=((o.sell_price-o.buy_price)/o.buy_price*100).toFixed(2)}}catch(p){n.e(p)}finally{n.f()}c=Object(L["a"])(s);try{for(c.s();!(m=c.n()).done;)d=m.value,d.buy_price===d.buy_price&&(d.buyStatus="requested",null!==d.sell_order_id&&(d.buyStatus="contracted",d.sellStatus="requested")),d.shortSymbol=d.symbol.split("USDT")[0],d.profit=((d.sell_price-d.buy_price)/d.buy_price*100).toFixed(2)}catch(p){c.e(p)}finally{c.f()}t.orders=i,t.positions=s;case 12:case"end":return e.stop()}}),e)})))()},getHistories:function(){var t=this;return Object(tt["a"])(regeneratorRuntime.mark((function e(){var i,s,n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.requestGet(t.$server+"/coin/bybit/feebot/histories");case 2:i=e.sent,s=Object(L["a"])(i);try{for(s.s();!(n=s.n()).done;)r=n.value,t.profitSum+=r.profit,r.shortSymbol=r.symbol.split("USDT")[0],r.newDate=t.date2str(new Date(r.created_date),"hh:mm,  MM/dd ")}catch(o){s.e(o)}finally{s.f()}t.histories=i;case 6:case"end":return e.stop()}}),e)})))()},date2str:function(t,e){var i={M:t.getMonth()+1,d:t.getDate(),h:t.getHours(),m:t.getMinutes(),s:t.getSeconds()};return e=e.replace(/(M+|d+|h+|m+|s+)/g,(function(t){return((t.length>1?"0":"")+i[t.slice(-1)]).slice(-2)})),e.replace(/(y+)/g,(function(e){return t.getFullYear().toString().slice(-e.length)}))},deleteItem:function(t){this.selected_item=t,this.dialogDelete=!0},deleteItemConfirm:function(){this.deleteOrderList(this.selected_item),this.closeDialog()},closeDialog:function(){var t=this;this.dialog=!1,this.dialogDelete=!1,this.$nextTick((function(){t.editedIndex=-1}))},clickSave:function(){console.log("click save"),console.log(this.editedItem),this.postOrderList(this.editedItem),this.closeDialog()},requestGet:function(t){var e=this;return new Promise((function(i,s){e.$http.get(t).then((function(t){i(t.data)})).catch((function(t){i()}))}))},postOrderList:function(t){var e=this;this.$http.post(this.$server+"/coin/bybit/feebot/orders",t).then((function(t){e.getOrderList()})).catch((function(t){console.log("error"+t)}))},deleteOrderList:function(t){var e=this;this.$http.delete(this.$server+"/coin/bybit/feebot/orders/"+t.id).then((function(t){e.getOrderList()})).catch((function(t){console.log("error"+t)}))},test:function(){},toFixed:function(t,e){return Number(Number(t).toFixed(e))}}}),it=et,st=i("99d9"),nt=i("cc20"),rt=i("8fea"),ot=i("169a"),at=i("71d9"),lt=Object(u["a"])(it,Z,Q,!1,null,null,null),ut=lt.exports;m()(lt,{VBtn:v["a"],VCard:W["a"],VCardActions:st["a"],VCardText:st["b"],VCardTitle:st["c"],VChip:nt["a"],VCol:M["a"],VContainer:h["a"],VDataTable:rt["a"],VDialog:ot["a"],VIcon:z["a"],VRow:F["a"],VSpacer:b["a"],VTextField:K["a"],VToolbar:at["a"]});var ct=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",[i("v-btn",{attrs:{small:"",depressed:"",color:"grey lighten-4"},on:{click:function(e){t.showHistory=!1,t.showOrder=!0}}},[t._v("Orders ")]),i("v-btn",{staticClass:"ml-5",attrs:{small:"",depressed:"",color:"grey lighten-4"},on:{click:function(e){t.showHistory=!0,t.showOrder=!1}}},[t._v("Histories ")]),i("v-btn",{staticClass:"ml-5",attrs:{small:"",depressed:"",color:"grey lighten-4",to:"/intro"}},[t._v("H2 ")])],1),i("v-card",[i("div",{staticClass:"mt-2"},[t._v("$"+t._s(t.summaryText.profitSum.toFixed(2))+", ("+t._s(t.summaryText.lastTime)+")")]),i("div",[t._v(" BuyCount : "+t._s(t.summaryText.buyCountTotal)+", SellCount : "+t._s(t.summaryText.sellCountTotal)+" ")]),i("div",[t._v(" BuyPrice : "+t._s(t.toFixed(t.summaryText.buyPriceTotal,0))+", SellPrice : "+t._s(t.toFixed(t.summaryText.sellPriceTotal,0))+" ")])]),i("div",{directives:[{name:"show",rawName:"v-show",value:t.showOrder,expression:"showOrder"}]},[i("div",{staticClass:"mt-2"},[t._v(" Summary "),i("small",[t._v("("+t._s(t.summaryList.length)+")")])]),i("v-data-table",{attrs:{"mobile-breakpoint":"200","hide-default-footer":"","items-per-page":-1,headers:t.summaryListHeaders,items:t.summaryList,"item-key":"symbol",expanded:t.expanded,"sort-by":"pendingCount","must-sort":"",dense:""},on:{"update:expanded":function(e){t.expanded=e},"click:row":t.clickSummaryRow},scopedSlots:t._u([{key:"item.pendingCount",fn:function(e){var s=e.item;return[t._v(" "+t._s(s.pendingCount)+" "),i("small",[t._v(" ( "+t._s(s.longPendingCount)+" , "+t._s(s.shortPendingCount)+" ) ")])]}},{key:"item.longPendingCount",fn:function(e){var s=e.item;return[i("small",[t._v(t._s(s.longPendingCount))])]}},{key:"item.shortPendingCount",fn:function(e){var s=e.item;return[i("small",[t._v(t._s(s.shortPendingCount))])]}},{key:"item.longFilledCount",fn:function(e){var s=e.item;return[i("small",[t._v(t._s(s.longFilledCount))])]}},{key:"item.shortFilledCount",fn:function(e){var s=e.item;return[i("small",[t._v(t._s(s.shortFilledCount))])]}},{key:"item.shortSymbol",fn:function(e){var s=e.item;return[i("small",[t._v(t._s(s.shortSymbol))])]}},{key:"item.total",fn:function(e){var s=e.item;return[i("small",[t._v(t._s(s.total))])]}},{key:"item.createdCount",fn:function(e){var s=e.item;return[i("small",[t._v(t._s(s.createdCount))]),i("small",[t._v(" ( "+t._s(s.longCreatedCount)+" , "+t._s(s.shortCreatedCount)+" ) ")])]}},{key:"expanded-item",fn:function(e){var s=e.headers,n=e.item;return[i("td",{staticClass:"pa-0",attrs:{colspan:s.length}},[i("order-tree",{attrs:{orders:t.createOrdersBySymbol(n)},on:{"on-updated-order":t.onUpdatedOrder}})],1)]}}])}),i("v-card",{staticClass:"mt-3 pa-3 d-flex justify-space-between"},[i("div"),i("v-btn",{staticClass:"mb-2",attrs:{color:"primary",dark:"",small:""},on:{click:function(e){return t.clickSnackbarBtn("New")}}},[t._v(" New Item ")])],1),i("div",{staticClass:"mt-2"},[i("v-btn",{attrs:{small:"",depressed:""},on:{click:function(e){t.showPositionTable=!t.showPositionTable}}},[t._v("Postions "+t._s(t.positions.length))])],1),t.showPositionTable?i("v-data-table",{attrs:{"mobile-breakpoint":"200","hide-default-footer":"","items-per-page":-1,headers:t.postionHeaders,items:t.positions,dense:""},scopedSlots:t._u([{key:"item.bp",fn:function(e){var s=e.item;return[i("v-chip",{staticClass:"pa-1",attrs:{color:t.priceColor(s.bs),"x-small":""}}),t._v(" "+t._s(s.bp)+" ")]}},{key:"item.sp",fn:function(e){var s=e.item;return[i("v-chip",{staticClass:"pa-1",attrs:{color:t.priceColor(s.ss),"x-small":""}}),t._v(" "+t._s(s.sp)+" ")]}}],null,!1,577613528)}):t._e()],1),i("histories",{directives:[{name:"show",rawName:"v-show",value:t.showHistory,expression:"showHistory"}],ref:"historyView"}),i("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.itemDialog.show,callback:function(e){t.$set(t.itemDialog,"show",e)},expression:"itemDialog.show"}},[i("v-card",[i("v-card-text",[i("v-container",[i("div",{staticClass:"mb-5"},[i("b",[t._v(t._s(t.itemDialog.title))])]),i("v-row",[i("v-col",{staticClass:"mt-0 pt-0 mb-0 pb-0",attrs:{cols:"4"}},[i("v-text-field",{attrs:{label:"Symbol"},model:{value:t.editedItem.symbol,callback:function(e){t.$set(t.editedItem,"symbol",e)},expression:"editedItem.symbol"}})],1),i("v-col",{staticClass:"mt-0 pt-0 mb-0 pb-0",attrs:{cols:"4"}},[i("v-text-field",{attrs:{label:"Side"},model:{value:t.editedItem.side,callback:function(e){t.$set(t.editedItem,"side",e)},expression:"editedItem.side"}})],1),i("v-col",{staticClass:"mt-0 pt-0 mb-0 pb-0",attrs:{cols:"4"}},[i("v-text-field",{attrs:{label:"Amt"},model:{value:t.editedItem.amt,callback:function(e){t.$set(t.editedItem,"amt",e)},expression:"editedItem.amt"}})],1),i("v-col",{staticClass:"mt-0 pt-0 mb-0 pb-0",attrs:{cols:"4"}},[i("v-text-field",{attrs:{label:"Buy percent"},model:{value:t.editedItem.buy_percent,callback:function(e){t.$set(t.editedItem,"buy_percent",e)},expression:"editedItem.buy_percent"}})],1),i("v-col",{staticClass:"mt-0 pt-0 mb-0 pb-0",attrs:{cols:"4"}},[i("v-text-field",{attrs:{label:"Sell percent"},model:{value:t.editedItem.sell_percent,callback:function(e){t.$set(t.editedItem,"sell_percent",e)},expression:"editedItem.sell_percent"}})],1)],1),i("v-row",{staticClass:"ml-0",attrs:{"no-gutters":""}},[t._v(" price : "+t._s(t.editedItem.price)+" ")])],1)],1),i("v-card-actions",{staticClass:"mt-n8"},[i("v-spacer"),i("v-btn",{staticClass:"mr-3 mb-3",attrs:{small:"",color:"grey lighten-3"},on:{click:t.closeDialog}},[t._v(" Cancel ")]),"New"===t.itemDialog.mode?i("v-btn",{staticClass:"mr-3 mb-3",attrs:{small:"",color:"blue darken-3",dark:""},on:{click:function(e){return t.clickDialogBtn()}}},[t._v(" New ")]):"Edit"===t.itemDialog.mode?i("v-btn",{staticClass:"mr-3 mb-3",attrs:{small:"",color:"primary"},on:{click:function(e){return t.clickDialogBtn()}}},[t._v(" Edit ")]):"Cancel"===t.itemDialog.mode?i("v-btn",{staticClass:"mr-3 mb-3",attrs:{small:"",color:"red darken-3",dark:""},on:{click:function(e){return t.clickDialogBtn()}}},[t._v(" Delete ")]):t._e()],1)],1)],1)],1)},mt=[],dt=(i("7db0"),i("4de4"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"mt-2"},[t._v(" 1D : "+t._s(t.toFixed(t.summary1d.profitSum,2))),i("small",[t._v("$")]),t._v(", Trade Count : "+t._s(t.summary1d.tradeCount)+" ")]),i("v-data-table",{attrs:{"mobile-breakpoint":"200","hide-default-footer":"","items-per-page":-1,headers:t.historySummaryHeaders,items:t.historySummaries,"sort-by":"profitSum",dense:""}}),i("v-data-table",{attrs:{"mobile-breakpoint":"200","hide-default-footer":"","items-per-page":-1,headers:t.historyHeaders,items:t.histories,dense:""},scopedSlots:t._u([{key:"item.side",fn:function(e){var s=e.item;return[i("v-chip",{directives:[{name:"show",rawName:"v-show",value:"Buy"===s.side,expression:"item.side === 'Buy'"}],staticClass:"pa-1",attrs:{color:"green lighten-4","x-small":""}},[t._v(t._s(s.side))]),i("v-chip",{directives:[{name:"show",rawName:"v-show",value:"Sell"===s.side,expression:"item.side === 'Sell'"}],staticClass:"pa-1",attrs:{color:"red lighten-4","x-small":""}},[t._v(t._s(s.side))])]}},{key:"item.shortSymbol",fn:function(e){var s=e.item;return[i("small",[t._v(t._s(s.shortSymbol))])]}}])})],1)}),pt=[],_t=i("d4ec"),vt=i("bee2"),ht=i("bc3a"),ft=i.n(ht),yt=new(function(){function t(){Object(_t["a"])(this,t)}return Object(vt["a"])(t,[{key:"get",value:function(t){return new Promise((function(e,i){ft.a.get("https://variouscafe.cafe24.com:8885"+t).then((function(t){e(t.data)})).catch((function(t){e(null)}))}))}},{key:"post",value:function(t,e){return new Promise((function(i,s){ft.a.post("https://variouscafe.cafe24.com:8885"+t,e).then((function(t){i(t.data)})).catch((function(t){i(null)}))}))}},{key:"put",value:function(t,e){return console.log("https://variouscafe.cafe24.com:8885"+t),new Promise((function(i,s){ft.a.put("https://variouscafe.cafe24.com:8885"+t,e).then((function(t){i(t.data)})).catch((function(t){i(null)}))}))}},{key:"delete",value:function(t){return new Promise((function(e,i){ft.a.delete("https://variouscafe.cafe24.com:8885"+t).then((function(t){e(t.data)})).catch((function(t){e(null)}))}))}}]),t}()),bt={name:"history",data:function(){return{historyHeaders:[{text:"",value:"shortSymbol"},{text:"Side",value:"side"},{text:"Buy",value:"buy_price"},{text:"Sell",value:"sell_price"},{text:"profit",value:"profit"},{text:"date",value:"newDate"}],historySummaryHeaders:[{text:"",value:"shortSymbol"},{text:"Total",value:"profitSum"},{text:"Buy",value:"buyProfitSum"},{text:"Sell",value:"sellProfitSum"}],histories:[],historySummaries:[],profitSum:0,summary1d:{profitSum:0,tradeCount:0},summary:{buyCountTotal:0,sellCountTotal:0,profitSum:0}}},computed:{},watch:{},created:function(){this.init(),this.getHistorySummary()},methods:{init:function(){return Object(tt["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})))()},getHistorySummary:function(){var t=this;return Object(tt["a"])(regeneratorRuntime.mark((function e(){var i,s,n,r,o,a,l,u,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.summary1d.profitSum=0,t.summary1d.tradeCount=0,e.next=4,yt.get("/coin/bybit/tribot/histories/summary");case 4:i=e.sent,s={},n=Object(L["a"])(i);try{for(n.s();!(r=n.n()).done;)o=r.value,void 0===s[o.symbol]&&(s[o.symbol]={buyProfitSum:0,sellProfitSum:0}),"Buy"===o.side?s[o.symbol].buyProfitSum+=o.profit:s[o.symbol].sellProfitSum+=o.profit,t.summary1d.profitSum+=o.profit,t.summary1d.tradeCount++}catch(m){n.e(m)}finally{n.f()}for(a in t.historySummaries=[],s)l=t.toFixed(s[a].buyProfitSum,3),u=t.toFixed(s[a].sellProfitSum,3),c=t.toFixed(s[a].buyProfitSum+s[a].sellProfitSum,3),t.historySummaries.push({shortSymbol:a,profitSum:c,buyProfitSum:l,sellProfitSum:u});case 10:case"end":return e.stop()}}),e)})))()},setHistories:function(t){var e,i=0,s=Object(L["a"])(t);try{for(s.s();!(e=s.n()).done;){var n=e.value;i+=n.profit,n.shortSymbol=n.symbol.split("USDT")[0],n.newDate=this.date2str(new Date(n.created_date),"hh:mm"),"Buy"===n.side?this.summary.buyCountTotal++:this.summary.sellCountTotal++}}catch(r){s.e(r)}finally{s.f()}this.summary.profitSum=i,this.histories=t},requestGet:function(t){var e=this;return new Promise((function(i,s){e.$http.get(t).then((function(t){i(t.data)})).catch((function(t){i()}))}))},date2str:function(t,e){var i={M:t.getMonth()+1,d:t.getDate(),h:t.getHours(),m:t.getMinutes(),s:t.getSeconds()};return e=e.replace(/(M+|d+|h+|m+|s+)/g,(function(t){return((t.length>1?"0":"")+i[t.slice(-1)]).slice(-2)})),e.replace(/(y+)/g,(function(e){return t.getFullYear().toString().slice(-e.length)}))},toFixed:function(t,e){return Number(Number(t).toFixed(e))}}},gt=bt,xt=Object(u["a"])(gt,dt,pt,!1,null,null,null),wt=xt.exports;m()(xt,{VChip:nt["a"],VDataTable:rt["a"]});var Ct=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-card",{attrs:{outlined:""}},[i("v-data-table",{attrs:{"mobile-breakpoint":"200","hide-default-footer":"","items-per-page":-1,headers:t.orderHeaders,items:t.orders,"sort-by":["buy_price"],"sort-desc":[!0],expanded:t.expanded,dense:""},on:{"update:expanded":function(e){t.expanded=e},"click:row":t.clickOrderRow},scopedSlots:t._u([{key:"expanded-item",fn:function(e){var s=e.headers,n=e.item;return[i("td",{staticClass:"pt-3",attrs:{colspan:s.length}},[i("order-edit",{attrs:{order:n},on:{"on-updated-order":t.onUpdatedOrder}})],1)]}},{key:"item.shortSymbol",fn:function(e){var s=e.item;return[i("small",[t._v(t._s(s.shortSymbol))])]}},{key:"item.side",fn:function(e){var s=e.item;return[i("v-chip",{staticClass:"pa-1",attrs:{color:t.sideColor(s.side),"x-small":""}},[t._v(t._s(s.side))])]}},{key:"item.buy_price",fn:function(e){var s=e.item;return[i("div",{},[i("small",{staticClass:"text--secondary"},[t._v(t._s(s.bpt)+" ")]),i("v-chip",{staticClass:"pa-1",attrs:{color:t.priceColor(s.bs),"x-small":""}}),t._v(" "+t._s(s.buy_price)+" ")],1)]}},{key:"item.sell_price",fn:function(e){var s=e.item;return[i("div",{},[i("small",{staticClass:"text--secondary"},[t._v(t._s(s.spt)+" ")]),i("v-chip",{staticClass:"pa-1",attrs:{color:t.priceColor(s.ss),"x-small":""}}),t._v(" "+t._s(s.sell_price)+" ")],1)]}}])})],1)},kt=[],Pt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-card",{staticClass:"ma-0 pa-0"},[i("v-row",{staticClass:"mt-3",attrs:{"no-gutters":""}},[i("span",{staticClass:"ml-0",attrs:{"no-gutters":""}},[t._v(" $"+t._s(t.order.price)+" ")]),i("v-btn",{staticClass:"ml-12 mr-3 mb-3",attrs:{small:"",depressed:"",color:"blue darken-2",dark:""},on:{click:function(e){return t.clickNew()}}},[t._v(" New ")]),i("v-btn",{staticClass:"mr-3 mb-3",attrs:{small:"",depressed:"",color:"primary"},on:{click:function(e){return t.clickEdit()}}},[t._v(" Edit ")]),i("v-btn",{staticClass:"mr-3 mb-3",attrs:{small:"",depressed:"",color:"red darken-2",dark:""},on:{click:function(e){return t.clickDelete()}}},[t._v(" Delete ")])],1),i("v-divider",{staticClass:"mt-1"}),i("div",{staticClass:"mt-7 mb-5"},[i("v-row",[i("v-col",{staticClass:"mt-0 pt-0 mb-0 pb-0",attrs:{cols:"3"}},[i("v-text-field",{attrs:{label:"symbol"},model:{value:t.order.symbol,callback:function(e){t.$set(t.order,"symbol",e)},expression:"order.symbol"}})],1),i("v-col",{staticClass:"mt-0 pt-0 mb-0 pb-0 ml-0 mr-0",attrs:{cols:"3"}},[i("div",[i("small",[t._v("side : "+t._s(t.order.side))])]),i("v-btn",{staticClass:"rounded-r-0",attrs:{depressed:"","x-small":"",color:"Buy"===t.order.side?"green lighten-3":null},on:{click:function(e){t.order.side="Buy"}}},[i("small",[t._v("Buy")])]),i("v-btn",{staticClass:"rounded-l-0",attrs:{depressed:"","x-small":"",color:"Sell"===t.order.side?"red lighten-3":null},on:{click:function(e){t.order.side="Sell"}}},[i("small",[t._v("Sell")])])],1),i("v-col",{staticClass:"mt-0 pt-0 mb-0 pb-0",attrs:{cols:"4"}},[i("v-text-field",{attrs:{label:"amt"},model:{value:t.order.amt,callback:function(e){t.$set(t.order,"amt",e)},expression:"order.amt"}})],1),i("v-col",{staticClass:"mt-0 pt-0 mb-0 pb-0",attrs:{cols:"3"}},[i("div",[i("small",[t._v("buy percent :")]),t._v(" "+t._s(t.order.bpt))]),i("v-btn",{staticClass:"rounded-r-0",attrs:{depressed:"","x-small":"",color:-.05===t.order.bpt?"grey lighten-2":null},on:{click:function(e){t.order.bpt=-.05}}},[i("small",[t._v("0.05")])]),i("v-btn",{staticClass:"rounded-l-0",attrs:{depressed:"","x-small":"",color:-.1===t.order.bpt?"grey lighten-2":null},on:{click:function(e){t.order.bpt=-.1}}},[i("small",[t._v("0.1")])])],1),i("v-col",{staticClass:"mt-0 pt-0 mb-0 pb-0",attrs:{cols:"8"}},[i("div",[i("small",[t._v("sell percent :")]),t._v(" "+t._s(t.order.spt))]),i("v-btn",{staticClass:"rounded-0",attrs:{depressed:"",small:"",color:1===t.order.spt?"grey lighten-2":null},on:{click:function(e){t.order.spt=1}}},[t._v("1")]),i("v-btn",{staticClass:"rounded-0",attrs:{depressed:"",small:"",color:2===t.order.spt?"grey lighten-2":null},on:{click:function(e){t.order.spt=2}}},[t._v("2")]),i("v-btn",{staticClass:"rounded-l-0",attrs:{depressed:"",small:"",color:3===t.order.spt?"grey lighten-2":null},on:{click:function(e){t.order.spt=3}}},[t._v("3")]),i("v-btn",{staticClass:"rounded-r-0",attrs:{depressed:"",small:"",color:4===t.order.spt?"grey lighten-2":null},on:{click:function(e){t.order.spt=4}}},[t._v("4")])],1)],1),i("div",{staticClass:"mt-6"},[i("small",[t._v("id: "+t._s(t.order.id))])])],1)],1)},Tt=[],St={name:"OrderTree",components:{},props:{order:{type:Object,default:function(){}}},data:function(){return{}},created:function(){},methods:{clickNew:function(){var t=this;return Object(tt["a"])(regeneratorRuntime.mark((function e(){var i,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=t.updateOrderToDto(t.order),t.$emit("on-updated-order","New",i),e.next=4,yt.post("/coin/bybit/tribot/orders",i);case 4:s=e.sent,console.log(s);case 6:case"end":return e.stop()}}),e)})))()},clickEdit:function(){var t=this;return Object(tt["a"])(regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=t.updateOrderToDto(t.order),t.$emit("on-updated-order","Edit",i),e.next=4,yt.put("/coin/bybit/tribot/orders",i);case 4:case"end":return e.stop()}}),e)})))()},clickDelete:function(){var t=this;return Object(tt["a"])(regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=t.updateOrderToDto(t.order),t.$emit("on-updated-order","Delete",i),e.next=4,yt.delete("/coin/bybit/tribot/cancel/orders/"+i.id);case 4:case"end":return e.stop()}}),e)})))()},activeColor:function(){},updateOrderToDto:function(t){return t.buy_percent=Number(t.bpt),t.sell_percent=Number(t.spt),t.amt=Number(t.amt),t.price=t.buy_price*t.amt,t.price=this.toFixed(t.price,2),t},date2str:function(t,e){var i={M:t.getMonth()+1,d:t.getDate(),h:t.getHours(),m:t.getMinutes(),s:t.getSeconds()};return e=e.replace(/(M+|d+|h+|m+|s+)/g,(function(t){return((t.length>1?"0":"")+i[t.slice(-1)]).slice(-2)})),e.replace(/(y+)/g,(function(e){return t.getFullYear().toString().slice(-e.length)}))},toFixed:function(t,e){return Number(Number(t).toFixed(e))}}},Dt=St,Ot=i("ce7e"),Rt=Object(u["a"])(Dt,Pt,Tt,!1,null,null,null),It=Rt.exports;m()(Rt,{VBtn:v["a"],VCard:W["a"],VCol:M["a"],VDivider:Ot["a"],VRow:F["a"],VTextField:K["a"]});var Ft={name:"OrderTree",components:{OrderEdit:It},props:{orders:{type:Array,default:function(){return[]}}},data:function(){return{orderHeaders:[{text:"",value:"shortSymbol",width:40},{text:"Side",value:"side",width:30},{text:"Buy",value:"buy_price",width:102},{text:"Sell",value:"sell_price",width:102},{text:"P",value:"price"}],expanded:[]}},computed:{},watch:{},created:function(){},methods:{priceColor:function(t){var e="";return e="Created"===t?"amber lighten-4":"New"===t?"amber lighten-2":"Filled"===t?"blue lighten-3":"PartiallyFilled"===t?"blue lighten-4":"Cancelled"===t?"red lighten-2":"transparent",e},sideColor:function(t){var e="";return e="Buy"===t?"green lighten-4":"Sell"===t?"red lighten-4":"white",e},onUpdatedOrder:function(t,e){this.$emit("on-updated-order",t,e),this.expanded=[]},clickOrderRow:function(t){this.expanded.length&&t.id===this.expanded[0].id?this.expanded=[]:this.expanded=[t]},date2str:function(t,e){var i={M:t.getMonth()+1,d:t.getDate(),h:t.getHours(),m:t.getMinutes(),s:t.getSeconds()};return e=e.replace(/(M+|d+|h+|m+|s+)/g,(function(t){return((t.length>1?"0":"")+i[t.slice(-1)]).slice(-2)})),e.replace(/(y+)/g,(function(e){return t.getFullYear().toString().slice(-e.length)}))},toFixed:function(t,e){return Number(Number(t).toFixed(e))}}},Ut=Ft,Nt=(i("aa90"),Object(u["a"])(Ut,Ct,kt,!1,null,null,null)),At=Nt.exports;m()(Nt,{VCard:W["a"],VChip:nt["a"],VDataTable:rt["a"]});var Lt={name:"Mulbot",components:{Histories:wt,OrderTree:At},data:function(){return{dialog:!1,postionHeaders:[{text:"",value:"shortSymbol"},{text:"Id",value:"oi"},{text:"Buy",value:"bp"},{text:"Sell",value:"sp"}],summaryListHeaders:[{text:"",value:"shortSymbol"},{text:"l.pen",value:"longPendingCount"},{text:"s.pen",value:"shortPendingCount"},{text:"l.fil",value:"longFilledCount"},{text:"s.fil",value:"shortFilledCount"},{text:"Created",value:"createdCount"},{text:"Trade",value:"total"}],expanded:[],editedItem:{symbol:"",buy_price:"",sell_price:""},orders:[],positions:[],originalPositions:[],histories:[],selected_item:{},profitSum:0,searchOrderText:"aaa",showPositionTable:!1,showHistory:!1,showOrder:!0,mode:null,itemDialog:{show:!1,mode:null,title:""},summaryText:{buyPriceTotal:0,sellPriceTotal:0,buyCountTotal:0,sellCountTotal:0,profitSum:0},summaryList:[],tempLast3h:{}}},computed:{},watch:{},created:function(){this.getOrderList()},methods:{getOrderList:function(){var t=this;return Object(tt["a"])(regeneratorRuntime.mark((function e(){var i,s,n,r,o,a,l,u,c,m,d,p,_,v,h,f,y,b,g,x,w,C;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.summaryText.buyPriceTotal=0,t.summaryText.sellPriceTotal=0,t.summaryText.buyCountTotal=0,t.summaryText.sellCountTotal=0,i="",s="","Bybit"!==t.$route.query.exchange){e.next=15;break}return e.next=9,yt.get("/coin/bybit/tribot/orders");case 9:return i=e.sent,e.next=12,yt.get("/coin/bybit/tribot/positions");case 12:s=e.sent,e.next=16;break;case 15:"Binance"===t.$route.query.exchange&&console.log("binance");case 16:t.originalPositions=s,t.tempLast3h={},t.summaryList=[],n=Object(L["a"])(i),e.prev=20,n.s();case 22:if((r=n.n()).done){e.next=59;break}o=r.value,void 0===t.tempLast3h[o.symbol]&&(t.tempLast3h[o.symbol]={buyCount:0,sellCount:0,createdCount:0,longCreatedCount:0,shortCreatedCount:0,longFilledCount:0,shortFilledCount:0,pendingCount:0,longPendingCount:0,shortPendingCount:0}),a=!1,l=Object(L["a"])(s),e.prev=27,l.s();case 29:if((u=l.n()).done){e.next=47;break}if(c=u.value,o.id!==c.oi){e.next=45;break}return o.bs=c.bs,o.buy_price=c.bp,o.ss=c.ss,o.sell_price=c.sp,o.profit=(o.sell_price-o.buy_price)/o.buy_price*100,o.profit=t.toFixed(o.profit,2),o.price=o.buy_price*o.amt,o.price=t.toFixed(o.price,2),"Buy"===o.side?t.summaryText.buyPriceTotal+=o.price:"Sell"===o.side&&(t.summaryText.sellPriceTotal+=o.price),"New"!==o.bs&&"Created"!==o.bs||(t.tempLast3h[o.symbol].createdCount++,"Buy"===o.side?t.tempLast3h[o.symbol].longCreatedCount++:"Sell"===o.side&&t.tempLast3h[o.symbol].shortCreatedCount++),"Filled"===c.bs&&("Buy"===o.side?t.tempLast3h[o.symbol].longFilledCount++:"Sell"===o.side&&t.tempLast3h[o.symbol].shortFilledCount++),a=!0,e.abrupt("break",47);case 45:e.next=29;break;case 47:e.next=52;break;case 49:e.prev=49,e.t0=e["catch"](27),l.e(e.t0);case 52:return e.prev=52,l.f(),e.finish(52);case 55:a||(t.tempLast3h[o.symbol].pendingCount++,"Buy"===o.side?t.tempLast3h[o.symbol].longPendingCount++:"Sell"===o.side&&t.tempLast3h[o.symbol].shortPendingCount++),o.shortSymbol=o.symbol.split("USDT")[0];case 57:e.next=22;break;case 59:e.next=64;break;case 61:e.prev=61,e.t1=e["catch"](20),n.e(e.t1);case 64:return e.prev=64,n.f(),e.finish(64);case 67:if(m="","Bybit"!==t.$route.query.exchange){e.next=74;break}return e.next=71,yt.get("/coin/bybit/tribot/ticker");case 71:m=e.sent,e.next=75;break;case 74:"Binance"===t.$route.query.exchange&&console.log("binance");case 75:for(d in m)p=d.split("USDT")[0],i.push({symbol:d,shortSymbol:p,bs:"Ticker",buy_price:m[d].price,side:"---"});t.orders=i,_=[],v=Object(L["a"])(s),e.prev=79,v.s();case 81:if((h=v.n()).done){e.next=105;break}f=h.value,y=!1,b=Object(L["a"])(i),e.prev=85,b.s();case 87:if((g=b.n()).done){e.next=94;break}if(x=g.value,x.id!==f.oi){e.next=92;break}return y=!0,e.abrupt("break",94);case 92:e.next=87;break;case 94:e.next=99;break;case 96:e.prev=96,e.t2=e["catch"](85),b.e(e.t2);case 99:return e.prev=99,b.f(),e.finish(99);case 102:y||(f.shortSymbol=f.symbol.split("USDT")[0],f.profit=((f.sell_price-f.buy_price)/f.buy_price*100).toFixed(2),_.push(f));case 103:e.next=81;break;case 105:e.next=110;break;case 107:e.prev=107,e.t3=e["catch"](79),v.e(e.t3);case 110:return e.prev=110,v.f(),e.finish(110);case 113:for(w in t.tempLast3h)C=w.split("USDT")[0],t.summaryList.push({symbol:w,shortSymbol:C,total:0,createdCount:t.tempLast3h[w].createdCount,pendingCount:t.tempLast3h[w].pendingCount,longPendingCount:t.tempLast3h[w].longPendingCount,shortPendingCount:t.tempLast3h[w].shortPendingCount,longCreatedCount:t.tempLast3h[w].longCreatedCount,shortCreatedCount:t.tempLast3h[w].shortCreatedCount,longFilledCount:t.tempLast3h[w].longFilledCount,shortFilledCount:t.tempLast3h[w].shortFilledCount});t.positions=_,t.getHistories();case 116:case"end":return e.stop()}}),e,null,[[20,61,64,67],[27,49,52,55],[79,107,110,113],[85,96,99,102]])})))()},getHistories:function(){var t=this;return Object(tt["a"])(regeneratorRuntime.mark((function e(){var i,s,n,r,o,a,l,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(i=[],"Bybit"!==t.$route.query.exchange){e.next=7;break}return e.next=4,yt.get("/coin/bybit/tribot/histories");case 4:i=e.sent,e.next=8;break;case 7:"Binance"===t.$route.query.exchange&&console.log("binance");case 8:s=0,n=Object(L["a"])(i);try{for(n.s();!(r=n.n()).done;)o=r.value,s+=o.profit,o.shortSymbol=o.symbol.split("USDT")[0],o.newDate=t.date2str(new Date(o.created_date),"hh:mm"),t.summaryText.lastTime=o.newDate,new Date(o.created_date).getTime(),"Buy"===o.side?t.tempLast3h[o.symbol].buyCount++:t.tempLast3h[o.symbol].sellCount++,"Buy"===o.side?t.summaryText.buyCountTotal++:t.summaryText.sellCountTotal++}catch(c){n.e(c)}finally{n.f()}t.summaryText.profitSum=s,t.$refs.historyView.setHistories(i),a=Object(L["a"])(t.summaryList);try{for(a.s();!(l=a.n()).done;)u=l.value,u.h3BuyCount=t.tempLast3h[u.symbol].buyCount,u.h3SellCount=t.tempLast3h[u.symbol].sellCount,u.total=u.h3BuyCount+u.h3SellCount}catch(c){a.e(c)}finally{a.f()}case 15:case"end":return e.stop()}}),e)})))()},onUpdatedOrder:function(t,e){var i=this.$underscore.clone(e);if("New"===t){i.id=i.id+9999,i.bs=null,i.buy_price=null,i.ss=null,i.sell_price=null;var s=this.$underscore.find(this.summaryList,{symbol:e.symbol});s&&(s.pendingCount++,"Buy"===i.side?s.longPendingCount++:"Sell"===i.side&&s.shortPendingCount++),this.orders.push(i),this.expanded=[]}},clickSnackbarBtn:function(t){"New"===t?this.itemDialog.title="New Item":"Edit"===t?this.itemDialog.title="Edit Item":"Cancel"===t&&(this.itemDialog.title="Cancel Item"),this.itemDialog.show=!0,this.itemDialog.mode=t,this.showSnackBar=!1},clickDialogBtn:function(){var t=this;return Object(tt["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("New"!==t.itemDialog.mode){e.next=8;break}if(console.log(t.editedItem),"Bybit"!==t.$route.query.exchange){e.next=7;break}return e.next=5,yt.post("/coin/bybit/tribot/orders",t.editedItem);case 5:e.next=8;break;case 7:"Binance"===t.$route.query.exchange&&console.log("binance");case 8:t.closeDialog();case 9:case"end":return e.stop()}}),e)})))()},closeDialog:function(){this.itemDialog.show=!1},createOrdersBySymbol:function(t){var e=this.orders.filter((function(e){if(e.symbol===t.symbol)return e}));return e},priceColor:function(t){var e="";return e="Created"===t?"amber lighten-4":"New"===t?"amber lighten-2":"Filled"===t?"blue lighten-3":"PartiallyFilled"===t?"blue lighten-4":"Cancelled"===t?"red lighten-2":"transparent",e},clickSummaryRow:function(t){this.expanded.length&&t.symbol===this.expanded[0].symbol?this.expanded=[]:this.expanded=[t]},date2str:function(t,e){var i={M:t.getMonth()+1,d:t.getDate(),h:t.getHours(),m:t.getMinutes(),s:t.getSeconds()};return e=e.replace(/(M+|d+|h+|m+|s+)/g,(function(t){return((t.length>1?"0":"")+i[t.slice(-1)]).slice(-2)})),e.replace(/(y+)/g,(function(e){return t.getFullYear().toString().slice(-e.length)}))},toFixed:function(t,e){return Number(Number(t).toFixed(e))}}},Vt=Lt,jt=(i("5ee8"),Object(u["a"])(Vt,ct,mt,!1,null,null,null)),Bt=jt.exports;m()(jt,{VBtn:v["a"],VCard:W["a"],VCardActions:st["a"],VCardText:st["b"],VChip:nt["a"],VCol:M["a"],VContainer:h["a"],VDataTable:rt["a"],VDialog:ot["a"],VRow:F["a"],VSpacer:b["a"],VTextField:K["a"]});var Ht=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("v-card",[i("div",[i("small",[t._v("Total : "+t._s(t.summary.totalIncome))])]),i("div",[i("small",[t._v("PERP : "+t._s(t.summary.totalIncomePerp))]),t._v(", "),i("small",[t._v("USDT : "+t._s(t.summary.totalIncomeUsdt))]),t._v(","),i("small",[t._v(" BUSD : "+t._s(t.summary.totalIncomeBusd))])])]),i("div",[i("v-data-table",{attrs:{"mobile-breakpoint":"200","hide-default-footer":"","items-per-page":-1,"group-by":"sg",headers:t.orderHeaders,items:t.orders,"sort-by":["sg","buyPrice"],"sort-desc":[!1,!0],"must-sort":"",dense:""},on:{"click:row":t.clickTableRow},scopedSlots:t._u([{key:"item.symbol",fn:function(e){var s=e.item;return[i("small",[t._v(t._s(s.symbol))])]}},{key:"item.position",fn:function(e){var s=e.item;return[i("v-chip",{staticClass:"pa-1",attrs:{color:t.positionColor(s.position),"x-small":""}},[t._v(t._s(s.position))])]}},{key:"item.percent",fn:function(e){var s=e.item;return[i("v-chip",{staticClass:"pa-1",attrs:{color:t.percentColor(s),"x-small":""}},[t._v(t._s(s.percent))])]}},{key:"item.amt",fn:function(e){var s=e.item;return[i("small",[t._v(t._s(s.amt))])]}},{key:"item.status",fn:function(e){var s=e.item;return[i("small",[t._v(t._s(s.status))])]}},{key:"item.buyPrice",fn:function(e){var s=e.item;return[i("small",[t._v(t._s(s.buyPrice))])]}},{key:"item.markPrice",fn:function(e){var s=e.item;return[i("small",[t._v(t._s(s.markPrice))])]}},{key:"item.sell_percent",fn:function(e){var s=e.item;return[i("small",[t._v(t._s(s.sell_percent))])]}}])})],1),i("v-dialog",{attrs:{width:"500"},model:{value:t.showDialog,callback:function(e){t.showDialog=e},expression:"showDialog"}},[i("v-card",[i("v-card-title",{staticClass:"grey lighten-2",attrs:{dense:""}},[t._v(" New ")]),i("v-row",{staticClass:"mt-5 ml-5 mr-5"},[i("v-col",{staticClass:"mt-0 pt-0 mb-0 pb-0",attrs:{cols:"4"}},[i("small",[t._v(t._s(t.selectedItem.symbol)+" ")])]),i("v-col",{staticClass:"mt-0 pt-0 mb-0 pb-0",attrs:{cols:"4"}},[i("v-btn",{staticClass:"rounded-r-0",attrs:{depressed:"","x-small":"",color:"LONG"===t.selectedItem.position?"green lighten-3":null},on:{click:function(e){t.selectedItem.position="LONG"}}},[i("small",[t._v("LONG")])]),i("v-btn",{staticClass:"rounded-l-0",attrs:{depressed:"","x-small":"",color:"SHORT"===t.selectedItem.position?"red lighten-3":null},on:{click:function(e){t.selectedItem.position="SHORT"}}},[i("small",[t._v("SHORT")])])],1),i("v-col",{staticClass:"mt-0 pt-0 mb-0 pb-0",attrs:{cols:"4"}},[i("v-text-field",{attrs:{label:"amt"},model:{value:t.selectedItem.amt,callback:function(e){t.$set(t.selectedItem,"amt",e)},expression:"selectedItem.amt"}})],1)],1),i("v-row",{staticClass:"mt-5 ml-5 mr-5"},[i("v-col",{staticClass:"mt-0 pt-0 mb-0 pb-0",attrs:{cols:"4"}},[i("v-text-field",{attrs:{label:"sell_percent"},model:{value:t.selectedItem.sell_percent,callback:function(e){t.$set(t.selectedItem,"sell_percent",e)},expression:"selectedItem.sell_percent"}})],1)],1),i("v-divider"),i("v-card-actions",[i("v-spacer"),i("v-btn",{staticClass:"ma-2 mr-5",attrs:{depressed:"",color:"red lighten-2",small:""},on:{click:function(e){return t.clickDeleteOrder(t.selectedItem)}}},[t._v(" Delete ")]),i("v-btn",{staticClass:"ma-2",attrs:{depressed:"",color:"primary lighten-1",small:""},on:{click:function(e){return t.clickAddNewOrder(t.selectedItem)}}},[t._v(" Add new order ")])],1)],1)],1)],1)},Wt=[],Mt=(i("caad"),i("2532"),{name:"Mulbot",components:{},data:function(){return{showDialog:!1,orderHeaders:[{text:"",value:"sg"},{text:"symbol",value:"symbol"},{text:"position",value:"position"},{text:"percent",value:"percent"},{text:"status",value:"status"},{text:"price",value:"price"},{text:"amt",value:"amt"},{text:"buyPrice",value:"buyPrice"},{text:"markPrice",value:"markPrice"},{text:"sellPercent",value:"sell_percent"}],selectedItem:{},summary:{totalIncomeBusd:0,totalIncomeUsdt:0,totalIncomePerp:0},orders:[],symbolSummary:{}}},computed:{},watch:{},created:function(){this.initWorker()},methods:{initWorker:function(){var t=this;return Object(tt["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.getHistories();case 2:return e.next=4,t.getOrderList();case 4:case"end":return e.stop()}}),e)})))()},getHistories:function(){var t=this;return Object(tt["a"])(regeneratorRuntime.mark((function e(){var i,s,n,r,o,a,l,u,c,m,d,p,_,v,h,f,y,b;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=0,s=0,n=0,e.next=5,yt.get("/coin/binance/tribot/histories");case 5:r=e.sent,o=Object(L["a"])(r);try{for(o.s();!(a=o.n()).done;)l=a.value,u=l.symbol.substr(-4),"BUSD"===u?(c=0,"LONG"===l.position?(m=100*(l.sell_price/l.buy_price-1),c=l.buy_price*l.amt*m*.01):(d=100*(l.buy_price/l.sell_price-1),c=l.buy_price*l.amt*d*.01),i+=c):"USDT"===u?(p=0,"LONG"===l.position?(_=100*(l.sell_price/l.buy_price-1),p=l.buy_price*l.amt*_*.01):(v=100*(l.buy_price/l.sell_price-1),p=l.buy_price*l.amt*v*.01),s+=p):"PERP"===u&&(h=0,f=0,f="BTCUSD_PERP"===l.symbol?100:10,"LONG"===l.position?(y=100*(l.sell_price/l.buy_price-1),h=f*y*.01):(b=100*(l.buy_price/l.sell_price-1),h=f*b*.01),n+=h)}catch(g){o.e(g)}finally{o.f()}t.summary.totalIncomeUsdt=Number(s.toFixed(1)),t.summary.totalIncomeBusd=Number(i.toFixed(1)),t.summary.totalIncomePerp=Number(n.toFixed(1)),t.summary.totalIncome=(s+i+n).toFixed(1);case 12:case"end":return e.stop()}}),e)})))()},getOrderList:function(){var t=this;return Object(tt["a"])(regeneratorRuntime.mark((function e(){var i,s,n,r,o,a,l,u,c,m,d,p,_,v,h;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,yt.get("/coin/binance/tribot/orders");case 2:return i=e.sent,e.next=5,yt.get("/coin/binance/tribot/positions");case 5:return s=e.sent,e.next=8,yt.get("/coin/binance/tribot/positions/risk");case 8:n=e.sent,r=Object(L["a"])(i);try{for(r.s();!(o=r.n()).done;)a=o.value,void 0===t.symbolSummary[a.symbol]&&(t.symbolSummary[a.symbol]={minPrice:999999,maxPrice:0,nowPrice:0,name:a.symbol,data:[],data2:{}})}catch(f){r.e(f)}finally{r.f()}l=Object(L["a"])(i);try{for(l.s();!(u=l.n()).done;)c=u.value,m=t.$underscore.find(s,{tribot_order_id:c.id}),d=t.$underscore.find(n,{symbol:c.symbol}),c.symbol.includes("BTC")?c.sg="01BTC":c.symbol.includes("ETH")?c.sg="02ETH":c.symbol.includes("BNB")?c.sg="05BNB":c.symbol.includes("XRP")?c.sg="06XRP":c.symbol.includes("ADA")?c.sg="08ADA":c.symbol.includes("DOT")?c.sg="11DOT":c.symbol.includes("TRX")?c.sg="15TRX":c.symbol.includes("LTC")?c.sg="18LTC":c.symbol.includes("MATIC")?c.sg="21MATIC":c.symbol.includes("BCH")?c.sg="24BCH":c.symbol.includes("LINK")?c.sg="25LINK":c.symbol.includes("NEAR")?c.sg="23NEAR":c.symbol.includes("XLM")?c.sg="26XLM":c.symbol.includes("ALGO")?c.sg="28ALGO":c.symbol.includes("ATOM")?c.sg="29ATOM":c.symbol.includes("XMR")?c.sg="31XMR":c.symbol.includes("ETC")?c.sg="32ETC":c.symbol.includes("HBAR")?c.sg="35HBAR":c.symbol.includes("DOGE")?c.sg="10DOGE":c.symbol.includes("MKR")?c.sg="53MKR":c.symbol.includes("AVAX")?c.sg="14AVAX":c.symbol.includes("EGLD")?c.sg="36EGLD":c.symbol.includes("XTZ")?c.sg="46XTZ":c.symbol.includes("DASH")?c.sg="91DASH":c.symbol.includes("IOTA")?c.sg="66IOTA":c.symbol.includes("VET")?c.sg="37VET":c.symbol.includes("SC")?c.sg="163SC":c.symbol.includes("1INCH")?c.sg="z124INCH":c.symbol.includes("OMG")?c.sg="z129OMG":c.symbol.includes("ZEN")&&(c.sg="z168ZEN"),void 0!==m?(c.buyPrice=m.buy_price,null===m.sell_order_code?c.status=m.buy_order_status:c.status=m.sell_order_code,t.symbolSummary[c.symbol].status=c.status,t.symbolSummary[c.symbol].position=c.position):c.status="-",d&&(p=Number(d.markPrice),t.symbolSummary[c.symbol].minPrice>c.buyPrice&&(t.symbolSummary[c.symbol].minPrice=c.buyPrice),t.symbolSummary[c.symbol].maxPrice<c.buyPrice&&(t.symbolSummary[c.symbol].maxPrice=c.buyPrice),t.symbolSummary[c.symbol].minPrice>p&&(t.symbolSummary[c.symbol].minPrice=p),t.symbolSummary[c.symbol].nowPrice=p,"LONG"===c.position?(_=100*(p/c.buyPrice-1),c.percent=_):"SHORT"===c.position&&(v=100*(c.buyPrice/p-1),c.percent=v),c.percent=c.percent.toFixed(1),isNaN(c.percent)&&(c.percent=""),t.symbolSummary[c.symbol].percent=c.percent,c.symbol.includes("BTC")||c.symbol.includes("ETH")?c.markPrice=p.toFixed(0):c.symbol.includes("BNB")?c.markPrice=p.toFixed(1):c.symbol.includes("XRP")?c.markPrice=p.toFixed(3):c.symbol.includes("BCH")?c.markPrice=p.toFixed(1):c.symbol.includes("MKR")&&(c.markPrice=p.toFixed(0)),h=c.amt,"BTCUSD_PERP"===c.symbol?h=.0034:"ETHUSD_PERP"===c.symbol?h=.005:"BNBUSD_PERP"===c.symbol?h=.0338:"XRPUSD_PERP"===c.symbol?h=24:"ADAUSD_PERP"===c.symbol?h=18.7:"DOTUSD_PERP"===c.symbol?h=.992:"TRXUSD_PERP"===c.symbol?h=143.3:"LTCUSD_PERP"===c.symbol?h=.145:"MATICUSD_PERP"===c.symbol&&(h=14.89),c.price=(h*p).toFixed(1))}catch(f){l.e(f)}finally{l.f()}t.orders=i;case 14:case"end":return e.stop()}}),e)})))()},clickTableRow:function(t){console.log("clickTableRow"),this.showDialog=!0,this.selectedItem=t,console.log(t)},clickAddNewOrder:function(t){var e=this;return Object(tt["a"])(regeneratorRuntime.mark((function i(){return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(!t){i.next=6;break}return i.next=3,yt.post("/coin/binance/tribot/orders",t);case 3:i.sent,e.getOrderList(),e.showDialog=!1;case 6:case"end":return i.stop()}}),i)})))()},clickDeleteOrder:function(t){var e=this;return Object(tt["a"])(regeneratorRuntime.mark((function i(){return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if("FILLED"===t.status){i.next=5;break}return i.next=3,yt.delete("/coin/binance/tribot/orders/"+t.id);case 3:e.getOrderList(),e.showDialog=!1;case 5:case"end":return i.stop()}}),i)})))()},priceColor:function(t){var e="";return e="Created"===t?"amber lighten-4":"New"===t?"amber lighten-2":"Filled"===t?"blue lighten-3":"PartiallyFilled"===t?"blue lighten-4":"Cancelled"===t?"red lighten-2":"transparent",e},positionColor:function(t){var e="";return"LONG"===t?e="green lighten-5":"SHORT"===t&&(e="red lighten-5"),e},percentColor:function(t){var e="white lighten-3";return t.percent>t.sell_percent?e="green lighten-2":t.percent>.5?e="green lighten-3":t.percent>.3?e="green lighten-4":t.percent>0?e="green lighten-5":t.percent<-1?e="red lighten-5":t.percent>-1&&t.percent<0&&(e="red lighten-4"),e},date2str:function(t,e){var i={M:t.getMonth()+1,d:t.getDate(),h:t.getHours(),m:t.getMinutes(),s:t.getSeconds()};return e=e.replace(/(M+|d+|h+|m+|s+)/g,(function(t){return((t.length>1?"0":"")+i[t.slice(-1)]).slice(-2)})),e.replace(/(y+)/g,(function(e){return t.getFullYear().toString().slice(-e.length)}))},toFixed:function(t,e){return Number(Number(t).toFixed(e))}}}),Et=Mt,$t=(i("9a11"),Object(u["a"])(Et,Ht,Wt,!1,null,null,null)),Gt=$t.exports;m()($t,{VBtn:v["a"],VCard:W["a"],VCardActions:st["a"],VCardTitle:st["c"],VChip:nt["a"],VCol:M["a"],VDataTable:rt["a"],VDialog:ot["a"],VDivider:Ot["a"],VRow:F["a"],VSpacer:b["a"],VTextField:K["a"]});var qt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("canvas-view",{ref:"canvasView"}),i("v-dialog",{attrs:{width:"500"},model:{value:t.showDialog,callback:function(e){t.showDialog=e},expression:"showDialog"}},[i("v-card",[i("v-card-title",{staticClass:"grey lighten-2",attrs:{dense:""}},[t._v(" New ")]),i("v-row",{staticClass:"mt-5 ml-5 mr-5"},[i("v-col",{staticClass:"mt-0 pt-0 mb-0 pb-0",attrs:{cols:"4"}},[i("small",[t._v(t._s(t.selectedItem.symbol)+" ")])]),i("v-col",{staticClass:"mt-0 pt-0 mb-0 pb-0",attrs:{cols:"4"}},[i("v-btn",{staticClass:"rounded-r-0",attrs:{depressed:"","x-small":"",color:"LONG"===t.selectedItem.position?"green lighten-3":null},on:{click:function(e){t.selectedItem.position="LONG"}}},[i("small",[t._v("LONG")])]),i("v-btn",{staticClass:"rounded-l-0",attrs:{depressed:"","x-small":"",color:"SHORT"===t.selectedItem.position?"red lighten-3":null},on:{click:function(e){t.selectedItem.position="SHORT"}}},[i("small",[t._v("SHORT")])])],1),i("v-col",{staticClass:"mt-0 pt-0 mb-0 pb-0",attrs:{cols:"4"}},[i("v-text-field",{attrs:{label:"amt"},model:{value:t.selectedItem.amt,callback:function(e){t.$set(t.selectedItem,"amt",e)},expression:"selectedItem.amt"}})],1)],1),i("v-row",{staticClass:"mt-5 ml-5 mr-5"},[i("v-col",{staticClass:"mt-0 pt-0 mb-0 pb-0",attrs:{cols:"4"}},[i("v-text-field",{attrs:{label:"sell_percent"},model:{value:t.selectedItem.sell_percent,callback:function(e){t.$set(t.selectedItem,"sell_percent",e)},expression:"selectedItem.sell_percent"}})],1)],1),i("v-divider"),i("v-card-actions",[i("v-spacer"),i("v-btn",{staticClass:"ma-2 mr-5",attrs:{depressed:"",color:"red lighten-2",small:""},on:{click:function(e){return t.clickDeleteOrder(t.selectedItem)}}},[t._v(" Delete ")]),i("v-btn",{staticClass:"ma-2",attrs:{depressed:"",color:"primary lighten-1",small:""},on:{click:function(e){return t.clickAddNewOrder(t.selectedItem)}}},[t._v(" Add new order ")])],1)],1)],1)],1)},zt=[],Xt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.isLoaded?i("div",[t._v(" sea of tribot "),t._l(t.tiers,(function(e,s){return i("v-row",{key:s,attrs:{"no-gutters":""}},[i("v-card",{attrs:{outlined:""}},[i("v-stage",{attrs:{config:t.configKonva}},[i("v-layer",{ref:"defaultLayer",refInFor:!0},[t._l(e.priceTexts,(function(t,e){return i("v-text",{key:"item"+e,attrs:{config:t}})})),t._l(e.cols,(function(e,s){return i("v-group",{key:s},t._l(e,(function(s,n){return i("v-group",{key:n},[0===n?i("v-text",{attrs:{config:s.symbolText}}):t._e(),s.positionCircle?i("v-circle",{attrs:{config:s.positionCircle},on:{click:function(e){return t.clickPositionCircle(s)}}}):t._e(),t.showPositionText(s,n,e.length)?i("v-text",{attrs:{config:s.positionText}}):s.nowPriceRect?i("v-rect",{attrs:{config:s.nowPriceRect}}):t._e()],1)})),1)}))],2)],1)],1)],1)}))],2):t._e()},Kt=[],Jt=(i("99af"),-4),Yt=380,Zt=window.innerWidth-15,Qt=new(function(){function t(){Object(_t["a"])(this,t)}return Object(vt["a"])(t,[{key:"getCanvasHeight",value:function(){return Yt}},{key:"initTiers",value:function(t){var e,i=Object(L["a"])(t);try{for(i.s();!(e=i.n()).done;){var s=e.value;s.maxPrice=0,s.maxPrice=0,s.minPrice=999999,s.addedCount=0,s.priceTexts=[],s.cols=[]}}catch(n){i.e(n)}finally{i.f()}}},{key:"updateTierMinMax",value:function(t,e){for(var i in e){var s=this.findTier(t,i);s&&(s.minPrice>e[i].minPrice&&(s.minPrice=e[i].minPrice),s.maxPrice<e[i].maxPrice&&(s.maxPrice=e[i].maxPrice))}}},{key:"findTier",value:function(t,e){var i,s=Object(L["a"])(t);try{for(s.s();!(i=s.n()).done;){var n,r=i.value,o=Object(L["a"])(r.symbols);try{for(o.s();!(n=o.n()).done;){var a=n.value;if(e===a)return r}}catch(l){o.e(l)}finally{o.f()}}}catch(l){s.e(l)}finally{s.f()}}},{key:"getXIndex",value:function(t,e){for(var i=Zt/5,s=Zt/4,n=0,r=0;r<t.length;r++)t[r]===e&&(n=r);return i+s*n}},{key:"calYindex",value:function(t,e,i){var s=i-t,n=e-t,r=50,o=32,a=Yt-r,l=Number((s/n*a).toFixed(1));return l=a-l+o,(void 0===i||isNaN(l))&&(l=19),l}},{key:"createPriceText",value:function(t,e){return{x:3,y:t+Jt,text:"".concat(e),width:60,height:1,fontSize:10}}},{key:"createNowPriceRect",value:function(t,e){return{x:t,y:e,width:30,height:1.2,opacity:.7,fill:"black"}}},{key:"createPositionCircle",value:function(t,e,i){var s="LONG"===i.position?"green":"red",n=3;return"FILLED"!==i.status&&(s="LONG"===i.position?"blue":"orange",n=4),{x:t,y:e,radius:n,fill:s,opacity:.7}}},{key:"createPositionText",value:function(t,e,i){var s="".concat(Number(i.percent).toFixed(0)," / ").concat(i.sell_percent);return"FILLED"!==i.status&&(s="".concat(i.sell_percent)),{x:t+6,y:e+Jt,text:s,width:50,height:20,fontSize:10}}},{key:"createSymbolText",value:function(t,e){return{x:t-5,y:-1,text:"".concat(e),width:90,height:20,fontSize:11}}},{key:"getColIndex",value:function(t,e){for(var i=0,s=0;s<t.length;s++)t[s]===e&&(i=s);return i}}]),t}()),te={name:"Mulbot",components:{},data:function(){return{configKonva:{width:575,height:Qt.getCanvasHeight(),x:0,y:7},tiers:[{symbols:["BTCUSDT","BTCBUSD","BTCUSD_PERP"],priceDiv:5},{symbols:["ETHUSDT","ETHBUSD","ETHUSD_PERP"],priceDiv:12},{symbols:["MKRUSDT"],priceDiv:12},{symbols:["BNBUSDT","BNBBUSD","BNBUSD_PERP"],priceDiv:11},{symbols:["BCHUSDT","BCHBUSD","BCHUSD_PERP"],priceDiv:5},{symbols:["LTCUSDT","LTCUSD_PERP","DASHUSDT"],priceDiv:13},{symbols:["EGLDUSDT"],priceDiv:13},{symbols:["AVAXBUSD","ETCUSDT","ZENUSDT"],priceDiv:10},{symbols:["DOTUSDT","DOTUSD_PERP","ATOMUSDT"],priceDiv:18},{symbols:["LINKUSDT","NEARBUSD"],priceDiv:18},{symbols:["XTZUSDT","OMGUSDT"],priceDiv:7},{symbols:["ADAUSDT","ADABUSD","ADAUSD_PERP"],priceDiv:10},{symbols:["MATICUSDT","MATICUSD_PERP","1INCHUSDT"],priceDiv:10},{symbols:["XRPUSDT","XRPBUSD","XRPUSD_PERP"],priceDiv:10},{symbols:["ALGOUSDT","IOTAUSDT"],priceDiv:10},{symbols:["XLMUSDT"],priceDiv:10},{symbols:["DOGEBUSD","DOGEUSD_PERP","TRXUSD_PERP"],priceDiv:15},{symbols:["HBARUSDT"],priceDiv:15},{symbols:["VETUSDT"],priceDiv:10},{symbols:["SCUSDT"],priceDiv:10}],isLoaded:!1}},computed:{},watch:{},created:function(){var t=window.innerWidth;this.configKonva.width=t-15,console.log(t),Qt.initTiers(this.tiers)},methods:{createChartData:function(t,e){var i=this;Qt.updateTierMinMax(this.tiers,e),this.isLoaded=!1;var s,n=Object(L["a"])(t);try{for(n.s();!(s=n.n()).done;){var r=s.value,o=Qt.findTier(this.tiers,r.symbol);if(o){var a=Qt.getXIndex(o.symbols,r.symbol),l=Qt.calYindex(o.minPrice,o.maxPrice,r.buyPrice),u="LONG"===r.position?a:a+5;e[r.symbol].data.push({type:"position",status:r.status,symbol:r.symbol,positionCircle:Qt.createPositionCircle(u,l,r),positionText:Qt.createPositionText(u,l,r),symbolText:Qt.createSymbolText(a,r.symbol)}),(o.addedCount%o.priceDiv===0||0===o.addedCount)&&o.priceTexts.push(Qt.createPriceText(l,r.buyPrice)),o.addedCount++}}}catch(_){n.e(_)}finally{n.f()}for(var c in e){var m=Qt.findTier(this.tiers,c);if(m){var d=Qt.getXIndex(m.symbols,c),p=Qt.calYindex(m.minPrice,m.maxPrice,e[c].nowPrice);d-=5,e[c].data.push({type:"nowPrice",nowPriceRect:Qt.createNowPriceRect(d,p)}),0===Qt.getColIndex(m.symbols,c)&&m.priceTexts.push(Qt.createPriceText(p,this.toFixed(e[c].nowPrice,2))),e[c].data.sort((function(t,e){if(t.positionCircle)return t.positionCircle.y-e.positionCircle.y})),m.cols.push(e[c].data)}}setTimeout((function(){i.isLoaded=!0}),500),console.log(e),console.log(this.tiers)},clickPositionCircle:function(t){console.log("sss"),console.log(t),window.alert("Hello world!")},showPositionText:function(t,e,i){return t.positionText&&(e%3===1||0===e||e===i-2||"FILLED"!==t.status)},toFixed:function(t,e){return Number(Number(t).toFixed(e))}}},ee=te,ie=Object(u["a"])(ee,Xt,Kt,!1,null,null,null),se=ie.exports;m()(ie,{VCard:W["a"],VRow:F["a"]});var ne={name:"Mulbot",components:{CanvasView:se},data:function(){return{showDialog:!1,orderHeaders:[{text:"",value:"sg"},{text:"symbol",value:"symbol"},{text:"position",value:"position"},{text:"percent",value:"percent"},{text:"status",value:"status"},{text:"price",value:"price"},{text:"amt",value:"amt"},{text:"buyPrice",value:"buyPrice"},{text:"markPrice",value:"markPrice"},{text:"sellPercent",value:"sell_percent"}],selectedItem:{},summary:{totalIncomeBusd:0,totalIncomeUsdt:0,totalIncomePerp:0},orders:[],symbolSummary:{}}},computed:{},watch:{},created:function(){this.initWorker()},methods:{initWorker:function(){var t=this;return Object(tt["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.getHistories();case 2:return e.next=4,t.getOrderList();case 4:t.$refs.canvasView.createChartData(t.orders,t.symbolSummary);case 5:case"end":return e.stop()}}),e)})))()},getHistories:function(){var t=this;return Object(tt["a"])(regeneratorRuntime.mark((function e(){var i,s,n,r,o,a,l,u,c,m,d,p,_,v,h,f,y,b;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=0,s=0,n=0,e.next=5,yt.get("/coin/binance/tribot/histories");case 5:r=e.sent,o=Object(L["a"])(r);try{for(o.s();!(a=o.n()).done;)l=a.value,u=l.symbol.substr(-4),"BUSD"===u?(c=0,"LONG"===l.position?(m=100*(l.sell_price/l.buy_price-1),c=l.buy_price*l.amt*m*.01):(d=100*(l.buy_price/l.sell_price-1),c=l.buy_price*l.amt*d*.01),i+=c):"USDT"===u?(p=0,"LONG"===l.position?(_=100*(l.sell_price/l.buy_price-1),p=l.buy_price*l.amt*_*.01):(v=100*(l.buy_price/l.sell_price-1),p=l.buy_price*l.amt*v*.01),s+=p):"PERP"===u&&(h=0,f=0,f="BTCUSD_PERP"===l.symbol?100:10,"LONG"===l.position?(y=100*(l.sell_price/l.buy_price-1),h=f*y*.01):(b=100*(l.buy_price/l.sell_price-1),h=f*b*.01),n+=h)}catch(g){o.e(g)}finally{o.f()}t.summary.totalIncomeUsdt=Number(s.toFixed(1)),t.summary.totalIncomeBusd=Number(i.toFixed(1)),t.summary.totalIncomePerp=Number(n.toFixed(1)),t.summary.totalIncome=(s+i+n).toFixed(1);case 12:case"end":return e.stop()}}),e)})))()},getOrderList:function(){var t=this;return Object(tt["a"])(regeneratorRuntime.mark((function e(){var i,s,n,r,o,a,l,u,c,m,d,p,_,v,h;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,yt.get("/coin/binance/tribot/orders");case 2:return i=e.sent,e.next=5,yt.get("/coin/binance/tribot/positions");case 5:return s=e.sent,e.next=8,yt.get("/coin/binance/tribot/positions/risk");case 8:n=e.sent,r=Object(L["a"])(i);try{for(r.s();!(o=r.n()).done;)a=o.value,void 0===t.symbolSummary[a.symbol]&&(t.symbolSummary[a.symbol]={minPrice:999999,maxPrice:0,nowPrice:0,name:a.symbol,data:[],data2:{}})}catch(f){r.e(f)}finally{r.f()}l=Object(L["a"])(i);try{for(l.s();!(u=l.n()).done;)c=u.value,m=t.$underscore.find(s,{tribot_order_id:c.id}),d=t.$underscore.find(n,{symbol:c.symbol}),c.symbol.includes("BTC")?c.sg="01BTC":c.symbol.includes("ETH")?c.sg="02ETH":c.symbol.includes("BNB")?c.sg="05BNB":c.symbol.includes("XRP")?c.sg="06XRP":c.symbol.includes("ADA")?c.sg="08ADA":c.symbol.includes("DOT")?c.sg="11DOT":c.symbol.includes("TRX")?c.sg="15TRX":c.symbol.includes("LTC")?c.sg="18LTC":c.symbol.includes("MATIC")?c.sg="21MATIC":c.symbol.includes("BCH")?c.sg="24BCH":c.symbol.includes("LINK")?c.sg="25LINK":c.symbol.includes("NEAR")?c.sg="23NEAR":c.symbol.includes("XLM")?c.sg="26XLM":c.symbol.includes("ALGO")?c.sg="28ALGO":c.symbol.includes("ATOM")?c.sg="29ATOM":c.symbol.includes("XMR")?c.sg="31XMR":c.symbol.includes("ETC")?c.sg="32ETC":c.symbol.includes("HBAR")?c.sg="35HBAR":c.symbol.includes("DOGE")?c.sg="10DOGE":c.symbol.includes("MKR")?c.sg="53MKR":c.symbol.includes("AVAX")?c.sg="14AVAX":c.symbol.includes("EGLD")?c.sg="36EGLD":c.symbol.includes("XTZ")?c.sg="46XTZ":c.symbol.includes("DASH")?c.sg="91DASH":c.symbol.includes("IOTA")?c.sg="66IOTA":c.symbol.includes("VET")?c.sg="37VET":c.symbol.includes("SC")?c.sg="163SC":c.symbol.includes("1INCH")?c.sg="z124INCH":c.symbol.includes("OMG")?c.sg="z129OMG":c.symbol.includes("ZEN")&&(c.sg="z168ZEN"),void 0!==m?(c.buyPrice=m.buy_price,null===m.sell_order_code?c.status=m.buy_order_status:c.status=m.sell_order_code,t.symbolSummary[c.symbol].status=c.status,t.symbolSummary[c.symbol].position=c.position):c.status="-",d&&(p=Number(d.markPrice),t.symbolSummary[c.symbol].minPrice>c.buyPrice&&(t.symbolSummary[c.symbol].minPrice=c.buyPrice),t.symbolSummary[c.symbol].maxPrice<c.buyPrice&&(t.symbolSummary[c.symbol].maxPrice=c.buyPrice),t.symbolSummary[c.symbol].minPrice>p&&(t.symbolSummary[c.symbol].minPrice=p),t.symbolSummary[c.symbol].nowPrice=p,"LONG"===c.position?(_=100*(p/c.buyPrice-1),c.percent=_):"SHORT"===c.position&&(v=100*(c.buyPrice/p-1),c.percent=v),c.percent=c.percent.toFixed(1),isNaN(c.percent)&&(c.percent=""),t.symbolSummary[c.symbol].percent=c.percent,c.symbol.includes("BTC")||c.symbol.includes("ETH")?c.markPrice=p.toFixed(0):c.symbol.includes("BNB")?c.markPrice=p.toFixed(1):c.symbol.includes("XRP")?c.markPrice=p.toFixed(3):c.symbol.includes("BCH")?c.markPrice=p.toFixed(1):c.symbol.includes("MKR")&&(c.markPrice=p.toFixed(0)),h=c.amt,"BTCUSD_PERP"===c.symbol?h=.0034:"ETHUSD_PERP"===c.symbol?h=.005:"BNBUSD_PERP"===c.symbol?h=.0338:"XRPUSD_PERP"===c.symbol?h=24:"ADAUSD_PERP"===c.symbol?h=18.7:"DOTUSD_PERP"===c.symbol?h=.992:"TRXUSD_PERP"===c.symbol?h=143.3:"LTCUSD_PERP"===c.symbol?h=.145:"MATICUSD_PERP"===c.symbol&&(h=14.89),c.price=(h*p).toFixed(1))}catch(f){l.e(f)}finally{l.f()}t.orders=i;case 14:case"end":return e.stop()}}),e)})))()},clickTableRow:function(t){console.log("clickTableRow"),this.showDialog=!0,this.selectedItem=t,console.log(t)},clickAddNewOrder:function(t){var e=this;return Object(tt["a"])(regeneratorRuntime.mark((function i(){return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(!t){i.next=6;break}return i.next=3,yt.post("/coin/binance/tribot/orders",t);case 3:i.sent,e.getOrderList(),e.showDialog=!1;case 6:case"end":return i.stop()}}),i)})))()},clickDeleteOrder:function(t){var e=this;return Object(tt["a"])(regeneratorRuntime.mark((function i(){return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if("FILLED"===t.status){i.next=5;break}return i.next=3,yt.delete("/coin/binance/tribot/orders/"+t.id);case 3:e.getOrderList(),e.showDialog=!1;case 5:case"end":return i.stop()}}),i)})))()},priceColor:function(t){var e="";return e="Created"===t?"amber lighten-4":"New"===t?"amber lighten-2":"Filled"===t?"blue lighten-3":"PartiallyFilled"===t?"blue lighten-4":"Cancelled"===t?"red lighten-2":"transparent",e},positionColor:function(t){var e="";return"LONG"===t?e="green lighten-5":"SHORT"===t&&(e="red lighten-5"),e},percentColor:function(t){var e="white lighten-3";return t.percent>t.sell_percent?e="green lighten-2":t.percent>.5?e="green lighten-3":t.percent>.3?e="green lighten-4":t.percent>0?e="green lighten-5":t.percent<-1?e="red lighten-5":t.percent>-1&&t.percent<0&&(e="red lighten-4"),e},date2str:function(t,e){var i={M:t.getMonth()+1,d:t.getDate(),h:t.getHours(),m:t.getMinutes(),s:t.getSeconds()};return e=e.replace(/(M+|d+|h+|m+|s+)/g,(function(t){return((t.length>1?"0":"")+i[t.slice(-1)]).slice(-2)})),e.replace(/(y+)/g,(function(e){return t.getFullYear().toString().slice(-e.length)}))},toFixed:function(t,e){return Number(Number(t).toFixed(e))}}},re=ne,oe=(i("7772"),Object(u["a"])(re,qt,zt,!1,null,null,null)),ae=oe.exports;m()(oe,{VBtn:v["a"],VCard:W["a"],VCardActions:st["a"],VCardTitle:st["c"],VCol:M["a"],VDialog:ot["a"],VDivider:Ot["a"],VRow:F["a"],VSpacer:b["a"],VTextField:K["a"]});var le=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t.user?i("div",[i("h3",{staticClass:"mb-3"},[t._v(t._s(t.user.bot_name))]),t._v(" "+t._s(t.user.config)+" ")]):t._e(),i("v-row",[i("v-col",{staticClass:"pr-0",attrs:{cols:"8"}},[i("v-text-field",{attrs:{color:"grey",label:"Amount",outlined:"",dense:"",type:"number"},model:{value:t.configModel.amt,callback:function(e){t.$set(t.configModel,"amt",e)},expression:"configModel.amt"}})],1),i("v-col",{attrs:{cols:"4"}},[i("v-btn",{attrs:{depressed:"",small:"",color:"grey lighten-2"},on:{click:function(e){return t.clickSaveAmt()}}},[t._v(" save ")])],1)],1),i("div",{staticClass:"mt-12"},[t._v("Strategy")]),i("v-data-table",{attrs:{"mobile-breakpoint":"200","hide-default-footer":"","items-per-page":-1,headers:t.strategyHeaders,items:t.strategies,dense:""},scopedSlots:t._u([{key:"item.position",fn:function(e){var s=e.item;return[i("v-chip",{staticClass:"pa-1",attrs:{color:t.sideColor(s.position),"x-small":""}},[t._v(t._s(s.position))])]}}])})],1)},ue=[],ce=new(function(){function t(){Object(_t["a"])(this,t)}return Object(vt["a"])(t,[{key:"getUser",value:function(t){return new Promise((function(e,i){ft.a.get("".concat("https://variouscafe.cafe24.com:8885","/pish/telegram/users/").concat(t)).then((function(t){e(t.data)})).catch((function(t){e(null)}))}))}},{key:"getTest",value:function(){}}]),t}()),me={name:"Mulbot",components:{},data:function(){return{strategyHeaders:[{text:"",value:"symbol"},{text:"Position",value:"position"},{text:"Status",value:"order_status"},{text:"Amt",value:"amt"},{text:"Price",value:"price"},{text:"Contracts",value:"contracts"},{text:"Size",value:"size"},{text:"Frame",value:"frame"},{text:"Action",value:"action"},{text:"Date",value:"date",width:"95"}],strategies:[],positions:[],configModel:{},user:{}}},computed:{},watch:{},created:function(){this.init()},methods:{init:function(){var t=this;return Object(tt["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log(t.$route.query.bot_name),e.next=3,t.getUser();case 3:return e.next=5,t.getPositions();case 5:case"end":return e.stop()}}),e)})))()},getPositions:function(){var t=this;return Object(tt["a"])(regeneratorRuntime.mark((function e(){var i,s,n,r,o,a,l,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.getStrategies();case 2:return i=e.sent,s="/coin/bot/rangebot/positions?telegram_id=".concat(t.$store.state.telegramId,"&bot_name=").concat(t.user.bot_name),e.next=6,t.requestGet("https://variouscafe.cafe24.com:8885"+s);case 6:n=e.sent,t.positions=n,r=[],o=Object(L["a"])(i);try{for(o.s();!(a=o.n()).done;)l=a.value,l.frame===t.user.frame&&(u=t.$underscore.find(n,{tradingview_id:l.id}),u&&(l.amt=u.amt,l.position=u.position.replace("_Switching","(S)"),l.price=u.price,l.order_status=u.order_status),l.date=t.date2str(new Date(l.created_date),"MM-dd hh:mm"),r.push(l))}catch(c){o.e(c)}finally{o.f()}t.strategies=r;case 12:case"end":return e.stop()}}),e)})))()},getStrategies:function(){var t=this;return Object(tt["a"])(regeneratorRuntime.mark((function e(){var i,s,n,r,o,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i="","Rangebot"===t.user.bot_name?i="RANGEFILTER":"Cscalper"===t.user.bot_name?i="CRYPTOSCALPER":"MacdEma"===t.user.bot_name&&(i="MacdEma"),s="/coin/bot/rangebot/orders?indicator=".concat(i),e.next=5,t.requestGet("https://variouscafe.cafe24.com:8885"+s);case 5:n=e.sent,r=Object(L["a"])(n);try{for(r.s();!(o=r.n()).done;)a=o.value,a.date=t.date2str(new Date(a.created_date),"MM-dd hh:mm")}catch(l){r.e(l)}finally{r.f()}return e.abrupt("return",n);case 9:case"end":return e.stop()}}),e)})))()},getUser:function(){var t=this;return Object(tt["a"])(regeneratorRuntime.mark((function e(){var i,s,n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,ce.getUser(t.$store.state.telegramId);case 2:i=e.sent,s=Object(L["a"])(i);try{for(s.s();!(n=s.n()).done;)r=n.value,r.bot_name===t.$route.query.bot_name&&r.exchange===t.$route.query.exchange&&r.frame===t.$route.query.frame&&(r.config=JSON.parse(r.config),t.user=r)}catch(o){s.e(o)}finally{s.f()}case 5:case"end":return e.stop()}}),e)})))()},sideColor:function(t){var e="";return e="LongOpen"===t||"LongOpen(S)"===t?"green lighten-4":"ShortOpen"===t||"ShortOpen(S)"===t?"red lighten-4":"ShortClose"===t||"LongClose"===t?"grey lighten-2":"white",e},date2str:function(t,e){var i={M:t.getMonth()+1,d:t.getDate(),h:t.getHours(),m:t.getMinutes(),s:t.getSeconds()};return e=e.replace(/(M+|d+|h+|m+|s+)/g,(function(t){return((t.length>1?"0":"")+i[t.slice(-1)]).slice(-2)})),e.replace(/(y+)/g,(function(e){return t.getFullYear().toString().slice(-e.length)}))},requestGet:function(t){var e=this;return new Promise((function(i,s){e.$http.get(t).then((function(t){i(t.data)})).catch((function(t){i()}))}))},clickSaveAmt:function(){var t=this;return Object(tt["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.configModel.amt){e.next=5;break}return null===t.user.config?t.user.config=t.configModel:void 0!==t.user.config.amt&&(t.user.config.amt=t.configModel.amt),e.next=4,yt.put("/pish/telegram/users/"+t.user.telegram_id,t.user);case 4:e.sent;case 5:case"end":return e.stop()}}),e)})))()},toFixed:function(t,e){return Number(Number(t).toFixed(e))}}},de=me,pe=Object(u["a"])(de,le,ue,!1,null,null,null),_e=pe.exports;m()(pe,{VBtn:v["a"],VChip:nt["a"],VCol:M["a"],VDataTable:rt["a"],VRow:F["a"],VTextField:K["a"]});var ve,he,fe={name:"Mulbot",components:{},data:function(){return{positionHeaders:[{text:"",value:"symbol"},{text:"Position",value:"position"},{text:"Price",value:"price"},{text:"Amt",value:"amt"},{text:"Contracts",value:"contracts"},{text:"Size",value:"size"},{text:"Frame",value:"frame"},{text:"Status",value:"order_status"},{text:"Date",value:"date"}],strategyHeaders:[{text:"",value:"symbol"},{text:"Frame",value:"frame"},{text:"Action",value:"action"},{text:"Contracts",value:"contracts"},{text:"Size",value:"size"},{text:"Date",value:"date"}],strategies:[],positions:[],configModel:{},user:{}}},computed:{},watch:{},created:function(){this.init()},methods:{init:function(){var t=this;return Object(tt["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.getUser();case 2:return e.next=4,t.getStrategies();case 4:return e.next=6,t.getPositions();case 6:case"end":return e.stop()}}),e)})))()},getPositions:function(){var t=this;return Object(tt["a"])(regeneratorRuntime.mark((function e(){var i,s,n,r,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i="/coin/bot/rangebot/positions?telegram_id=".concat(t.$store.state.telegramId,"&bot_name=").concat(t.user.bot_name),e.next=3,t.requestGet("https://variouscafe.cafe24.com:8885"+i);case 3:s=e.sent,n=Object(L["a"])(s);try{for(n.s();!(r=n.n()).done;)o=r.value,o.date=t.date2str(new Date(o.created_date),"MM-dd hh:mm"),o.position=o.position.replace("_Switching","(S)")}catch(a){n.e(a)}finally{n.f()}t.positions=s;case 7:case"end":return e.stop()}}),e)})))()},getStrategies:function(){var t=this;return Object(tt["a"])(regeneratorRuntime.mark((function e(){var i,s,n,r,o,a,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i="","Rangebot"===t.user.bot_name?i="RANGEFILTER":"Cscalper"===t.user.bot_name&&(i="CRYPTOSCALPER"),s="/coin/bot/rangebot/orders?indicator=".concat(i),e.next=5,t.requestGet("https://variouscafe.cafe24.com:8885"+s);case 5:n=e.sent,r=[],o=Object(L["a"])(n);try{for(o.s();!(a=o.n()).done;)l=a.value,l.frame===t.user.frame&&(l.date=t.date2str(new Date(l.created_date),"MM-dd hh:mm"),r.push(l))}catch(u){o.e(u)}finally{o.f()}t.strategies=r;case 10:case"end":return e.stop()}}),e)})))()},getUser:function(){var t=this;return Object(tt["a"])(regeneratorRuntime.mark((function e(){var i,s,n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,ce.getUser(t.$store.state.telegramId);case 2:i=e.sent,s=Object(L["a"])(i);try{for(s.s();!(n=s.n()).done;)r=n.value,"Cscalper"===r.bot_name&&(r.config=JSON.parse(r.config),t.user=r)}catch(o){s.e(o)}finally{s.f()}case 5:case"end":return e.stop()}}),e)})))()},date2str:function(t,e){var i={M:t.getMonth()+1,d:t.getDate(),h:t.getHours(),m:t.getMinutes(),s:t.getSeconds()};return e=e.replace(/(M+|d+|h+|m+|s+)/g,(function(t){return((t.length>1?"0":"")+i[t.slice(-1)]).slice(-2)})),e.replace(/(y+)/g,(function(e){return t.getFullYear().toString().slice(-e.length)}))},requestGet:function(t){var e=this;return new Promise((function(i,s){e.$http.get(t).then((function(t){i(t.data)})).catch((function(t){i()}))}))},clickSaveAmt:function(){var t=this;return Object(tt["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.configModel.amt){e.next=5;break}return null===t.user.config?t.user.config=t.configModel:void 0!==t.user.config.amt&&(t.user.config.amt=t.configModel.amt),e.next=4,yt.put("/pish/telegram/users/"+t.user.telegram_id,t.user);case 4:e.sent;case 5:case"end":return e.stop()}}),e)})))()},toFixed:function(t,e){return Number(Number(t).toFixed(e))}}},ye=fe,be=i("fd68"),ge=i.n(be),xe=i("1b2f"),we=i.n(xe),Ce=Object(u["a"])(ye,ve,he,!1,null,null,null);"function"===typeof ge.a&&ge()(Ce),"function"===typeof we.a&&we()(Ce);var ke=Ce.exports,Pe=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("form",[i("v-text-field",{attrs:{label:"E-mail",required:""},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),i("v-btn",{staticClass:"mr-4",on:{click:t.submit}},[t._v(" submit ")])],1),i("v-list",{attrs:{color:"transparent"}},[i("v-subheader",{attrs:{inset:""}},[t._v("accounts")]),t._l(this.$store.state.accounts,(function(e){return i("v-list-item",{key:e.email},[i("v-list-item-content",[i("v-list-item-title",{domProps:{textContent:t._s(e.email)}})],1),i("v-list-item-action",[i("v-btn",{attrs:{icon:""},on:{click:function(i){return t.clickRemove(e)}}},[i("v-icon",{attrs:{color:"grey lighten-1"}},[t._v("mdi-delete")])],1)],1)],1)}))],2)],1)},Te=[],Se=i("3835"),De=(i("ddb0"),i("a434"),{name:"account",components:{},props:{},data:function(){return{email:""}},methods:{submit:function(){this.$store.state.accounts.push({email:this.email}),this.$store.commit("accounts",this.$store.state.accounts)},clickRemove:function(t){var e,i=Object(L["a"])(this.$store.state.accounts.entries());try{for(i.s();!(e=i.n()).done;){var s=Object(Se["a"])(e.value,2),n=s[0],r=s[1];if(r.email===t.email){console.log(n),this.$store.state.accounts.splice(n,1);break}}}catch(o){i.e(o)}finally{i.f()}this.$store.commit("accounts",this.$store.state.accounts)}}}),Oe=De,Re=i("8860"),Ie=i("da13"),Fe=i("1800"),Ue=i("5d23"),Ne=i("e0c7"),Ae=Object(u["a"])(Oe,Pe,Te,!1,null,null,null),Le=Ae.exports;m()(Ae,{VBtn:v["a"],VIcon:z["a"],VList:Re["a"],VListItem:Ie["a"],VListItemAction:Fe["a"],VListItemContent:Ue["a"],VListItemTitle:Ue["b"],VSubheader:Ne["a"],VTextField:K["a"]});var Ve=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t._v(" test "),i("br"),t._v(" output: "+t._s(t.init_sum)+" "),i("br"),t._v(" "+t._s(t.a)+" "),i("br"),t._v(" "+t._s(t.b)+" "),i("br"),i("br"),i("br"),i("br"),i("v-text-field",{attrs:{label:"First Name"}}),i("v-text-field",{attrs:{label:"Last Name"}}),i("v-text-field",{attrs:{label:"Address"}}),i("v-btn",{attrs:{elevation:"2"}},[t._v(" submit ")])],1)},je=[],Be={data:function(){return{label:"",a:"",b:"",c:"",init_sum:""}},created:function(){var t=1,e=2,i=t+e;this.init_sum=i,this.a=t,this.b=e;var s={status:"good"};"good"==s.status&&console.log("happy"),s.status="ah","ah"==s.status&&(console.log("???"),s.status="good"),"good"==s.status&&console.log("happy")}},He=Be,We=Object(u["a"])(He,Ve,je,!1,null,null,null),Me=We.exports;m()(We,{VBtn:v["a"],VTextField:K["a"]});var Ee=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("v-card",{staticClass:"mx-auto pa-6 pt-10 mt-12",attrs:{width:"350"}},[null===t.signInResult?i("v-row",[i("v-col",{staticClass:"pr-0",attrs:{cols:"8"}},[i("v-text-field",{attrs:{label:"Telegram Id",outlined:"",dense:""},model:{value:t.telegramId,callback:function(e){t.telegramId=e},expression:"telegramId"}})],1),i("v-col",{attrs:{cols:"4"}},[i("v-btn",{attrs:{color:"primary"},on:{click:t.clickSignin}},[t._v(" signin ")])],1)],1):t._e(),null!==t.signInResult?i("v-row",[i("v-col",{staticClass:"pr-0",attrs:{cols:"8"}},[i("v-text-field",{attrs:{label:"CODE",outlined:"",dense:""},model:{value:t.code,callback:function(e){t.code=e},expression:"code"}})],1),i("v-col",{attrs:{cols:"4"}},[i("v-btn",{attrs:{color:"primary"},on:{click:t.clickSubmit}},[t._v(" submit ")])],1)],1):t._e()],1)],1)},$e=[],Ge={name:"signin",data:function(){return{telegramId:null,signInResult:null,code:null}},methods:{clickSignin:function(){var t=this;console.log("https://variouscafe.cafe24.com:8885"),this.$http.post("https://variouscafe.cafe24.com:8885/pish/telegram/signin",{telegramId:this.telegramId}).then((function(e){t.signInResult=e.data})).catch((function(t){console.log("error"+t)}))},clickSubmit:function(){this.code===this.signInResult.code&&(this.$store.commit("telegramId",this.signInResult.telegramId),this.$router.push("/"))}}},qe=Ge,ze=Object(u["a"])(qe,Ee,$e,!1,null,null,null),Xe=ze.exports;m()(ze,{VBtn:v["a"],VCard:W["a"],VCol:M["a"],VRow:F["a"],VTextField:K["a"]});var Ke=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("v-card",{staticClass:"mx-auto mt-3",attrs:{"max-width":"600"}},[i("div",[i("v-icon",{attrs:{small:""}},[t._v("mdi-pine-tree")]),t._v("Tribot")],1)]),i("v-card",{staticClass:"mx-auto",attrs:{outlined:"",rounded:"","max-width":"600"}},[i("GChart",{attrs:{type:"BubbleChart",data:t.bubbleChartData,options:t.bubbleChartOptions}})],1),i("v-card",{staticClass:"mx-auto mt-5",attrs:{"max-width":"600"}},[i("div",[i("small",[t._v("Daily Income")])])]),i("v-card",{staticClass:"mx-auto",attrs:{outlined:"",rounded:"","max-width":"600"}},[i("GChart",{attrs:{type:"LineChart",data:t.lineChartData,options:t.lineChartOptions}}),i("div",{staticClass:"mt-4 ml-2"},[i("small",[t._v("Avg Income: $"+t._s(t.summaryObj.avgIncome))])]),i("v-data-table",{staticClass:"mt-3",attrs:{"mobile-breakpoint":"200","hide-default-footer":"","items-per-page":-1,headers:t.history7dHeaders,items:t.histories7Days,dense:""}})],1),i("v-card",{staticClass:"mx-auto mt-5",attrs:{"max-width":"600"}},[i("div",[i("small",[t._v("Trading log")])])]),i("v-card",{staticClass:"mx-auto",attrs:{outlined:"",rounded:"","max-width":"600"}},[i("apexchart",{attrs:{type:"scatter",height:"260",options:t.chartOptions,series:t.series}}),i("v-data-table",{staticClass:"mt-5",attrs:{"mobile-breakpoint":"200","hide-default-footer":"","items-per-page":-1,headers:t.history100Headers,items:t.histories100,dense:""},scopedSlots:t._u([{key:"item.side",fn:function(e){var s=e.item;return[i("v-chip",{directives:[{name:"show",rawName:"v-show",value:"Buy"===s.side,expression:"item.side === 'Buy'"}],staticClass:"pa-1",attrs:{color:"green lighten-4","x-small":""}},[t._v(t._s(s.side))]),i("v-chip",{directives:[{name:"show",rawName:"v-show",value:"Sell"===s.side,expression:"item.side === 'Sell'"}],staticClass:"pa-1",attrs:{color:"red lighten-4","x-small":""}},[t._v(t._s(s.side))])]}},{key:"item.shortSymbol",fn:function(e){var s=e.item;return[i("small",[t._v(t._s(s.shortSymbol))])]}}])})],1)],1)},Je=[],Ye=i("cb43"),Ze=i("1321"),Qe=i.n(Ze),ti={components:{GChart:Ye["GChart"],apexchart:Qe.a},data:function(){return{label:"",a:"",b:"",c:"",init_sum:"",selectedItem:1,user:[],icon:"mdi-flask-round-bottom",items:[{text:"Real-Time",icon:"mdi-flask-round-bottom"},{text:"Audience",icon:"mdi-flask-round-bottom"},{text:"Conversions",icon:"mdi-flask-round-bottom"}],history7dHeaders:[{text:"Date",value:"date"},{text:"Total",value:"total"},{text:"Buy",value:"buyTotal"},{text:"Sell",value:"sellTotal"}],history100Headers:[{text:"",value:"shortSymbol"},{text:"Side",value:"side"},{text:"Buy",value:"buy_price"},{text:"Sell",value:"sell_price"},{text:"date",value:"newDate"}],histories100:[],histories7Days:[],summaryObj:{},lineChartData:[["Day","Buy","Sell","Total"],[0,0,0,0]],lineChartOptions:{chart:{title:"Daily Income",subtitle:"7days"},colors:["#C8E6C9","#FFCDD2","#0D47A1"],legend:{position:"bottom"},chartArea:{left:45,right:20},hAxis:{direction:-1}},bubbleChartData:[],bubbleChartOptions:{chart:{title:"Daily Income",subtitle:"7days"},colors:["#C8E6C9","#FFCDD2","#0D47A1"],legend:{position:"bottom"},chartArea:{left:45,right:20},hAxis:{title:"Trading Count",minValue:0},vAxis:{title:"Profit",minValue:0},bubble:{textStyle:{fontSize:9}}},series:[],chartOptions:{chart:{height:260,type:"scatter",zoom:{enabled:!1}},colors:["#81C784","#E57373","#9C27B0"],xaxis:{type:"datetime",labels:{format:"HH:mm"}},yaxis:{}}}},created:function(){this.telegramId=this.$store.state.telegramId,this.init(),this.get7dayHistories(),this.get100Histories()},methods:{init:function(){var t=this;return Object(tt["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,ce.getUser(t.telegramId);case 2:t.user=e.sent;case 3:case"end":return e.stop()}}),e)})))()},get7dayHistories:function(){var t=this;return Object(tt["a"])(regeneratorRuntime.mark((function e(){var i,s,n,r,o,a,l,u,c,m,d,p,_,v,h,f,y;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:i=(new Date).getDate(),s=10,n=[],r=[["Day","Buy","Sell","Total"]],o={avgIncome:0},a=0;case 6:if(!(a<s)){e.next=25;break}return l=(new Date).setDate(i-a),u=t.date2str(new Date(l),"yyyy-MM-dd"),e.next=11,yt.get("/coin/bybit/tribot/histories?date="+u);case 11:for(p in c=e.sent,m=new Date(l).getDate(),d={date:m,total:0,buyTotal:0,sellTotal:0},c)d.buyTotal+=c[p].bp,d.sellTotal+=c[p].sp;d.total=d.buyTotal+d.sellTotal,o.avgIncome+=d.total,d.total=d.total.toFixed(1),d.buyTotal=d.buyTotal.toFixed(1),d.sellTotal=d.sellTotal.toFixed(1),n.push(d),r.push([""+m,Number(d.buyTotal),Number(d.sellTotal),Number(d.total)]);case 22:a++,e.next=6;break;case 25:o.avgIncome=o.avgIncome/s,o.avgIncome=o.avgIncome.toFixed(1),t.summaryObj=o,t.lineChartData=r,t.histories7Days=[],_=Object(L["a"])(n.entries());try{for(_.s();!(v=_.n()).done;)h=Object(Se["a"])(v.value,2),f=h[0],y=h[1],f<2&&t.histories7Days.push(y)}catch(b){_.e(b)}finally{_.f()}case 32:case"end":return e.stop()}}),e)})))()},get100Histories:function(){var t=this;return Object(tt["a"])(regeneratorRuntime.mark((function e(){var i,s,n,r,o,a,l,u,c,m,d,p,_,v;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,yt.get("/coin/bybit/tribot/histories");case 2:i=e.sent,0,t.series=[],t.histories100=[],t.bubbleChartData=[["symbol","Count","Total","Total","Total"]],s={name:"Buy",data:[]},n={name:"Sell",data:[]},r={},o=Object(L["a"])(i.entries());try{for(o.s();!(a=o.n()).done;)l=Object(Se["a"])(a.value,2),u=l[0],c=l[1],c.profit,c.shortSymbol=c.symbol.split("USDT")[0],c.newDate=t.date2str(new Date(c.created_date),"hh:mm"),m=new Date(c.created_date).getHours(),d=new Date(c.created_date).setHours(m+9),"Buy"===c.side?s.data.push([new Date(d),c.profit]):"Sell"===c.side&&n.data.push([new Date(d),c.profit]),void 0===r[c.symbol]&&(r[c.symbol]={shortSymbol:c.shortSymbol,count:0,sum:0}),r[c.symbol].count++,r[c.symbol].sum+=c.profit,u<5&&t.histories100.push(c)}catch(h){o.e(h)}finally{o.f()}for(v in p=0,_=0,r)t.bubbleChartData.push([r[v].shortSymbol,r[v].count,r[v].sum,r[v].sum,r[v].sum]),r[v].count>p&&(p=r[v].count),r[v].sum>_&&(_=r[v].sum);t.bubbleChartOptions.hAxis.maxValue=p+1,t.bubbleChartOptions.vAxis.maxValue=_+.1,t.series.push(s),t.series.push(n);case 19:case"end":return e.stop()}}),e)})))()},date2str:function(t,e){var i={M:t.getMonth()+1,d:t.getDate(),h:t.getHours(),m:t.getMinutes(),s:t.getSeconds()};return e=e.replace(/(M+|d+|h+|m+|s+)/g,(function(t){return((t.length>1?"0":"")+i[t.slice(-1)]).slice(-2)})),e.replace(/(y+)/g,(function(e){return t.getFullYear().toString().slice(-e.length)}))},clickBot:function(t){"Tribot"===t.bot_name?this.$router.push("/tribot"):"Rangebot"===t.bot_name?this.$router.push("/range"):"Cscalper"===t.bot_name&&this.$router.push("/cscal")}}},ei=ti,ii=Object(u["a"])(ei,Ke,Je,!1,null,null,null),si=ii.exports;m()(ii,{VCard:W["a"],VChip:nt["a"],VDataTable:rt["a"],VIcon:z["a"]});var ni=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t.user.length?i("v-card",{staticClass:"mx-auto mt-12",attrs:{"max-width":"350"}},[i("span",[t._v("@"+t._s(t.user[0].telegram_id))]),i("div",{staticClass:"mt-12"},[t._v("Bot list")])]):t._e(),i("v-card",{staticClass:"mx-auto",attrs:{outlined:"",rounded:"","max-width":"350"}},[i("v-list",{attrs:{rounded:""}},[i("v-list-item-group",{attrs:{color:"primary"}},t._l(t.user,(function(e,s){return i("v-list-item",{key:s,on:{click:function(i){return t.clickBot(e)}}},[i("v-list-item-icon",[i("v-icon",{domProps:{textContent:t._s(e.icon)}})],1),i("v-list-item-content",[i("v-list-item-title",{staticClass:"grey--text text--darken-4"},[t._v(t._s(e.bot_name)+", "+t._s(e.frame))]),i("small",{staticClass:"grey--text"},[i("span",{staticClass:"grey--text text--darken-1"},[t._v(t._s(e.exchange))]),t._v(" / "+t._s(e.email))])],1)],1)})),1)],1)],1)],1)},ri=[],oi=(i("159b"),{data:function(){return{label:"",a:"",b:"",c:"",init_sum:"",selectedItem:1,user:[],icon:"mdi-flask-round-bottom",items:[{text:"Real-Time",icon:"mdi-pine-tree"},{text:"Audience",icon:"mdi-flask-round-bottom"},{text:"Conversions",icon:"mdi-flask-round-bottom"}]}},created:function(){this.telegramId=this.$store.state.telegramId,this.init()},methods:{init:function(){var t=this;return Object(tt["a"])(regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,ce.getUser(t.telegramId);case 2:i=e.sent,i.forEach((function(t){"Tribot"===t.bot_name?t.icon="mdi-pine-tree":"Rangebot"===t.bot_name?t.icon="mdi-balloon":"Cscalper"===t.bot_name?t.icon="mdi-fire":"MacdEma"===t.bot_name?t.icon="mdi-chart-bubble":t.icon="mdi-flask-round-bottom"})),t.user=i;case 5:case"end":return e.stop()}}),e)})))()},clickBot:function(t){"Tribot"===t.bot_name?"Bybit"===t.exchange?this.$router.push({path:"/tribot",query:{exchange:t.exchange}}):"Binance"===t.exchange&&this.$router.push({path:"/tribot/binance",query:{exchange:t.exchange}}):this.$router.push({path:"/range",query:{bot_name:t.bot_name,exchange:t.exchange,frame:t.frame}})}}}),ai=oi,li=i("1baa"),ui=i("34c3"),ci=Object(u["a"])(ai,ni,ri,!1,null,null,null),mi=ci.exports;m()(ci,{VCard:W["a"],VIcon:z["a"],VList:Re["a"],VListItem:Ie["a"],VListItemContent:Ue["a"],VListItemGroup:li["a"],VListItemIcon:ui["a"],VListItemTitle:Ue["b"]});var di=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("v-card",{staticClass:"mx-auto mt-2",attrs:{"max-width":"750"}},[i("v-btn",{attrs:{small:"",depressed:"",to:"/prediction2"}},[t._v("to2")]),i("div",{staticClass:"mt-5"},[t._v("Rounds")])],1),i("v-card",{staticClass:"mx-auto mb-2",attrs:{outlined:"",rounded:"","max-width":"750"}},[i("small",{staticClass:"ml-2"},[t._v("Total : "+t._s(t.rounds.length))]),i("div",{staticClass:"ml-2"},[i("small",[t._v(" avg payout : "+t._s(t.cToFixed(t.summary.sumPayout/t.summary.payoutCount,2))+" ")])]),i("div",{staticClass:"ml-2"},[i("small",[t._v(" income : "+t._s(t.cToFixed(t.summary.sumIncomeWin+t.summary.sumIncomeLose,3))+" ("+t._s(t.cToFixed(t.summary.sumIncomeWin,3))+", "+t._s(t.cToFixed(t.summary.sumIncomeLose,3))+")")])]),i("div",{staticClass:"ml-2"},[i("small",[t._v(" final : "+t._s(t.cToFixed(t.summary.sumTestIncomeWin+t.summary.sumTestIncomeLose,3))+" ("+t._s(t.cToFixed(t.summary.sumTestIncomeWin,3))+", "+t._s(t.cToFixed(t.summary.sumTestIncomeLose,3))+") ")])]),i("div",{staticClass:"ml-2"},[i("small",[t._v(" adv : "+t._s(t.summary.reverseCount)+"/"+t._s(t.summary.reverseWinCount)+" ("+t._s(t.cToFixed(t.summary.reverseWinCount/t.summary.reverseCount*100,2))+"% ) ")])]),i("div",{staticClass:"ml-2"},[i("small",[t._v(" final : "+t._s(t.summary.testCount)+"/"+t._s(t.summary.testWinCount)+" ("+t._s(t.cToFixed(t.summary.testWinCount/t.summary.testCount*100,2))+"% ) ")])]),i("v-data-table",{attrs:{"mobile-breakpoint":"200","hide-default-footer":"","items-per-page":-1,headers:t.indexHeaders,items:this.summary.winCount,dense:""},scopedSlots:t._u([{key:"item.i1",fn:function(e){var s=e.item;return[i("small",[t._v(t._s(s.i1)+" ")])]}},{key:"item.i2",fn:function(e){var s=e.item;return[i("small",[t._v(t._s(s.i2)+" ")])]}},{key:"item.i3",fn:function(e){var s=e.item;return[i("small",[t._v(t._s(s.i3))])]}},{key:"item.i4",fn:function(e){var s=e.item;return[i("small",[t._v(t._s(s.i4)+" ")])]}},{key:"item.i5",fn:function(e){var s=e.item;return[i("small",[t._v(t._s(s.i5)+" ")])]}},{key:"item.i6",fn:function(e){var s=e.item;return[i("small",[t._v(t._s(s.i6)+" ")])]}},{key:"item.i7",fn:function(e){var s=e.item;return[i("small",[t._v(t._s(s.i7)+" ")])]}},{key:"item.i8",fn:function(e){var s=e.item;return[i("small",[t._v(t._s(s.i8)+" ")])]}}])}),i("v-divider"),i("v-row",{staticClass:"pr-4 pl-1 mt-2",attrs:{"no-gutters":""}},[i("small",[t._v("Order")])]),i("v-row",{staticClass:"pr-1 pl-1",attrs:{"no-gutters":""}},[i("v-col",{staticClass:"pr-1 pl-1"},[i("small",{staticClass:"text-center text--secondary",attrs:{small:""}},[t._v(t._s(t.amts_actual[0]))])]),i("v-col",{staticClass:"pr-1 pl-1"},[i("small",{staticClass:"text-center text--secondary",attrs:{small:""}},[t._v(t._s(t.amts_actual[1]))])]),i("v-col",{staticClass:"pr-1 pl-1"},[i("small",{staticClass:"text-center text--secondary",attrs:{small:""}},[t._v(t._s(t.amts_actual[2]))])]),i("v-col",{staticClass:"pr-1 pl-1"},[i("small",{staticClass:"text-center text--secondary",attrs:{small:""}},[t._v(t._s(t.amts_actual[3]))])]),i("v-col",{staticClass:"pr-1 pl-1"},[i("small",{staticClass:"text-center text--secondary",attrs:{small:""}},[t._v(t._s(t.amts_actual[4]))])]),i("v-col",{staticClass:"pr-1 pl-1"},[i("small",{staticClass:"text-center text--secondary",attrs:{small:""}},[t._v(t._s(t.amts_actual[5]))])])],1),i("v-divider",{staticClass:"mt-2"}),i("v-row",{staticClass:"pr-1 pl-1 mt-2",attrs:{"no-gutters":""}},[i("v-col",{staticClass:"pr-1 pl-1"},[i("v-text-field",{staticStyle:{"font-size":"12px"},attrs:{dense:"",label:"",placeholder:""},on:{change:t.clickAmtTest},model:{value:t.amts_test1[0],callback:function(e){t.$set(t.amts_test1,0,e)},expression:"amts_test1[0]"}})],1),i("v-col",{staticClass:"pr-1 pl-1"},[i("v-text-field",{staticStyle:{"font-size":"12px"},attrs:{dense:"",label:"",placeholder:""},on:{change:t.clickAmtTest},model:{value:t.amts_test1[1],callback:function(e){t.$set(t.amts_test1,1,e)},expression:"amts_test1[1]"}})],1),i("v-col",{staticClass:"pr-1 pl-1"},[i("v-text-field",{staticStyle:{"font-size":"12px"},attrs:{dense:"",label:"",placeholder:""},on:{change:t.clickAmtTest},model:{value:t.amts_test1[2],callback:function(e){t.$set(t.amts_test1,2,e)},expression:"amts_test1[2]"}})],1),i("v-col",{staticClass:"pr-1 pl-1"},[i("v-text-field",{staticStyle:{"font-size":"12px"},attrs:{dense:"",label:"",placeholder:""},on:{change:t.clickAmtTest},model:{value:t.amts_test1[3],callback:function(e){t.$set(t.amts_test1,3,e)},expression:"amts_test1[3]"}})],1),i("v-col",{staticClass:"pr-1 pl-1"},[i("v-text-field",{staticStyle:{"font-size":"12px"},attrs:{dense:"",label:"",placeholder:""},on:{change:t.clickAmtTest},model:{value:t.amts_test1[4],callback:function(e){t.$set(t.amts_test1,4,e)},expression:"amts_test1[4]"}})],1),i("v-col",{staticClass:"pr-1 pl-1"},[i("v-text-field",{staticStyle:{"font-size":"12px"},attrs:{dense:"",label:"",placeholder:""},on:{change:t.clickAmtTest},model:{value:t.amts_test1[5],callback:function(e){t.$set(t.amts_test1,5,e)},expression:"amts_test1[5]"}})],1)],1),i("v-row",{staticClass:"ma-4 mt-2"},[i("v-btn",{attrs:{"x-small":"",depressed:""},on:{click:function(e){return t.clickApplyTest(1,t.amts_test1)}}},[t._v("Apply test1")])],1),i("v-divider"),i("v-row",{staticClass:"pr-4 pl-1 mt-2",attrs:{"no-gutters":""}},[i("small",[t._v("Select")])]),i("v-row",{staticClass:"pr-1 pl-1",attrs:{"no-gutters":""}},[i("v-col",{staticClass:"pr-1 pl-1"},[i("small",{staticClass:"text-center text--secondary",attrs:{small:""}},[t._v(t._s(t.amts_actual_reverse[0]))])]),i("v-col",{staticClass:"pr-1 pl-1"},[i("small",{staticClass:"text-center text--secondary",attrs:{small:""}},[t._v(t._s(t.amts_actual_reverse[1]))])]),i("v-col",{staticClass:"pr-1 pl-1"},[i("small",{staticClass:"text-center text--secondary",attrs:{small:""}},[t._v(t._s(t.amts_actual_reverse[2]))])]),i("v-col",{staticClass:"pr-1 pl-1"},[i("small",{staticClass:"text-center text--secondary",attrs:{small:""}},[t._v(t._s(t.amts_actual_reverse[3]))])]),i("v-col",{staticClass:"pr-1 pl-1"},[i("small",{staticClass:"text-center text--secondary",attrs:{small:""}},[t._v(t._s(t.amts_actual_reverse[4]))])]),i("v-col",{staticClass:"pr-1 pl-1"},[i("small",{staticClass:"text-center text--secondary",attrs:{small:""}},[t._v(t._s(t.amts_actual_reverse[5]))])])],1),i("v-divider",{staticClass:"mt-2"}),i("v-row",{staticClass:"pr-1 pl-1 mt-2",attrs:{"no-gutters":""}},[i("v-col",{staticClass:"pr-1 pl-1"},[i("v-text-field",{staticStyle:{"font-size":"12px"},attrs:{dense:"",label:"",placeholder:""},on:{change:t.clickAmtTest},model:{value:t.amts_test1_reverse[0],callback:function(e){t.$set(t.amts_test1_reverse,0,e)},expression:"amts_test1_reverse[0]"}})],1),i("v-col",{staticClass:"pr-1 pl-1"},[i("v-text-field",{staticStyle:{"font-size":"12px"},attrs:{dense:"",label:"",placeholder:""},on:{change:t.clickAmtTest},model:{value:t.amts_test1_reverse[1],callback:function(e){t.$set(t.amts_test1_reverse,1,e)},expression:"amts_test1_reverse[1]"}})],1),i("v-col",{staticClass:"pr-1 pl-1"},[i("v-text-field",{staticStyle:{"font-size":"12px"},attrs:{dense:"",label:"",placeholder:""},on:{change:t.clickAmtTest},model:{value:t.amts_test1_reverse[2],callback:function(e){t.$set(t.amts_test1_reverse,2,e)},expression:"amts_test1_reverse[2]"}})],1),i("v-col",{staticClass:"pr-1 pl-1"},[i("v-text-field",{staticStyle:{"font-size":"12px"},attrs:{dense:"",label:"",placeholder:""},on:{change:t.clickAmtTest},model:{value:t.amts_test1_reverse[3],callback:function(e){t.$set(t.amts_test1_reverse,3,e)},expression:"amts_test1_reverse[3]"}})],1),i("v-col",{staticClass:"pr-1 pl-1"},[i("v-text-field",{staticStyle:{"font-size":"12px"},attrs:{dense:"",label:"",placeholder:""},on:{change:t.clickAmtTest},model:{value:t.amts_test1_reverse[4],callback:function(e){t.$set(t.amts_test1_reverse,4,e)},expression:"amts_test1_reverse[4]"}})],1),i("v-col",{staticClass:"pr-1 pl-1"},[i("v-text-field",{staticStyle:{"font-size":"12px"},attrs:{dense:"",label:"",placeholder:""},on:{change:t.clickAmtTest},model:{value:t.amts_test1_reverse[5],callback:function(e){t.$set(t.amts_test1_reverse,5,e)},expression:"amts_test1_reverse[5]"}})],1)],1),i("v-row",{staticClass:"ma-4 mt-2"},[i("v-btn",{attrs:{"x-small":"",depressed:""},on:{click:function(e){return t.clickApplyTest(3,t.amts_test1_reverse)}}},[t._v("Apply test1")])],1)],1),i("v-card",{staticClass:"mx-auto",attrs:{outlined:"",rounded:"","max-width":"750"}},[i("v-data-table",{attrs:{"mobile-breakpoint":"200","hide-default-footer":"","items-per-page":-1,headers:t.roundsHeaders,items:t.rounds,"must-sort":"",dense:""},scopedSlots:t._u([{key:"item.position_index",fn:function(e){var s=e.item;return[i("v-chip",{staticClass:"pa-1",attrs:{color:t.winColor(s.up_down,s.position,s.position_index),"x-small":""}},[t._v(" "+t._s(s.position_index)+" ")]),i("small",[t._v(" "+t._s(s.position))])]}},{key:"item.position_index_adv",fn:function(e){var s=e.item;return[i("v-chip",{staticClass:"pa-1",attrs:{color:t.winColor(s.up_down,s.position_adv,s.position_index_adv),"x-small":""}},[t._v(" "+t._s(s.position_index_adv)+" "),i("small",[t._v(" "+t._s(s.position_adv))])])]}},{key:"item.position2_index",fn:function(e){var s=e.item;return[i("v-chip",{staticClass:"pa-1",attrs:{color:t.winColor(s.up_down,s.position2,s.position2_index),"x-small":""}},[t._v(" "+t._s(s.position2_index)+" ")])]}},{key:"item.position_index_1",fn:function(e){var s=e.item;return[i("v-chip",{staticClass:"pa-1",attrs:{color:t.winColor(s.up_down,s.position_1,s.position_index_1),"x-small":""}},[t._v(" "+t._s(s.position_index_1)+" ")]),i("small",[t._v(" "+t._s(s.position_1))])]}},{key:"item.latest3_win_index",fn:function(e){var s=e.item;return[i("v-chip",{staticClass:"pa-1",attrs:{color:t.winColor(s.up_down,s.position_latest3,s.latest3_win_index),"x-small":""}},[t._v(" "+t._s(s.latest3_win_index)+" ")]),i("small",[t._v(" "+t._s(s.position_latest3))])]}},{key:"item.follow_win_index",fn:function(e){var s=e.item;return[i("v-chip",{staticClass:"pa-1",attrs:{color:t.followColor(s.up_down,s.position_follow,s.follow_win_index),"x-small":""}},[t._v(" "+t._s(s.follow_win_index)+" ")]),i("small",[t._v(" "+t._s(s.position_follow))])]}},{key:"item.follow_inc_win_index",fn:function(e){var s=e.item;return[i("v-chip",{staticClass:"pa-1",attrs:{color:t.winColor(s.up_down,s.position_follow_inc,s.follow_inc_win_index),"x-small":""}},[t._v(" "+t._s(s.follow_inc_win_index)+" ")]),i("small",[t._v(" "+t._s(s.position_follow_inc))])]}},{key:"item.follow_inc_win_index2",fn:function(e){var s=e.item;return[i("v-chip",{staticClass:"pa-1",attrs:{color:t.winColor2(s.up_down,s.position_follow_inc2,s.follow_inc_win_index2),"x-small":""}},[t._v(" "+t._s(s.follow_inc_win_index2)+" ")]),i("small",[t._v(" "+t._s(s.position_follow_inc2))])]}},{key:"item.up_down",fn:function(e){var s=e.item;return[i("v-chip",{staticClass:"pa-1",attrs:{color:t.upDownColor(s),"x-small":""}},[t._v(" "+t._s(s.up_down)+" ")])]}},{key:"item.amt",fn:function(e){var s=e.item;return[i("small",[t._v(t._s(s.amt))])]}},{key:"item.epoch",fn:function(e){var s=e.item;return[i("small",[t._v(t._s(s.epoch))])]}},{key:"item.order_index",fn:function(e){var s=e.item;return[i("v-chip",{directives:[{name:"show",rawName:"v-show",value:s.order_index>0,expression:"item.order_index > 0"}],staticClass:"pa-1",attrs:{color:t.winColor(s.up_down,s.order_position,s.order_index),"x-small":""}},[t._v(" "+t._s(s.order_index)+" ")]),i("small",[t._v(" "+t._s(s.order_position))])]}},{key:"item.order_reverse_index",fn:function(e){var s=e.item;return[i("v-chip",{staticClass:"pa-1",attrs:{color:t.winColor(s.up_down,s.position_adv,s.order_reverse_index),"x-small":""}},[t._v(" "+t._s(s.order_reverse_index)+" ")]),t._v(" "+t._s(s.position_adv)+" ")]}},{key:"item.rsi",fn:function(e){var s=e.item;return[i("small",[t._v(t._s(s.rsi))])]}},{key:"item.position_ema",fn:function(e){var s=e.item;return[i("small",[t._v(t._s(s.position_ema))])]}},{key:"item.total_amt",fn:function(e){var s=e.item;return[i("small",[t._v(t._s(s.total_amt.toFixed(2)))])]}},{key:"item.price",fn:function(e){var s=e.item;return[i("small",[t._v(t._s(s.price.toFixed(2)))])]}},{key:"item.payout",fn:function(e){var s=e.item;return[i("small",[t._v(t._s(t.cToFixed(s.payout,2)))])]}},{key:"item.bullInc1",fn:function(e){var s=e.item;return[i("small",[t._v(" "+t._s(t.cToFixed(s.bull_amt3,1))),i("br")])]}},{key:"item.bearInc1",fn:function(e){var s=e.item;return[i("small",[t._v(" "+t._s(t.cToFixed(s.bear_amt3,1))),i("br")])]}}])})],1)],1)},pi=[],_i=(i("b0c0"),i("d81d"),{data:function(){return{roundsHeaders:[{text:"epoch",value:"epoch"},{text:"ud",value:"up_down"},{text:"oi",value:"order_index"},{text:"adv",value:"position_index"},{text:"tadv",value:"position_index_adv"},{text:"tfinal",value:"position_index_1"},{text:"amt",value:"amt"},{text:"pay",value:"payout"},{text:"bull",value:"bull_amt3"},{text:"bear",value:"bear_amt3"}],indexHeaders:[{text:"",value:"s"},{text:"1",value:"i1"},{text:"2",value:"i2"},{text:"3",value:"i3"},{text:"4",value:"i4"},{text:"5",value:"i5"},{text:"6",value:"i6"},{text:"7",value:"i7"}],amts_test1:[],amts_test1_reverse:[],amts_test2:[],amts_actual:[],amts_actual_reverse:[],rounds:[],settings:{},summary:{followWinCount:0}}},created:function(){this.setAmts(),this.init(),this.getSettings()},methods:{init:function(){var t=this;return Object(tt["a"])(regeneratorRuntime.mark((function e(){var i,s,n,r,o,a,l,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,yt.get("/pish/prediction/rounds");case 2:return i=e.sent,e.next=5,yt.get("/pish/prediction/amttracker");case 5:s=e.sent,t.summary.positionWinCount=0,t.summary.positionCount=0,t.summary.followWinCount=0,t.summary.upCount=0,t.summary.downCount=0,t.summary.sumPayout=0,t.summary.payoutCount=0,t.summary.winCount=[{s:"order",i1:0,i2:0,i3:0,i4:0,i5:0,i6:0,i7:0,i8:0,i9:0},{s:"order",i1:0,i2:0,i3:0,i4:0,i5:0,i6:0,i7:0,i8:0,i9:0},{s:"adv",i1:0,i2:0,i3:0,i4:0,i5:0,i6:0,i7:0,i8:0,i9:0},{s:"adv",i1:0,i2:0,i3:0,i4:0,i5:0,i6:0,i7:0,i8:0,i9:0},{s:"final",i1:0,i2:0,i3:0,i4:0,i5:0,i6:0,i7:0,i8:0,i9:0},{s:"final",i1:0,i2:0,i3:0,i4:0,i5:0,i6:0,i7:0,i8:0,i9:0}],n=[],r=Object(L["a"])(i);try{for(r.s();!(o=r.n()).done;)a=o.value,a.hash&&(a.hashShort=a.hash.substr(0,5)),"UP"===a.up_down?t.summary.upCount++:t.summary.downCount++,a.total_amt=a.bull_amt+a.bear_amt,a.price=a.close_price-a.lock_price,"UP"!==a.order_position&&"DOWN"!==a.order_position||(t.summary.positionCount++,a.up_down===a.order_position&&t.summary.positionWinCount++),a.order_position===a.up_down?(l="i"+a.order_index,"UP"!==a.order_position&&"DOWN"!==a.order_position||t.summary.winCount[0][l]++):(u="i"+a.order_index,"UP"!==a.order_position&&"DOWN"!==a.order_position||t.summary.winCount[1][u]++),n.push(a)}catch(c){r.e(c)}finally{r.f()}n=t.testRealIncAmt(n,s),n=t.testFollowWinIndex(n),n=t.testAdv(n),n=t.testFinal(n),t.testAmtProfit(n),console.log(t.summary.followWinCountList),t.rounds=n;case 24:case"end":return e.stop()}}),e)})))()},setAmts:function(){var t=this;return Object(tt["a"])(regeneratorRuntime.mark((function e(){var i,s,n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.amts_test1=[],t.amts_test1_reverse=[],t.amts_test2=[],t.amts_actual=[],t.amts_actual_reverse=[],e.next=7,yt.get("/pish/prediction/amts");case 7:i=e.sent,s=Object(L["a"])(i);try{for(s.s();!(n=s.n()).done;)r=n.value,"index1"===r.name?(t.amts_actual.push(r.i1),t.amts_actual.push(r.i2),t.amts_actual.push(r.i3),t.amts_actual.push(r.i4),t.amts_actual.push(r.i5),t.amts_actual.push(r.i6),t.amts_actual.push(r.i7),t.amts_actual.push(r.i8)):"index1_test1"===r.name?(t.amts_test1.push(r.i1),t.amts_test1.push(r.i2),t.amts_test1.push(r.i3),t.amts_test1.push(r.i4),t.amts_test1.push(r.i5),t.amts_test1.push(r.i6),t.amts_test1.push(r.i7),t.amts_test1.push(r.i8)):"index1_test2"===r.name?(t.amts_test2.push(r.i1),t.amts_test2.push(r.i2),t.amts_test2.push(r.i3),t.amts_test2.push(r.i4),t.amts_test2.push(r.i5),t.amts_test2.push(r.i6),t.amts_test2.push(r.i7),t.amts_test2.push(r.i8)):"index1_reverse_test1"===r.name?(t.amts_test1_reverse.push(r.i1),t.amts_test1_reverse.push(r.i2),t.amts_test1_reverse.push(r.i3),t.amts_test1_reverse.push(r.i4),t.amts_test1_reverse.push(r.i5),t.amts_test1_reverse.push(r.i6),t.amts_test1_reverse.push(r.i7),t.amts_test1_reverse.push(r.i8)):"index1_reverse"===r.name&&(t.amts_actual_reverse.push(r.i1),t.amts_actual_reverse.push(r.i2),t.amts_actual_reverse.push(r.i3),t.amts_actual_reverse.push(r.i4),t.amts_actual_reverse.push(r.i5),t.amts_actual_reverse.push(r.i6),t.amts_actual_reverse.push(r.i7),t.amts_actual_reverse.push(r.i8))}catch(o){s.e(o)}finally{s.f()}case 10:case"end":return e.stop()}}),e)})))()},getSettings:function(){var t=this;return Object(tt["a"])(regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,yt.get("/pish/prediction/rounds/settings");case 2:i=e.sent,t.settings=i[0],console.log(i);case 5:case"end":return e.stop()}}),e)})))()},testAmtProfit:function(t){var e,i=0,s=0,n=0,r=0,o=0,a=0,l=[.003,.006,.0137,.0277,0,0,0,0,0],u=Object(L["a"])(t);try{for(u.s();!(e=u.n()).done;){var c=e.value,m=47e-5;if(c.up_down===c.order_position&&c.amt>0){var d=0;"UP"===c.up_down?(c.payout=c.bear_amt/c.bull_amt+1,d=c.bear_amt/c.bull_amt+1):(c.payout=c.bull_amt/c.bear_amt+1,d=c.bull_amt/c.bear_amt+1),c.income=c.amt*d*.97-c.amt,c.income>0&&(c.income+=m),i+=c.income,c.amt>0&&(this.summary.sumPayout+=.97*d,this.summary.payoutCount++)}else c.amt>0&&(c.income=-c.amt,c.income>0&&(c.income+=m),s+=c.income);var p=Number(l[c.position_index-1]),_=Number(l[c.position_index_adv-1]);if(isNaN(p)&&(p=0),isNaN(_)&&(_=0),("UP"===c.position_1||"DOWN"===c.position_1)&&p>0)if(c.up_down===c.position_1){var v=0;v="UP"===c.up_down?c.bear_amt/c.bull_amt+1:c.bull_amt/c.bear_amt+1;var h=p*v*.97-p;h>0&&(h+=m),n+=h}else{var f=-p;f>0&&(f+=m),r+=f}if(("UP"===c.position_adv||"DOWN"===c.position_adv)&&_>0)if(c.up_down===c.position_adv){var y=0;y="UP"===c.up_down?c.bear_amt/c.bull_amt+1:c.bull_amt/c.bear_amt+1;var b=_*y*.97-_;b>0&&(b+=m),o+=b}else{var g=-_;g>0&&(g+=m),a+=g}}}catch(x){u.e(x)}finally{u.f()}this.summary.sumIncomeWin=i,this.summary.sumTestIncomeWin=n,this.summary.sumTestIncomeAdv=o,this.summary.sumIncomeLose=s,this.summary.sumTestIncomeLose=r,this.summary.sumTestIncomeAdvLose=a},testRealIncAmt:function(t,e){this.summary.followIncAdvWinCount=0,this.summary.followIncAdvCount=0,this.summary.followIncWinCount=0,this.summary.followIncCount=0,this.summary.followIncWinCount2=0,this.summary.followIncCount2=0;var i,s=Object(L["a"])(t);try{for(s.s();!(i=s.n()).done;){var n=i.value,r=this.$underscore.find(e,{epoch:n.epoch});r&&(n.bear_amt0=r.bear_amt0,n.bear_amt1=r.bear_amt1,n.bear_amt2=r.bear_amt2,n.bear_amt3=r.bear_amt3,n.bull_amt0=r.bull_amt0,n.bull_amt1=r.bull_amt1,n.bull_amt2=r.bull_amt2,n.bull_amt3=r.bull_amt3)}}catch(a){s.e(a)}finally{s.f()}for(var o=t.length-3;o>=0;o--)t[o+2].up_down===t[o+2].position_follow_inc?t[o].follow_inc_win_index=1:"UP"===t[o+2].position_follow_inc||"DOWN"===t[o+2].position_follow_inc?t[o].follow_inc_win_index=t[o+2].follow_inc_win_index+1:t[o].follow_inc_win_index=t[o+2].follow_inc_win_index,t[o+2].up_down===t[o+2].position_follow_inc2?t[o].follow_inc_win_index2=1:"UP"===t[o+2].position_follow_inc2||"DOWN"===t[o+2].position_follow_inc2?t[o].follow_inc_win_index2=t[o+2].follow_inc_win_index2+1:t[o].follow_inc_win_index2=t[o+2].follow_inc_win_index2;return t},testFinal:function(t){this.summary.testWinCount=0,this.summary.testCount=0;for(var e=t.length-1;e>=0;e--){var i="";(1===t[e].position_index_adv||2===t[e].position_index_adv||6===t[e].position_index_adv)&&(i=t[e].position_adv),t[e].position_1=i}for(var s=t.length-11;s>=0;s--){var n,r=this.getFrame(t,s+2,10),o=[],a=t[s].epoch%2,l=Object(L["a"])(r);try{for(l.s();!(n=l.n()).done;){var u=n.value;!u||"UP"!==u.position_1&&"DOWN"!==u.position_1||u.epoch%2!==a||o.push(u)}}catch(h){l.e(h)}finally{l.f()}o=o[0],void 0!==o&&("UP"===o.position_1||"DOWN"===o.position_1?o.up_down===o.position_1?t[s].position_index_1=1:t[s].position_index_1=o.position_index_1+1:t[s].position_index_1=o.position_index_1)}for(var c=t.length-3;c>=0;c--)if("UP"===t[c+2].position_1||"DOWN"===t[c+2].position_1){if(this.summary.testCount++,t[c+2].up_down===t[c+2].position_1){this.summary.testWinCount++;var m="i"+t[c+2].position_index_1;this.summary.winCount[4][m]++}if(t[c+2].up_down!==t[c+2].position_1){var d="i"+t[c+2].position_index_1;this.summary.winCount[5][d]++}}for(var p=1;p<6;p++){var _="i"+p,v=this.summary.winCount[4][_]/(this.summary.winCount[4][_]+this.summary.winCount[5][_])*100;v=v.toFixed(2),this.summary.winCount[4][_]=this.summary.winCount[4][_]+" ("+v+")"}return t},testAdv:function(t){this.summary.reverseWinCount=0,this.summary.reverseCount=0;for(var e=t.length-1;e>=0;e--){var i="",s=(t[e].bull_amt3,t[e].bull_amt0,t[e].bull_amt3-t[e].bull_amt1),n=t[e].bull_amt3-t[e].bull_amt2,r=(t[e].bear_amt3,t[e].bear_amt0,t[e].bear_amt3-t[e].bear_amt1),o=t[e].bear_amt3-t[e].bear_amt2;o>s&&(i="DOWN"),n>r&&(i="UP"),t[e].position_adv=i}for(var a=t.length-3;a>=0;a--)if("UP"===t[a+2].position_adv||"DOWN"===t[a+2].position_adv?t[a+2].up_down===t[a+2].position_adv?t[a].position_index_adv=1:t[a].position_index_adv=t[a+2].position_index_adv+1:t[a].position_index_adv=t[a+2].position_index_adv,"UP"===t[a+2].position_adv||"DOWN"===t[a+2].position_adv){if(this.summary.reverseCount++,t[a+2].up_down===t[a+2].position_adv){this.summary.reverseWinCount++;var l="i"+t[a+2].position_index_adv;this.summary.winCount[2][l]++}if(t[a+2].up_down!==t[a+2].position_adv){var u="i"+t[a+2].position_index_adv;this.summary.winCount[3][u]++}}for(var c=1;c<6;c++){var m="i"+c,d=this.summary.winCount[2][m]/(this.summary.winCount[2][m]+this.summary.winCount[3][m])*100;d=d.toFixed(2),this.summary.winCount[2][m]=this.summary.winCount[2][m]+" ("+d+")"}return t},testFollowWinIndex:function(t){this.summary.followWinCount=0,this.summary.followCount=0;for(var e=t.length-3;e>=0;e--){var i="";t[e+2].bull_amt>0&&(i=t[e+2].bull_amt>t[e+2].bear_amt?"UP":"DOWN",t[e+2].position_follow=i),"UP"!==i&&"DOWN"!==i||this.summary.followCount++,t[e+2].up_down===i?(t[e].follow_win_index=1,this.summary.followWinCount++):t[e].follow_win_index="UP"===i||"DOWN"===i?t[e+2].follow_win_index+1:t[e+2].follow_win_index}return t},getFrame:function(t,e,i){for(var s=[],n=e;n<e+i;n++)s.push(t[n]);return s},clickAmtTest:function(){this.testAmtProfit(this.rounds)},clickUpdateSetting:function(){var t=this;return Object(tt["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,yt.put("/pish/prediction/rounds/settings",t.settings);case 2:case"end":return e.stop()}}),e)})))()},clickApplyTest:function(t,e){var i=this;return Object(tt["a"])(regeneratorRuntime.mark((function s(){var n,r;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return n=e.map((function(t){return Number(t)})),r="",1===t?r="index1_test1":2===t?r="index1_test2":3===t&&(r="index1_reverse_test1"),s.next=5,yt.put("/pish/prediction/amts",{name:r,amt_list:n});case 5:i.setAmts();case 6:case"end":return s.stop()}}),s)})))()},getPercent:function(t,e){return(e/t*100).toFixed(1)},winColor:function(t,e,i){var s="white lighten-3";return t===e&&("UP"===e?i>=7?s="green lighten-1":i>=6?s="green lighten-2":i>=5?s="green lighten-3":i>=3?s="green lighten-4":i>=1&&(s="green lighten-5"):"DOWN"===e&&(i>=7?s="red lighten-1":i>=6?s="red lighten-2":i>=5?s="red lighten-3":i>=3?s="red lighten-4":i>=1&&(s="red lighten-5"))),s},winColor2:function(t,e,i){var s="white lighten-3";return t===e?"UP"===e?i>=8?s="green lighten-1":i>=7?s="green lighten-2":i>=5?s="green lighten-3":i>=3?s="green lighten-4":i>=1&&(s="green lighten-5"):"DOWN"===e&&(i>=8?s="red lighten-1":i>=7?s="red lighten-2":i>=5?s="red lighten-3":i>=3?s="red lighten-4":i>=1&&(s="red lighten-5")):"UP"!==e&&"DOWN"!==e||i>=1&&(s="amber lighten-3"),s},followColor:function(t,e,i){var s="white lighten-3";return t===e&&(s="UP"===t?"green lighten-4":"red lighten-4"),s},plainColor:function(t){var e="white lighten-3";return t.epoch%2===0?t.plain_win_index>=6?e="green lighten-2":t.plain_win_index>=5?e="green lighten-3":t.plain_win_index>=4?e="green lighten-4":t.plain_win_index>=3&&(e="green lighten-5"):t.plain_win_index>=6?e="red lighten-2":t.plain_win_index>=5?e="red lighten-3":t.plain_win_index>=4?e="red lighten-4":t.plain_win_index>=3&&(e="red lighten-5"),e},upDownColor:function(t){var e="grey lighten-4";return"UP"===t.up_down?e="green lighten-4":"DOWN"===t.up_down?e="red lighten-4":"BURN"===t.up_down&&(e="amber lighten-3"),e},cToFixed:function(t,e){try{return t.toFixed(e)}catch(i){return""}}}}),vi=_i,hi=Object(u["a"])(vi,di,pi,!1,null,null,null),fi=hi.exports;m()(hi,{VBtn:v["a"],VCard:W["a"],VChip:nt["a"],VCol:M["a"],VDataTable:rt["a"],VDivider:Ot["a"],VRow:F["a"],VTextField:K["a"]});var yi=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("v-card",{staticClass:"mx-auto mt-2",attrs:{"max-width":"980"}},[i("v-btn",{attrs:{small:"",depressed:"",to:"/prediction"}},[t._v("to1")])],1),i("v-card",{staticClass:"mx-auto mb-2",attrs:{outlined:"",rounded:"","max-width":"980"}},[i("small",{staticClass:"ml-2"},[t._v("Total : "+t._s(t.rounds.length))]),i("div",{staticClass:"ml-2"},[i("small",[t._v("Up Count : "+t._s(t.summary.upCount))]),i("small",[t._v(", Down Count : "+t._s(t.summary.downCount))])]),i("div",{staticClass:"ml-2"},[i("small",[t._v(" win : "+t._s(t.summary.positionCount)+"/"+t._s(t.summary.positionWinCount)+" ("+t._s(t.cToFixed(t.summary.positionWinCount/t.summary.positionCount*100,2))+"% ) ")])]),i("div",{staticClass:"ml-2"},[i("small",[t._v(" income : "+t._s(t.cToFixed(t.summary.sumIncomeWin+t.summary.sumIncomeLose,3))+" ("+t._s(t.cToFixed(t.summary.sumIncomeWin,3))+", "+t._s(t.cToFixed(t.summary.sumIncomeLose,3))+")")])]),i("div",{staticClass:"ml-2"},[i("small",[t._v(" avg payout : "+t._s(t.cToFixed(t.summary.sumPayout/t.summary.payoutCount,2))+" ")])]),i("div",{staticClass:"ml-2"},[i("small",[t._v(" Test : "+t._s(t.summary.positionTestCount)+"/"+t._s(t.summary.positionTestWinCount)+" ("+t._s(t.cToFixed(t.summary.positionTestWinCount/t.summary.positionTestCount*100,2))+"% ) ")])]),i("v-divider"),i("div",{staticClass:"ml-2"},[i("small",[t._v(" Up : "+t._s(t.summary.positionRsiCount)+"/"+t._s(t.summary.positionRsiWinCount)+" ("+t._s(t.cToFixed(t.summary.positionRsiWinCount/t.summary.positionRsiCount*100,2))+"% ) ")])]),i("div",{staticClass:"ml-2"},[i("small",[t._v(" Down : "+t._s(t.summary.positionGapRsiCount)+"/"+t._s(t.summary.positionGapRsiWinCount)+" ("+t._s(t.cToFixed(t.summary.positionGapRsiWinCount/t.summary.positionGapRsiCount*100,2))+"% ) ")])]),i("div",{staticClass:"ml-2"},[i("small",[t._v(" Test : "+t._s(t.cToFixed(t.summary.sumPositionTestWin+t.summary.sumPositionTestLose,3))+" ("+t._s(t.cToFixed(t.summary.sumPositionTestWin,3))+", "+t._s(t.cToFixed(t.summary.sumPositionTestLose,3))+") ")])]),i("div",{staticClass:"ml-2"},[i("small",[t._v(" Up : "+t._s(t.cToFixed(t.summary.sumPositionUpWin+t.summary.sumPositionUpLose,3))+" ("+t._s(t.cToFixed(t.summary.sumPositionUpWin,3))+", "+t._s(t.cToFixed(t.summary.sumPositionUpLose,3))+") ")])]),i("div",{staticClass:"ml-2"},[i("small",[t._v(" Down : "+t._s(t.cToFixed(t.summary.sumPositionDownWin+t.summary.sumPositionDownLose,3))+" ("+t._s(t.cToFixed(t.summary.sumPositionDownWin,3))+", "+t._s(t.cToFixed(t.summary.sumPositionDownLose,3))+") ")])]),i("div",{staticClass:"ml-2"},[i("small",[t._v(" RsiPlain : "+t._s(t.cToFixed(t.summary.sumPositionRsiPlainWin+t.summary.sumPositionRsiPlainLose,3))+" ("+t._s(t.cToFixed(t.summary.sumPositionRsiPlainWin,3))+", "+t._s(t.cToFixed(t.summary.sumPositionRsiPlainLose,3))+") ")])]),i("div",{staticClass:"ml-2"},[i("small",[t._v(" GapRsi : "+t._s(t.cToFixed(t.summary.sumPositionGapRsiWin+t.summary.sumPositionGapRsiLose,3))+" ("+t._s(t.cToFixed(t.summary.sumPositionGapRsiWin,3))+", "+t._s(t.cToFixed(t.summary.sumPositionGapRsiLose,3))+") ")])]),i("v-data-table",{attrs:{"mobile-breakpoint":"200","hide-default-footer":"","items-per-page":-1,headers:t.indexHeaders,items:this.summary.winCount,dense:""},scopedSlots:t._u([{key:"item.i1",fn:function(e){var s=e.item;return[i("small",[t._v(t._s(s.i1)+" ")])]}},{key:"item.i2",fn:function(e){var s=e.item;return[i("small",[t._v(t._s(s.i2)+" ")])]}},{key:"item.i3",fn:function(e){var s=e.item;return[i("small",[t._v(t._s(s.i3))])]}},{key:"item.i4",fn:function(e){var s=e.item;return[i("small",[t._v(t._s(s.i4)+" ")])]}},{key:"item.i5",fn:function(e){var s=e.item;return[i("small",[t._v(t._s(s.i5)+" ")])]}},{key:"item.i6",fn:function(e){var s=e.item;return[i("small",[t._v(t._s(s.i6)+" ")])]}},{key:"item.i7",fn:function(e){var s=e.item;return[i("small",[t._v(t._s(s.i7)+" ")])]}},{key:"item.i8",fn:function(e){var s=e.item;return[i("small",[t._v(t._s(s.i8)+" ")])]}}])}),i("v-divider"),i("v-divider"),i("v-row",{staticClass:"pr-4 pl-4 mt-1",attrs:{"no-gutters":""}},[i("v-col",{staticClass:"pr-0 pl-0"}),i("v-col",{staticClass:"pr-0 pl-0"},[i("v-chip",{attrs:{"x-small":""}},[t._v(" 1 ")])],1),i("v-col",{staticClass:"pr-0 pl-0"},[i("v-chip",{attrs:{"x-small":""}},[t._v(" 2 ")])],1),i("v-col",{staticClass:"pr-0 pl-0"},[i("v-chip",{attrs:{"x-small":""}},[t._v(" 3 ")])],1),i("v-col",{staticClass:"pr-0 pl-0"},[i("v-chip",{attrs:{"x-small":""}},[t._v(" 4 ")])],1),i("v-col",{staticClass:"pr-0 pl-0"},[i("v-chip",{attrs:{"x-small":""}},[t._v(" 5 ")])],1),i("v-col",{staticClass:"pr-0 pl-0"},[i("v-chip",{attrs:{"x-small":""}},[t._v(" 6 ")])],1),i("v-col",{staticClass:"pr-0 pl-0"})],1),i("v-divider",{staticClass:"mt-1"}),t._l(t.amtList,(function(e){return i("div",{key:e.id},[e.name.includes("index2_s")||"index2"===e.name?i("v-row",{staticClass:"pr-1 pl-1",attrs:{"no-gutters":""}},[i("v-col",{staticClass:"pr-1 pl-1 mt-1"},[i("small",[t._v(t._s(e.name.split("index2_s_")[1]))])]),i("v-col",{staticClass:"pr-1 pl-1"},[i("v-text-field",{staticStyle:{"font-size":"12px"},attrs:{dense:"",label:"",placeholder:""},on:{change:t.clickAmtTest},model:{value:e.i1,callback:function(i){t.$set(e,"i1",i)},expression:"item.i1"}})],1),i("v-col",{staticClass:"pr-1 pl-1"},[i("v-text-field",{staticStyle:{"font-size":"12px"},attrs:{dense:"",label:"",placeholder:""},on:{change:t.clickAmtTest},model:{value:e.i2,callback:function(i){t.$set(e,"i2",i)},expression:"item.i2"}})],1),i("v-col",{staticClass:"pr-1 pl-1"},[i("v-text-field",{staticStyle:{"font-size":"12px"},attrs:{dense:"",label:"",placeholder:""},on:{change:t.clickAmtTest},model:{value:e.i3,callback:function(i){t.$set(e,"i3",i)},expression:"item.i3"}})],1),i("v-col",{staticClass:"pr-1 pl-1"},[i("v-text-field",{staticStyle:{"font-size":"12px"},attrs:{dense:"",label:"",placeholder:""},on:{change:t.clickAmtTest},model:{value:e.i4,callback:function(i){t.$set(e,"i4",i)},expression:"item.i4"}})],1),i("v-col",{staticClass:"pr-1 pl-1"},[i("v-text-field",{staticStyle:{"font-size":"12px"},attrs:{dense:"",label:"",placeholder:""},on:{change:t.clickAmtTest},model:{value:e.i5,callback:function(i){t.$set(e,"i5",i)},expression:"item.i5"}})],1),i("v-col",{staticClass:"pr-1 pl-1"},[i("v-text-field",{staticStyle:{"font-size":"12px"},attrs:{dense:"",label:"",placeholder:""},on:{change:t.clickAmtTest},model:{value:e.i6,callback:function(i){t.$set(e,"i6",i)},expression:"item.i6"}})],1),i("v-col",{staticClass:"pr-1 pl-1 mt-3"},[i("v-btn",{attrs:{"x-small":"",depressed:""},on:{click:function(i){return t.clickApplyTest(e)}}},[t._v("Apply ")])],1)],1):t._e()],1)}))],2),i("v-card",{staticClass:"mx-auto",attrs:{outlined:"",rounded:"","max-width":"980"}},[i("v-data-table",{attrs:{"mobile-breakpoint":"200","hide-default-footer":"","items-per-page":-1,headers:t.roundsHeaders,items:t.rounds,"must-sort":"",dense:""},scopedSlots:t._u([{key:"item.position_index",fn:function(e){var s=e.item;return[i("v-chip",{staticClass:"pa-1",attrs:{color:t.winColor(s.up_down,s.position_index,s.position,s.status),"x-small":""}},[t._v(" "+t._s(s.position_index)+" "),i("small",[t._v(", "+t._s(s.position))])])]}},{key:"item.position_index_long",fn:function(e){var s=e.item;return[i("v-chip",{staticClass:"pa-1",attrs:{color:t.winColor(s.up_down,s.position_index_long,s.position_long,s.status),"x-small":""}},[t._v(" "+t._s(s.position_index_long)+" "),i("small",[t._v(", "+t._s(s.position_long))])])]}},{key:"item.position_index_ema",fn:function(e){var s=e.item;return[i("v-chip",{staticClass:"pa-1",attrs:{color:t.winColor(s.up_down,s.position_index_ema,s.position_ema,s.status),"x-small":""}},[t._v(" "+t._s(s.position_index_ema)+" "),i("small",[t._v(", "+t._s(s.position_ema))])])]}},{key:"item.position_index_zig",fn:function(e){var s=e.item;return[i("v-chip",{staticClass:"pa-1",attrs:{color:t.winColor(s.up_down,s.position_index_zig,s.position_zig,s.status),"x-small":""}},[t._v(" "+t._s(s.position_index_zig)+" "),i("small",[t._v(", "+t._s(s.position_zig))])])]}},{key:"item.position_index_short",fn:function(e){var s=e.item;return[i("v-chip",{staticClass:"pa-1",attrs:{color:t.winColor(s.up_down,s.position_index_short,s.position_short,s.status),"x-small":""}},[t._v(" "+t._s(s.position_index_short)+" "),i("small",[t._v(", "+t._s(s.position_short))])])]}},{key:"item.position_index_updown",fn:function(e){var s=e.item;return[i("v-chip",{staticClass:"pa-1",attrs:{color:t.winColor(s.up_down,s.position_index_updown,s.position_updown,s.status),"x-small":""}},[t._v(" "+t._s(s.position_index_updown)+" "),i("small",[t._v(", "+t._s(s.position_updown))])])]}},{key:"item.position_index_udreverse",fn:function(e){var s=e.item;return[i("v-chip",{directives:[{name:"show",rawName:"v-show",value:1===s.position_index_udreverse,expression:"item.position_index_udreverse === 1"}],staticClass:"pa-1",attrs:{color:t.winColor(s.up_down,s.position_index_udreverse,s.position_udreverse,s.status),"x-small":""}},[t._v(" "+t._s(s.position_index_udreverse)+" "),i("small",[t._v(", "+t._s(s.position_udreverse))])])]}},{key:"item.position_index_rsiplain",fn:function(e){var s=e.item;return[i("v-chip",{staticClass:"pa-1",attrs:{color:t.winColor(s.up_down,s.position_index_rsiplain,s.position_rsiplain,s.status),"x-small":""}},[t._v(" "+t._s(s.position_index_rsiplain)+" "),i("small",[t._v(", "+t._s(s.position_rsiplain))])])]}},{key:"item.position_index_gaprsi",fn:function(e){var s=e.item;return[i("v-chip",{staticClass:"pa-1",attrs:{color:t.winColor(s.up_down,s.position_index_gaprsi,s.position_gaprsi,s.status),"x-small":""}},[t._v(" "+t._s(s.position_index_gaprsi)+" "),i("small",[t._v(", "+t._s(s.position_gaprsi))])])]}},{key:"item.position_index_rsi",fn:function(e){var s=e.item;return[i("v-chip",{staticClass:"pa-1",attrs:{color:t.winColor(s.up_down,s.position_index_rsi,s.position_rsi,s.status),"x-small":""}},[t._v(" "+t._s(s.position_index_rsi)+" "),i("small",[t._v(", "+t._s(s.position_rsi))])])]}},{key:"item.position_index_test",fn:function(e){var s=e.item;return[i("v-chip",{staticClass:"pa-1",attrs:{color:t.winColor(s.up_down,s.position_index_test,s.position_test,s.status),"x-small":""}},[t._v(" "+t._s(s.position_index_test)+" "),i("small",[t._v(", "+t._s(s.position_test))])])]}},{key:"item.position_index_up",fn:function(e){var s=e.item;return[i("v-chip",{staticClass:"pa-1",attrs:{color:t.winColor3(s.up_down,s.position_index_up,s.position_up,s.status),"x-small":""}},[t._v(" "+t._s(s.position_index_up)+" "),i("small",[t._v(", "+t._s(s.position_up))])])]}},{key:"item.position_index_up2",fn:function(e){var s=e.item;return[i("v-chip",{staticClass:"pa-1",attrs:{color:t.winColor(s.up_down,s.position_index_up2,s.position_up2,s.status),"x-small":""}},[t._v(" "+t._s(s.position_index_up2)+" "),i("small",[t._v(", "+t._s(s.position_up2))])])]}},{key:"item.position_index_down",fn:function(e){var s=e.item;return[i("v-chip",{staticClass:"pa-1",attrs:{color:t.winColor3(s.up_down,s.position_index_down,s.position_down,s.status),"x-small":""}},[t._v(" "+t._s(s.position_index_down)+" "),i("small",[t._v(", "+t._s(s.position_down))])])]}},{key:"item.position_index_down2",fn:function(e){var s=e.item;return[i("v-chip",{staticClass:"pa-1",attrs:{color:t.winColor(s.up_down,s.position_index_down2,s.position_down2,s.status),"x-small":""}},[t._v(" "+t._s(s.position_index_down2)+" "),i("small",[t._v(", "+t._s(s.position_down2))])])]}},{key:"item.position_index_final",fn:function(e){var s=e.item;return[i("v-chip",{directives:[{name:"show",rawName:"v-show",value:1===s.position_index_final,expression:"item.position_index_final === 1"}],staticClass:"pa-1",attrs:{color:t.winColor(s.up_down,s.position_index_final,s.position_final,s.status),"x-small":""}},[t._v(" "+t._s(s.position_index_final)+", "+t._s(s.position_final)+" ")])]}},{key:"item.up_down",fn:function(e){var s=e.item;return[i("v-chip",{staticClass:"pa-1",attrs:{color:t.upDownColor(s),"x-small":""}},[t._v(" "+t._s(s.up_down)+" ")])]}},{key:"item.position_index_reverse",fn:function(e){var s=e.item;return[i("v-chip",{staticClass:"pa-1",attrs:{color:t.winColor(s.up_down,1,s.position_rsi,s.status),"x-small":""}},[t._v(" "+t._s(s.position_index_reverse)+", "+t._s(s.position_rsi)+" ")])]}},{key:"item.status",fn:function(e){var s=e.item;return[i("v-chip",{staticClass:"pa-1",attrs:{color:t.statusColor(s.status),"x-small":""}})]}},{key:"item.amt",fn:function(e){var s=e.item;return[i("small",[t._v(t._s(s.amt))])]}},{key:"item.order_index",fn:function(e){var s=e.item;return[i("v-chip",{staticClass:"pa-1",attrs:{color:t.winColor(s.up_down,s.order_index,s.order_position,s.status),"x-small":""}},[t._v(" "+t._s(s.order_index)+" "+t._s(s.order_position)+" ")])]}},{key:"item.epoch",fn:function(e){var s=e.item;return[i("small",[t._v(t._s(s.epoch))])]}},{key:"item.amt_test",fn:function(e){var s=e.item;return[i("small",[t._v(t._s(t.cToFixed(s.amt_test,5)))])]}},{key:"item.rsi",fn:function(e){var s=e.item;return[i("small",[t._v(t._s(s.rsi))])]}},{key:"item.ema_gap",fn:function(e){var s=e.item;return[i("small",[t._v(t._s(t.cToFixed(s.ema_gap,3)))])]}},{key:"item.ema_gap1",fn:function(e){var s=e.item;return[i("small",[t._v(t._s(t.cToFixed(s.ema_gap1,3)))])]}},{key:"item.ema1_before",fn:function(e){var s=e.item;return[i("small",[t._v(t._s(s.ema1_before))])]}},{key:"item.ema1_now",fn:function(e){var s=e.item;return[i("small",[t._v(t._s(s.ema1_now))])]}},{key:"item.lock_timestamp",fn:function(e){var s=e.item;return[i("small",[t._v(t._s(s.lock_timestamp))])]}},{key:"item.payout",fn:function(e){var s=e.item;return[i("small",[t._v(t._s(t.cToFixed(s.payout,2)))])]}},{key:"item.income",fn:function(e){var s=e.item;return[s.income>0?i("small",[t._v(t._s(t.cToFixed(s.income,3)))]):t._e()]}},{key:"item.testIncome",fn:function(e){var s=e.item;return[i("small",[t._v(t._s(t.cToFixed(s.testIncome,6)))])]}},{key:"item.hash",fn:function(e){var s=e.item;return[i("a",{attrs:{href:s.hash,target:"new"}},[i("small",[t._v(t._s(s.hashShort))])])]}}])})],1)],1)},bi=[],gi={data:function(){return{roundsHeaders:[{text:"epoch",value:"epoch"},{text:"UpDown",value:"up_down"},{text:"order",value:"order_index"},{text:"amt",value:"amt"},{text:"income",value:"income"},{text:"payout",value:"payout"},{text:"up2",value:"position_index_up2"},{text:"down2",value:"position_index_down2"},{text:"up",value:"position_index_up"},{text:"down",value:"position_index_down"},{text:"GapRsi",value:"position_index_gaprsi"},{text:"RsiPlain",value:"position_index_rsiplain"},{text:"test",value:"position_index_test"},{text:"time",value:"lock_timestamp"}],indexHeaders:[{text:"",value:"s"},{text:"1",value:"i1"},{text:"2",value:"i2"},{text:"3",value:"i3"},{text:"4",value:"i4"},{text:"5",value:"i5"},{text:"6",value:"i6"},{text:"7",value:"i7"},{text:"8",value:"i8"}],rounds:[],amts_test1:[],amts_test2:[],amts_actual:[],amtList:[],summary:{followWinCount:0,sumTestIncomeWin:0,sumTestIncomeLose:0,sumTest2IncomeWin:0,sumTest2IncomeLose:0,winCount:[]},settings:{}}},created:function(){this.setAmts(),this.getSettings(),this.init()},methods:{init:function(){var t=this;return Object(tt["a"])(regeneratorRuntime.mark((function e(){var i,s,n,r,o,a,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log(t.amts_test1),console.log(t.amts_test2),e.next=4,yt.get("/pish/prediction/rounds2");case 4:i=e.sent,t.summary.followWinCount=0,t.summary.positionWinCount=0,t.summary.positionCount=0,t.summary.position1WinCount=0,t.summary.upCount=0,t.summary.downCount=0,t.summary.sumPayout=0,t.summary.payoutCount=0,t.summary.winCount=[{s:"order",i1:0,i2:0,i3:0,i4:0,i5:0,i6:0,i7:0,i8:0},{s:"order",i1:0,i2:0,i3:0,i4:0,i5:0,i6:0,i7:0,i8:0},{s:"test",i1:0,i2:0,i3:0,i4:0,i5:0,i6:0,i7:0,i8:0},{s:"test",i1:0,i2:0,i3:0,i4:0,i5:0,i6:0,i7:0,i8:0},{s:"up2",i1:0,i2:0,i3:0,i4:0,i5:0,i6:0,i7:0,i8:0},{s:"up2",i1:0,i2:0,i3:0,i4:0,i5:0,i6:0,i7:0,i8:0},{s:"down2",i1:0,i2:0,i3:0,i4:0,i5:0,i6:0,i7:0,i8:0},{s:"down2",i1:0,i2:0,i3:0,i4:0,i5:0,i6:0,i7:0,i8:0},{s:"up",i1:0,i2:0,i3:0,i4:0,i5:0,i6:0,i7:0,i8:0},{s:"up",i1:0,i2:0,i3:0,i4:0,i5:0,i6:0,i7:0,i8:0},{s:"down",i1:0,i2:0,i3:0,i4:0,i5:0,i6:0,i7:0,i8:0},{s:"down",i1:0,i2:0,i3:0,i4:0,i5:0,i6:0,i7:0,i8:0}],s=Object(L["a"])(i);try{for(s.s();!(n=s.n()).done;)r=n.value,r.hash&&(r.hashShort=r.hash.substr(0,5)),"UP"===r.up_down?t.summary.upCount++:t.summary.downCount++,"UP"!==r.order_position&&"DOWN"!==r.order_position||(t.summary.positionCount++,r.order_position===r.up_down?(o="i"+r.order_index,t.summary.winCount[0][o]++,t.summary.positionWinCount++,1===r.order_index&&t.summary.position1WinCount++):(a="i"+r.order_index,t.summary.winCount[1][a]++)),l=new Date(r.lock_timestamp).setHours(new Date(r.lock_timestamp).getHours()+9),r.lock_timestamp=t.date2str(new Date(l),"dd hh:mm"),r.price=r.close_price-r.lock_price}catch(u){s.e(u)}finally{s.f()}i=t.testPositionUp(i),i=t.testPositionUpDown(i),i=t.testPositionTest(i),t.testAmtProfit(i),console.log(t.summary.followWinCountList),t.rounds=i;case 22:case"end":return e.stop()}}),e)})))()},testAmtProfit:function(t){var e,i=0,s=0,n=0,r=0,o=0,a=0,l=Object(L["a"])(t);try{for(l.s();!(e=l.n()).done;){var u=e.value,c=47e-5,m=Number(this.amts_test1[u.position_index-1]),d=Number(this.amts_test2[u.position_index-1]);if(isNaN(m)&&(m=0),isNaN(d)&&(d=0),u.up_down===u.order_position&&u.amt>0){var p=0;"UP"===u.up_down?(u.payout=u.bear_amt/u.bull_amt+1,p=u.bear_amt/u.bull_amt+1):(u.payout=u.bull_amt/u.bear_amt+1,p=u.bull_amt/u.bear_amt+1),u.income=u.amt*p*.97-u.amt;var _=m*p*.97-m,v=d*p*.97-d;u.income>0&&(u.income+=c),_>0&&(_+=c),v>0&&(v+=c),i+=u.income,n+=_,o+=v,u.amt>0&&(this.summary.sumPayout+=.97*p,this.summary.payoutCount++)}else if(u.amt>0){u.income=-u.amt;var h=-m,f=-d;u.income>0&&(u.income+=c),h>0&&(h+=c),f>0&&(f+=c),s+=u.income,r+=h,a+=f}}}catch(y){l.e(y)}finally{l.f()}this.summary.sumIncomeWin=i,this.summary.sumTestIncomeWin=n,this.summary.sumTest2IncomeWin=o,this.summary.sumIncomeLose=s,this.summary.sumTestIncomeLose=r,this.summary.sumTest2IncomeLose=a,console.log(this.summary.sumTestIncomeWin,this.summary.sumTestIncomeLose)},testPositionReverse:function(t){var e=0,i=0;this.summary.positionRsiCount=0,this.summary.positionRsiWinCount=0;for(var s=t.length-1;s>=0;s--)if("UP"===t[s].position_rsi||"DOWN"===t[s].position_rsi){var n,r=this.getFrame(t,s+2,20),o=[],a=t[s].epoch%2,l=Object(L["a"])(r);try{for(l.s();!(n=l.n()).done;){var u=n.value;!u||"UP"!==u.position_rsi&&"DOWN"!==u.position_rsi||u.epoch%2!==a||o.push(u)}}catch(h){l.e(h)}finally{l.f()}o=o[0],o&&("UP"!==o.position_rsi&&"DOWN"!==o.position_rsi||this.summary.positionRsiCount++,o.up_down===o.position_rsi?(this.summary.positionRsiWinCount++,t[s].position_index_reverse=1):t[s].position_index_reverse=o.position_index_reverse+1)}for(var c=t.length-3;c>=0;c--){var m=47e-5;if("UP"===t[c].position_rsi||"DOWN"===t[c].position_rsi){var d=this.amts_test1[t[c].position_index_reverse-1];if(t[c].up_down===t[c].position_rsi){var p=0;p="UP"===t[c].up_down?t[c].bear_amt/t[c].bull_amt+1:t[c].bull_amt/t[c].bear_amt+1;var _=d*p*.97-d;_>0&&(_+=m),void 0!==d&&(e+=_,t[c].amt_test=_)}else{var v=-d;v>0&&(v+=m),void 0!==d&&(i+=v,t[c].amt_test=v)}}}return this.summary.sumPositionRsiWin=e,this.summary.sumPositionRsiLose=i,t},testPositionUdReverse:function(t){var e=0,i=0;this.summary.winCount[2].i1=0,this.summary.winCount[2].i2=0,this.summary.winCount[2].i3=0,this.summary.winCount[2].i4=0,this.summary.winCount[2].i5=0,this.summary.winCount[2].i6=0,this.summary.winCount[2].i7=0,this.summary.winCount[2].i8=0,this.summary.winCount[3].i1=0,this.summary.winCount[3].i2=0,this.summary.winCount[3].i3=0,this.summary.winCount[3].i4=0,this.summary.winCount[3].i5=0,this.summary.winCount[3].i6=0,this.summary.winCount[3].i7=0,this.summary.winCount[3].i8=0,this.summary.positionUdReverseCount=0,this.summary.positionUdReverseWinCount=0;for(var s=2,n=t.length-3;n>=0;n--){var r="";r="UP"===t[n+2].up_down?"DOWN":"UP",t[n].position_udreverse=r;var o=this.getFrame(t,n+s,1);if(void 0!==o[0]&&o.length>0){var a=o[0];"SKIP"!==a.position_udreverse?a.up_down===a.position_udreverse?t[n].position_index_udreverse=1:t[n].position_index_udreverse=a.position_index_udreverse+1:t[n].position_index_udreverse=a.position_index_udreverse}}for(var l=t.length-13;l>=0;l--){var u,c=this.getFrame(t,l+2,10),m=[],d=t[l].epoch%2,p=Object(L["a"])(c);try{for(p.s();!(u=p.n()).done;){var _=u.value;_&&_.epoch%2===d&&m.push(_)}}catch(T){p.e(T)}finally{p.f()}m=m[0],m&&(1===m.position_index_udreverse||3===m.position_index_udreverse||4===m.position_index_udreverse||5===m.position_index_udreverse?m.up_down===m.position_udreverse?t[l].position_index_up4=1:t[l].position_index_up4=m.position_index_up4+1:t[l].position_index_up4=m.position_index_up4)}for(var v=t.length-3;v>=0;v--){var h=47e-5;if("UP"===t[v].position_udreverse||"DOWN"===t[v].position_udreverse){var f=this.amts_test1[t[v].position_index_udreverse-1];if(t[v].up_down===t[v].position_udreverse){var y=0;y="UP"===t[v].up_down?t[v].bear_amt/t[v].bull_amt+1:t[v].bull_amt/t[v].bear_amt+1;var b=f*y*.97-f;b>0&&(b+=h),void 0!==f&&(e+=b,t[v].amt_test=b)}else{var g=-f;g>0&&(g+=h),void 0!==f&&(i+=g,t[v].amt_test=g)}}if("SKIP"!==t[v].position_udreverse)if(this.summary.positionUdReverseCount++,t[v].up_down===t[v].position_udreverse){this.summary.positionUdReverseWinCount++;var x="i"+t[v].position_index_udreverse;this.summary.winCount[2][x]++}else{var w="i"+t[v].position_index_udreverse;this.summary.winCount[3][w]++}}for(var C=1;C<6;C++){var k="i"+C,P=this.summary.winCount[2][k]/(this.summary.winCount[2][k]+this.summary.winCount[3][k])*100;P=P.toFixed(2),this.summary.winCount[2][k]=this.summary.winCount[2][k]+" ("+P+")"}return this.summary.sumPositionUdReverseWin=e,this.summary.sumPositionUdReverseLose=i,t},testPositionDown:function(t){this.summary.winCount[10].i1=0,this.summary.winCount[10].i2=0,this.summary.winCount[10].i3=0,this.summary.winCount[10].i4=0,this.summary.winCount[10].i5=0,this.summary.winCount[10].i6=0,this.summary.winCount[10].i7=0,this.summary.winCount[10].i8=0,this.summary.winCount[11].i1=0,this.summary.winCount[11].i2=0,this.summary.winCount[11].i3=0,this.summary.winCount[11].i4=0,this.summary.winCount[11].i5=0,this.summary.winCount[11].i6=0,this.summary.winCount[11].i7=0,this.summary.winCount[11].i8=0,this.summary.positionUpCount=0,this.summary.positionUpWinCount=0;for(var e=2,i=t.length-3;i>=0;i--){var s="DOWN";t[i].position_down=s;var n=this.getFrame(t,i+e,1);if(void 0!==n[0]&&n.length>0){var r=n[0];"SKIP"!==r.position_down?(this.summary.positionUpCount++,r.up_down===r.position_down?(this.summary.positionUpWinCount++,t[i].position_index_down=1):t[i].position_index_down=r.position_index_down+1):t[i].position_index_down=r.position_index_down}}for(var o=t.length-3;o>=0;o--){var a=47e-5;if("UP"===t[o].position_down||"DOWN"===t[o].position_down){var l=this.amts_test1[t[o].position_index_down-1];if(t[o].up_down===t[o].position_down){var u=0;u="UP"===t[o].up_down?t[o].bear_amt/t[o].bull_amt+1:t[o].bull_amt/t[o].bear_amt+1;var c=l*u*.97-l;c>0&&(c+=a),void 0!==l&&(c,t[o].amt_test=c)}else{var m=-l;m>0&&(m+=a),void 0!==l&&(m,t[o].amt_test=m)}}if("SKIP"!==t[o].position_down)if(t[o].up_down===t[o].position_down){var d="i"+t[o].position_index_down;this.summary.winCount[10][d]++}else{var p="i"+t[o].position_index_down;this.summary.winCount[11][p]++}}for(var _=1;_<9;_++){var v="i"+_,h=this.summary.winCount[10][v]/(this.summary.winCount[10][v]+this.summary.winCount[11][v])*100;h=h.toFixed(2),this.summary.winCount[10][v]=this.summary.winCount[10][v]+" ("+h+")"}return t},testPositionUp:function(t){var e=0,i=0;this.summary.winCount[4].i1=0,this.summary.winCount[4].i2=0,this.summary.winCount[4].i3=0,this.summary.winCount[4].i4=0,this.summary.winCount[4].i5=0,this.summary.winCount[4].i6=0,this.summary.winCount[4].i7=0,this.summary.winCount[4].i8=0,this.summary.winCount[5].i1=0,this.summary.winCount[5].i2=0,this.summary.winCount[5].i3=0,this.summary.winCount[5].i4=0,this.summary.winCount[5].i5=0,this.summary.winCount[5].i6=0,this.summary.winCount[5].i7=0,this.summary.winCount[5].i8=0,this.summary.winCount[8].i1=0,this.summary.winCount[8].i2=0,this.summary.winCount[8].i3=0,this.summary.winCount[8].i4=0,this.summary.winCount[8].i5=0,this.summary.winCount[8].i6=0,this.summary.winCount[8].i7=0,this.summary.winCount[8].i8=0,this.summary.winCount[9].i1=0,this.summary.winCount[9].i2=0,this.summary.winCount[9].i3=0,this.summary.winCount[9].i4=0,this.summary.winCount[9].i5=0,this.summary.winCount[9].i6=0,this.summary.winCount[9].i7=0,this.summary.winCount[9].i8=0,this.summary.positionUpCount=0,this.summary.positionUpWinCount=0;for(var s=2,n=5,r="UP",o=t.length-7;o>=0;o--){t[o].position_up=r;for(var a=0,l=2;l<2+n;l++)t[o+l].up_down===r&&a++;0===a&&(t[o].position_up="")}for(var u=t.length-3;u>=0;u--)3===t[u+2].position_index_up&&""===t[u+2].position_up&&(t[u+2].position_up="UP"),t[u+2].position_up===r?t[u+2].up_down===t[u+2].position_up?t[u].position_index_up=1:t[u].position_index_up=t[u+2].position_index_up+1:t[u].position_index_up=t[u+2].position_index_up;for(var c=10,m=t.length-(c+1);m>=0;m--){var d=this.getFrame(t,m+s,c);if(void 0!==d[0]&&d.length>0){var p=d[0];p.position_index_up>=3&&(p.position_up2=p.position_up,3===p.position_index_up&&(p.position_index_up2=1)),"UP"===p.position_up2||"DOWN"===p.position_up2?(this.summary.positionUpCount++,p.up_down===p.position_up2?(this.summary.positionUpWinCount++,t[m].position_index_up2=1):t[m].position_index_up2=p.position_index_up2+1):t[m].position_index_up2=p.position_index_up2}}for(var _=t.length-3;_>=0;_--){var v=47e-5;if("UP"===t[_].position_up2||"DOWN"===t[_].position_up2){var h=this.amts_test1[t[_].position_index_up2-1];if(t[_].up_down===t[_].position_up2){var f=0;f="UP"===t[_].up_down?t[_].bear_amt/t[_].bull_amt+1:t[_].bull_amt/t[_].bear_amt+1;var y=h*f*.97-h;y>0&&(y+=v),void 0!==h&&(e+=y,t[_].amt_test=y)}else{var b=-h;b>0&&(b+=v),void 0!==h&&(i+=b,t[_].amt_test=b)}}if("UP"===t[_].position_up2||"DOWN"===t[_].position_up2)if(t[_].up_down===t[_].position_up2){var g="i"+t[_].position_index_up2;this.summary.winCount[4][g]++}else{var x="i"+t[_].position_index_up2;this.summary.winCount[5][x]++}if("UP"===t[_].position_up||"DOWN"===t[_].position_up)if(t[_].up_down===t[_].position_up){var w="i"+t[_].position_index_up;this.summary.winCount[8][w]++}else{var C="i"+t[_].position_index_up;this.summary.winCount[9][C]++}}for(var k=1;k<9;k++){var P="i"+k,T=this.summary.winCount[4][P]/(this.summary.winCount[4][P]+this.summary.winCount[5][P])*100;T=T.toFixed(2),this.summary.winCount[4][P]=this.summary.winCount[4][P]+" ("+T+")",T=this.summary.winCount[8][P]/(this.summary.winCount[8][P]+this.summary.winCount[9][P])*100,T=T.toFixed(2),this.summary.winCount[8][P]=this.summary.winCount[8][P]+" ("+T+")"}return this.summary.sumPositionUpWin=e,this.summary.sumPositionUpLose=i,t},testPositionUpDown:function(t){var e=0,i=0;this.summary.winCount[6].i1=0,this.summary.winCount[6].i2=0,this.summary.winCount[6].i3=0,this.summary.winCount[6].i4=0,this.summary.winCount[6].i5=0,this.summary.winCount[6].i6=0,this.summary.winCount[6].i7=0,this.summary.winCount[6].i8=0,this.summary.winCount[7].i1=0,this.summary.winCount[7].i2=0,this.summary.winCount[7].i3=0,this.summary.winCount[7].i4=0,this.summary.winCount[7].i5=0,this.summary.winCount[7].i6=0,this.summary.winCount[7].i7=0,this.summary.winCount[7].i8=0,this.summary.winCount[10].i1=0,this.summary.winCount[10].i2=0,this.summary.winCount[10].i3=0,this.summary.winCount[10].i4=0,this.summary.winCount[10].i5=0,this.summary.winCount[10].i6=0,this.summary.winCount[10].i7=0,this.summary.winCount[10].i8=0,this.summary.winCount[11].i1=0,this.summary.winCount[11].i2=0,this.summary.winCount[11].i3=0,this.summary.winCount[11].i4=0,this.summary.winCount[11].i5=0,this.summary.winCount[11].i6=0,this.summary.winCount[11].i7=0,this.summary.winCount[11].i8=0,this.summary.positionUpCount=0,this.summary.positionUpWinCount=0;for(var s=2,n=5,r="DOWN",o=t.length-7;o>=0;o--){t[o].position_down=r;for(var a=0,l=2;l<2+n;l++)t[o+l].up_down===r&&a++;0===a&&(t[o].position_down="")}for(var u=t.length-3;u>=0;u--)3===t[u+2].position_index_down&&""===t[u+2].position_down&&(t[u+2].position_down="DOWN"),t[u+2].position_down===r?t[u+2].up_down===t[u+2].position_down?t[u].position_index_down=1:t[u].position_index_down=t[u+2].position_index_down+1:t[u].position_index_down=t[u+2].position_index_down;for(var c=10,m=t.length-(c+1);m>=0;m--){var d=this.getFrame(t,m+s,c);if(void 0!==d[0]&&d.length>0){var p=d[0];p.position_index_down>=3&&(p.position_down2=p.position_down,3===p.position_index_down&&(p.position_index_down2=1)),"UP"===p.position_down2||"DOWN"===p.position_down2?(this.summary.positionUpCount++,p.up_down===p.position_down2?(this.summary.positionUpWinCount++,t[m].position_index_down2=1):t[m].position_index_down2=p.position_index_down2+1):t[m].position_index_down2=p.position_index_down2}}for(var _=t.length-3;_>=0;_--){var v=47e-5;if("UP"===t[_].position_down2||"DOWN"===t[_].position_down2){var h=this.amts_test1[t[_].position_index_down2-1];if(t[_].up_down===t[_].position_down2){var f=0;f="UP"===t[_].up_down?t[_].bear_amt/t[_].bull_amt+1:t[_].bull_amt/t[_].bear_amt+1;var y=h*f*.97-h;y>0&&(y+=v),void 0!==h&&(e+=y,t[_].amt_test=y)}else{var b=-h;b>0&&(b+=v),void 0!==h&&(i+=b,t[_].amt_test=b)}}if("UP"===t[_].position_down2||"DOWN"===t[_].position_down2)if(t[_].up_down===t[_].position_down2){var g="i"+t[_].position_index_down2;this.summary.winCount[6][g]++}else{var x="i"+t[_].position_index_down2;this.summary.winCount[7][x]++}if("UP"===t[_].position_down||"DOWN"===t[_].position_down)if(t[_].up_down===t[_].position_down){var w="i"+t[_].position_index_down;this.summary.winCount[10][w]++}else{var C="i"+t[_].position_index_down;this.summary.winCount[11][C]++}}for(var k=1;k<9;k++){var P="i"+k,T=this.summary.winCount[6][P]/(this.summary.winCount[6][P]+this.summary.winCount[7][P])*100;T=T.toFixed(2),this.summary.winCount[6][P]=this.summary.winCount[6][P]+" ("+T+")",T=this.summary.winCount[10][P]/(this.summary.winCount[10][P]+this.summary.winCount[11][P])*100,T=T.toFixed(2),this.summary.winCount[10][P]=this.summary.winCount[10][P]+" ("+T+")"}return this.summary.sumPositionDownWin=e,this.summary.sumPositionDownLose=i,t},testPositionRsiPlain:function(t){var e=0,i=0;this.summary.winCount[8].i1=0,this.summary.winCount[8].i2=0,this.summary.winCount[8].i3=0,this.summary.winCount[8].i4=0,this.summary.winCount[8].i5=0,this.summary.winCount[8].i6=0,this.summary.winCount[8].i7=0,this.summary.winCount[8].i8=0,this.summary.winCount[8].i9=0,this.summary.winCount[9].i1=0,this.summary.winCount[9].i2=0,this.summary.winCount[9].i3=0,this.summary.winCount[9].i4=0,this.summary.winCount[9].i5=0,this.summary.winCount[9].i6=0,this.summary.winCount[9].i7=0,this.summary.winCount[9].i8=0,this.summary.winCount[9].i9=0,this.summary.positionRsiPlainCount=0,this.summary.positionRsiPlainWinCount=0;for(var s=2,n=t.length-2;n>=0;n--){var r=t[n].ema_gap>0?"UP":"DOWN";t[n].position_rsiplain=r;var o=this.getFrame(t,n+s,1);if(void 0!==o[0]&&o.length>0){var a=o[0];"UP"===a.position_rsiplain||"DOWN"===a.position_rsiplain?a.up_down===a.position_rsiplain?t[n].position_index_rsiplain=1:t[n].position_index_rsiplain=a.position_index_rsiplain+1:t[n].position_index_rsiplain=a.position_index_rsiplain}}for(var l=t.length-3;l>=0;l--){var u=47e-5;if("UP"===t[l].position_rsiplain||"DOWN"===t[l].position_rsiplain){var c=this.amts_test1[t[l].position_index_rsiplain-1];if(t[l].up_down===t[l].position_rsiplain){var m=0;m="UP"===t[l].up_down?t[l].bear_amt/t[l].bull_amt+1:t[l].bull_amt/t[l].bear_amt+1;var d=c*m*.97-c;d>0&&(d+=u),void 0!==c&&(e+=d,t[l].amt_test=d)}else{var p=-c;p>0&&(p+=u),void 0!==c&&(i+=p,t[l].amt_test=p)}}if("SKIP"!==t[l].position_rsiplain)if(t[l].up_down===t[l].position_rsiplain){this.summary.positionRsiPlainCount++,this.summary.positionRsiPlainWinCount++;var _="i"+t[l].position_index_rsiplain;this.summary.winCount[8][_]++}else{this.summary.positionRsiPlainCount++;var v="i"+t[l].position_index_rsiplain;this.summary.winCount[9][v]++}}for(var h=1;h<6;h++){var f="i"+h,y=this.summary.winCount[8][f]/(this.summary.winCount[8][f]+this.summary.winCount[9][f])*100;y=y.toFixed(2),this.summary.winCount[8][f]=this.summary.winCount[8][f]+" ("+y+")"}return this.summary.sumPositionRsiPlainWin=e,this.summary.sumPositionRsiPlainLose=i,t},testPositionTest:function(t){var e=0,i=0;this.summary.winCount[2].i1=0,this.summary.winCount[2].i2=0,this.summary.winCount[2].i3=0,this.summary.winCount[2].i4=0,this.summary.winCount[2].i5=0,this.summary.winCount[2].i6=0,this.summary.winCount[2].i7=0,this.summary.winCount[2].i8=0,this.summary.winCount[2].i9=0,this.summary.winCount[3].i1=0,this.summary.winCount[3].i2=0,this.summary.winCount[3].i3=0,this.summary.winCount[3].i4=0,this.summary.winCount[3].i5=0,this.summary.winCount[3].i6=0,this.summary.winCount[3].i7=0,this.summary.winCount[3].i8=0,this.summary.winCount[3].i9=0,this.summary.positionTestCount=0,this.summary.positionTestWinCount=0;for(var s=t.length-1;s>=0;s--){var n="";1===t[s].position_index_down2||2===t[s].position_index_down2?n=t[s].position_down2:1===t[s].position_index_up2&&(n=t[s].position_up2),t[s].position_test=n}for(var r=2,o=t.length-17;o>=0;o--){var a,l=this.getFrame(t,o+r,55),u=[],c=t[o].epoch%r,m=Object(L["a"])(l);try{for(m.s();!(a=m.n()).done;){var d=a.value;!d||"UP"!==d.position_test&&"DOWN"!==d.position_test||d.epoch%r!==c||u.push(d)}}catch(k){m.e(k)}finally{m.f()}u=u[0],void 0!==u&&("UP"===u.position_test||"DOWN"===u.position_test?u.up_down===u.position_test?t[o].position_index_test=1:t[o].position_index_test=u.position_index_test+1:t[o].position_index_test=u.position_index_test)}for(var p=t.length-3;p>=0;p--){var _=47e-5;if("UP"===t[p].position_test||"DOWN"===t[p].position_test){var v=this.amts_test1[t[p].position_index_test-1];if(t[p].up_down===t[p].position_test){var h=0;h="UP"===t[p].up_down?t[p].bear_amt/t[p].bull_amt+1:t[p].bull_amt/t[p].bear_amt+1;var f=v*h*.97-v;f>0&&(f+=_),void 0!==v&&(e+=f,t[p].amt_test=f)}else{var y=-v;y>0&&(y+=_),void 0!==v&&(i+=y,t[p].amt_test=y)}}if("UP"===t[p].position_test||"DOWN"===t[p].position_test)if(t[p].up_down===t[p].position_test){this.summary.positionTestWinCount++,this.summary.positionTestCount++;var b="i"+t[p].position_index_test;this.summary.winCount[2][b]++}else{this.summary.positionTestCount++;var g="i"+t[p].position_index_test;this.summary.winCount[3][g]++}}for(var x=1;x<8;x++){var w="i"+x,C=this.summary.winCount[2][w]/(this.summary.winCount[2][w]+this.summary.winCount[3][w])*100;C=C.toFixed(2),this.summary.winCount[2][w]=this.summary.winCount[2][w]+" ("+C+")"}return this.summary.sumPositionTestWin=e,this.summary.sumPositionTestLose=i,t},getFrame:function(t,e,i){for(var s=[],n=e;n<e+i;n++)s.push(t[n]);return s},testPositionGapRsi:function(t){var e=0,i=0;this.summary.positionGapRsiCount=0,this.summary.positionGapRsiWinCount=0,this.summary.winCount[10].i1=0,this.summary.winCount[10].i2=0,this.summary.winCount[10].i3=0,this.summary.winCount[10].i4=0,this.summary.winCount[10].i5=0,this.summary.winCount[10].i6=0,this.summary.winCount[10].i7=0,this.summary.winCount[10].i8=0,this.summary.winCount[11].i1=0,this.summary.winCount[11].i2=0,this.summary.winCount[11].i3=0,this.summary.winCount[11].i4=0,this.summary.winCount[11].i5=0,this.summary.winCount[11].i6=0,this.summary.winCount[11].i7=0,this.summary.winCount[11].i8=0;for(var s=t.length-3;s>=0;s--){var n="";n="",t[s].ema_gap>0&&t[s].rsi>50&&(n="UP"),t[s].ema_gap<0&&t[s].rsi<50&&(n="DOWN"),t[s].position_gaprsi=n}for(var r=t.length-3;r>=0;r--)if("UP"===t[r+2].position_gaprsi||"DOWN"===t[r+2].position_gaprsi?t[r+2].up_down===t[r+2].position_gaprsi?t[r].position_index_gaprsi=1:t[r].position_index_gaprsi=t[r+2].position_index_gaprsi+1:t[r].position_index_gaprsi=t[r+2].position_index_gaprsi,"UP"===t[r].position_gaprsi||"DOWN"===t[r].position_gaprsi)if(t[r].up_down===t[r].position_gaprsi){this.summary.positionGapRsiCount++,this.summary.positionGapRsiWinCount++;var o="i"+t[r].position_index_gaprsi;this.summary.winCount[10][o]++}else{this.summary.positionGapRsiCount++;var a="i"+t[r].position_index_gaprsi;this.summary.winCount[11][a]++}for(var l=1;l<9;l++){var u="i"+l,c=this.summary.winCount[10][u]/(this.summary.winCount[10][u]+this.summary.winCount[11][u])*100;c=c.toFixed(2),this.summary.winCount[10][u]=this.summary.winCount[10][u]+" ("+c+")"}for(var m=t.length-3;m>=0;m--){var d=47e-5;if("UP"===t[m].position_gaprsi||"DOWN"===t[m].position_gaprsi){var p=this.amts_test1[t[m].position_index_gaprsi-1];if(t[m].up_down===t[m].position_gaprsi){var _=0;_="UP"===t[m].up_down?t[m].bear_amt/t[m].bull_amt+1:t[m].bull_amt/t[m].bear_amt+1;var v=p*_*.97-p;v>0&&(v+=d),void 0!==p&&(e+=v,t[m].amt_test=v)}else{var h=-p;h>0&&(h+=d),void 0!==p&&(i+=h,t[m].amt_test=h)}}}return this.summary.sumPositionGapRsiWin=e,this.summary.sumPositionGapRsiLose=i,t},testPositionRsi:function(t){var e=0,i=0;this.summary.positionRsiCount=0,this.summary.positionRsiWinCount=0,this.summary.winCount[6].i1=0,this.summary.winCount[6].i2=0,this.summary.winCount[6].i3=0,this.summary.winCount[6].i4=0,this.summary.winCount[6].i5=0,this.summary.winCount[6].i6=0,this.summary.winCount[6].i7=0,this.summary.winCount[6].i8=0,this.summary.winCount[7].i1=0,this.summary.winCount[7].i2=0,this.summary.winCount[7].i3=0,this.summary.winCount[7].i4=0,this.summary.winCount[7].i5=0,this.summary.winCount[7].i6=0,this.summary.winCount[7].i7=0,this.summary.winCount[7].i8=0;for(var s=t.length-3;s>=0;s--)if("UP"===t[s+2].position_rsi||"DOWN"===t[s+2].position_rsi?t[s+2].up_down===t[s+2].position_rsi?t[s].position_index_rsi=1:t[s].position_index_rsi=t[s+2].position_index_rsi+1:t[s].position_index_rsi=t[s+2].position_index_rsi,"UP"===t[s].position_rsi||"DOWN"===t[s].position_rsi)if(t[s].up_down===t[s].position_rsi){this.summary.positionRsiCount++,this.summary.positionRsiWinCount++;var n="i"+t[s].position_index_rsi;this.summary.winCount[6][n]++}else{this.summary.positionRsiCount++;var r="i"+t[s].position_index_rsi;this.summary.winCount[7][r]++}for(var o=1;o<9;o++){var a="i"+o,l=this.summary.winCount[6][a]/(this.summary.winCount[6][a]+this.summary.winCount[7][a])*100;l=l.toFixed(2),this.summary.winCount[6][a]=this.summary.winCount[6][a]+" ("+l+")"}for(var u=t.length-3;u>=0;u--){var c=47e-5;if("UP"===t[u].position_rsi||"DOWN"===t[u].position_rsi){var m=this.amts_test1[t[u].position_index_rsi-1];if(t[u].up_down===t[u].position_rsi){var d=0;d="UP"===t[u].up_down?t[u].bear_amt/t[u].bull_amt+1:t[u].bull_amt/t[u].bear_amt+1;var p=m*d*.97-m;p>0&&(p+=c),void 0!==m&&(e+=p,t[u].amt_test=p)}else{var _=-m;_>0&&(_+=c),void 0!==m&&(i+=_,t[u].amt_test=_)}}}return this.summary.sumPositionRsiWin=e,this.summary.sumPositionRsiLose=i,t},setAmts:function(){var t=this;return Object(tt["a"])(regeneratorRuntime.mark((function e(){var i,s,n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.amts_test1=[],t.amts_test2=[],t.amts_actual=[],e.next=5,yt.get("/pish/prediction/amts");case 5:i=e.sent,t.amtList=i,console.log(i),s=Object(L["a"])(i);try{for(s.s();!(n=s.n()).done;)r=n.value,"index2"===r.name?(t.amts_actual.push(r.i1),t.amts_actual.push(r.i2),t.amts_actual.push(r.i3),t.amts_actual.push(r.i4),t.amts_actual.push(r.i5),t.amts_actual.push(r.i6),t.amts_actual.push(r.i7),t.amts_actual.push(r.i8)):"index2_test1"===r.name?(t.amts_test1.push(r.i1),t.amts_test1.push(r.i2),t.amts_test1.push(r.i3),t.amts_test1.push(r.i4),t.amts_test1.push(r.i5),t.amts_test1.push(r.i6),t.amts_test1.push(r.i7),t.amts_test1.push(r.i8)):"index2_test2"===r.name&&(t.amts_test2.push(r.i1),t.amts_test2.push(r.i2),t.amts_test2.push(r.i3),t.amts_test2.push(r.i4),t.amts_test2.push(r.i5),t.amts_test2.push(r.i6),t.amts_test2.push(r.i7),t.amts_test2.push(r.i8))}catch(o){s.e(o)}finally{s.f()}case 10:case"end":return e.stop()}}),e)})))()},getSettings:function(){var t=this;return Object(tt["a"])(regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,yt.get("/pish/prediction/rounds2/settings");case 2:i=e.sent,t.settings=i[0],console.log(i);case 5:case"end":return e.stop()}}),e)})))()},clickAmtTest:function(){this.testAmtProfit(this.rounds)},clickUpdateSetting:function(){var t=this;return Object(tt["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,yt.put("/pish/prediction/rounds2/settings",t.settings);case 2:case"end":return e.stop()}}),e)})))()},clickUpdateLong:function(){var t=this;return Object(tt["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.settings.long_short=1,e.next=3,yt.put("/pish/prediction/rounds2/settings/longshort",t.settings);case 3:case"end":return e.stop()}}),e)})))()},clickUpdateShort:function(){var t=this;return Object(tt["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.settings.long_short=0,e.next=3,yt.put("/pish/prediction/rounds2/settings/longshort",t.settings);case 3:case"end":return e.stop()}}),e)})))()},clickApplyTest:function(t){return Object(tt["a"])(regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=[],i.push(t.i1),i.push(t.i2),i.push(t.i3),i.push(t.i4),i.push(t.i5),i.push(t.i6),i.push(t.i7),i.push(t.i8),i.push(t.i9),console.log(t.name),console.log(i),e.next=14,yt.put("/pish/prediction/amts",{name:t.name,amt_list:i});case 14:case"end":return e.stop()}}),e)})))()},clickUpdateEma:function(t,e,i){return Object(tt["a"])(regeneratorRuntime.mark((function t(){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return s="index2",t.next=3,yt.put("/pish/prediction/settings/ema",{name:s,ema1:e,ema2:i});case 3:case"end":return t.stop()}}),t)})))()},getPercent:function(t,e){return(e/t*100).toFixed(1)},winColor:function(t,e,i,s){var n="white lighten-3";return t===i&&("UP"===t?e>=6?n="green lighten-2":e>=5?n="green lighten-3":e>=4?n="green lighten-4":e>=1&&(n="green lighten-5"):e>=6?n="red lighten-2":e>=5?n="red lighten-3":e>=4?n="red lighten-4":e>=1&&(n="red lighten-5")),n},winColor3:function(t,e,i,s){var n="white lighten-3";return t===i&&("UP"===t?e>=6?n="green lighten-2":e>=5?n="green lighten-3":e>=4?n="green lighten-4":e>=3&&(n="green lighten-5"):e>=6?n="red lighten-2":e>=5?n="red lighten-3":e>=4?n="red lighten-4":e>=3&&(n="red lighten-5")),n},winFinalColor:function(t,e,i,s,n){var r="white lighten-3";return(t===i||t===s)&&("UP"===t?e>=6?r="green lighten-2":e>=5?r="green lighten-3":e>=4?r="green lighten-4":e>=1&&(r="green lighten-5"):e>=6?r="red lighten-2":e>=5?r="red lighten-3":e>=4?r="red lighten-4":e>=1&&(r="red lighten-5")),r},statusColor:function(t){var e="white lighten-4";return"TX_SUCCESS"===t?e="green lighten-4":"TX_ERROR"===t?e="red lighten-4":"NONE"===t?e="white lighten-4":"SKIP"===t&&(e="amber lighten-4"),e},upDownColor:function(t){var e="grey lighten-4";return"UP"===t.up_down?e="green lighten-5":"DOWN"===t.up_down?e="red lighten-5":"BURN"===t.up_down&&(e="amber lighten-5"),e},date2str:function(t,e){var i={M:t.getMonth()+1,d:t.getDate(),h:t.getHours(),m:t.getMinutes(),s:t.getSeconds()};return e=e.replace(/(M+|d+|h+|m+|s+)/g,(function(t){return((t.length>1?"0":"")+i[t.slice(-1)]).slice(-2)})),e.replace(/(y+)/g,(function(e){return t.getFullYear().toString().slice(-e.length)}))},cToFixed:function(t,e){try{return t.toFixed(e)}catch(i){return""}},cSubstr:function(t,e){var i="";try{i=t.substring(0,e).toLowerCase()}catch(s){console.log("error")}return i}}},xi=gi,wi=Object(u["a"])(xi,yi,bi,!1,null,null,null),Ci=wi.exports;m()(wi,{VBtn:v["a"],VCard:W["a"],VChip:nt["a"],VCol:M["a"],VDataTable:rt["a"],VDivider:Ot["a"],VRow:F["a"],VTextField:K["a"]});var ki=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("v-card",{staticClass:"mx-auto mt-5",attrs:{"max-width":"620"}},[i("div",[t._v("Hive Voting ")])]),i("v-card",{staticClass:"mx-auto rounded-lg",attrs:{outlined:"","max-width":"620"}},[i("v-text-field",{staticClass:"mt-5 ml-3 mr-3",attrs:{hint:"Please enter the full url of the post.",label:"Post Url"},model:{value:t.postUrl,callback:function(e){t.postUrl=e},expression:"postUrl"}}),i("div",{staticClass:"d-flex flex-row-reverse mt-2 mr-3 mb-5"},[i("v-btn",{attrs:{small:"",depressed:"",color:"grey lighten-4"},on:{click:function(e){return t.clickSubmit()}}},[t._v("submit ")])],1)],1),i("v-snackbar",{staticClass:"mb-12",attrs:{absolute:"",bottom:"",color:"primary",center:"",text:""},model:{value:t.showSnackbar,callback:function(e){t.showSnackbar=e},expression:"showSnackbar"}},[t._v(" The post url is saved. ")]),i("v-card",{staticClass:"mx-auto mt-10",attrs:{"max-width":"620"}},[i("div",[t._v("Voting List")])]),i("v-card",{staticClass:"mx-auto rounded-lg",attrs:{outlined:"","max-width":"620"}},[i("v-data-table",{attrs:{"mobile-breakpoint":"200","hide-default-footer":"","items-per-page":-1,headers:t.votingHeaders,items:t.votingList,dense:""},scopedSlots:t._u([{key:"item.url",fn:function(e){var s=e.item;return[i("a",{attrs:{href:s.url,target:"new"}},[t._v(" "+t._s(s.url)+" ")])]}},{key:"item.voted",fn:function(e){var s=e.item;return[1===s.voted?i("v-icon",{attrs:{small:"",color:"green lighten-2"}},[t._v(" mdi-checkbox-marked-circle-outline ")]):t._e()]}}])})],1)],1)},Pi=[],Ti={components:{},data:function(){return{votingHeaders:[{text:"URL",value:"url"},{text:"Voted",value:"voted"},{text:"Date",value:"newDate"}],votingList:[],postUrl:null,showSnackbar:!1}},created:function(){this.init()},methods:{init:function(){var t=this;return Object(tt["a"])(regeneratorRuntime.mark((function e(){var i,s,n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,yt.get("/pish/hive/votings");case 2:i=e.sent,s=Object(L["a"])(i);try{for(s.s();!(n=s.n()).done;)r=n.value,r.newDate=t.date2str(new Date(r.created_date),"yyyy-MM-dd hh:mm")}catch(o){s.e(o)}finally{s.f()}t.votingList=i;case 6:case"end":return e.stop()}}),e)})))()},clickSubmit:function(){var t=this;return Object(tt["a"])(regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i={url:t.postUrl},e.next=3,yt.post("/pish/hive/votings",i);case 3:t.init(),t.postUrl=null,t.showSnackbar=!0;case 6:case"end":return e.stop()}}),e)})))()},date2str:function(t,e){var i={M:t.getMonth()+1,d:t.getDate(),h:t.getHours(),m:t.getMinutes(),s:t.getSeconds()};return e=e.replace(/(M+|d+|h+|m+|s+)/g,(function(t){return((t.length>1?"0":"")+i[t.slice(-1)]).slice(-2)})),e.replace(/(y+)/g,(function(e){return t.getFullYear().toString().slice(-e.length)}))}}},Si=Ti,Di=i("2db4"),Oi=Object(u["a"])(Si,ki,Pi,!1,null,null,null),Ri=Oi.exports;m()(Oi,{VBtn:v["a"],VCard:W["a"],VDataTable:rt["a"],VIcon:z["a"],VSnackbar:Di["a"],VTextField:K["a"]});var Ii=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("v-card",{staticClass:"mx-auto mt-5",attrs:{"max-width":"620"}},[i("div",[t._v("Hive Voting ")])]),i("v-card",{staticClass:"mx-auto rounded-lg",attrs:{outlined:"","max-width":"620"}},[i("v-text-field",{staticClass:"mt-5 ml-3 mr-3",attrs:{hint:"Please enter the full url of the post.",label:"Post Url"},model:{value:t.postUrl,callback:function(e){t.postUrl=e},expression:"postUrl"}}),i("div",{staticClass:"d-flex flex-row-reverse mt-2 mr-3 mb-5"},[i("v-btn",{attrs:{small:"",depressed:"",color:"grey lighten-4"},on:{click:function(e){return t.clickSubmit()}}},[t._v("submit ")])],1)],1),i("v-snackbar",{staticClass:"mb-12",attrs:{absolute:"",bottom:"",color:"primary",center:"",text:""},model:{value:t.showSnackbar,callback:function(e){t.showSnackbar=e},expression:"showSnackbar"}},[t._v(" The post url is saved. ")]),i("v-card",{staticClass:"mx-auto mt-10",attrs:{"max-width":"620"}},[i("div",[t._v("Voting List")])]),i("v-card",{staticClass:"mx-auto rounded-lg",attrs:{outlined:"","max-width":"620"}},[i("v-data-table",{attrs:{"mobile-breakpoint":"200","hide-default-footer":"","items-per-page":-1,headers:t.votingHeaders,items:t.votingList,dense:""},scopedSlots:t._u([{key:"item.url",fn:function(e){var s=e.item;return[i("a",{attrs:{href:s.url,target:"new"}},[t._v(" "+t._s(s.url)+" ")])]}},{key:"item.voted",fn:function(e){var s=e.item;return[1===s.voted?i("v-icon",{attrs:{small:"",color:"green lighten-2"}},[t._v(" mdi-checkbox-marked-circle-outline ")]):i("div",[i("v-btn",{staticClass:"mt-2",attrs:{"x-small":"",depressed:"",color:"green lighten-3"},on:{click:function(e){return t.clickVoted(s)}}},[t._v("voted ")]),i("v-btn",{staticClass:"mt-5 mb-1",attrs:{"x-small":"",depressed:"",color:"red lighten-3"},on:{click:function(e){return t.clickRemove(s)}}},[t._v("remove ")])],1)]}}])})],1),i("v-dialog",{attrs:{"max-width":"290"},model:{value:t.showDeleteDialog,callback:function(e){t.showDeleteDialog=e},expression:"showDeleteDialog"}},[i("v-card",{staticClass:"pa-5",attrs:{flat:""}},[i("v-card-text",[t._v(t._s(t.selectedItem.url))]),i("v-card-actions",[i("v-spacer"),i("v-btn",{attrs:{small:"",color:"red lighten-3"},on:{click:function(e){return t.runRemove(t.selectedItem)}}},[t._v(" delete ")])],1)],1)],1)],1)},Fi=[],Ui={components:{},data:function(){return{votingHeaders:[{text:"URL",value:"url"},{text:"Voted",value:"voted"},{text:"Date",value:"newDate"}],votingList:[],postUrl:null,showSnackbar:!1,showDeleteDialog:!1,selectedItem:{}}},created:function(){this.init()},methods:{init:function(){var t=this;return Object(tt["a"])(regeneratorRuntime.mark((function e(){var i,s,n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,yt.get("/pish/hive/votings");case 2:i=e.sent,s=Object(L["a"])(i);try{for(s.s();!(n=s.n()).done;)r=n.value,r.newDate=t.date2str(new Date(r.created_date),"yyyy-MM-dd hh:mm")}catch(o){s.e(o)}finally{s.f()}t.votingList=i;case 6:case"end":return e.stop()}}),e)})))()},clickSubmit:function(){var t=this;return Object(tt["a"])(regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i={url:t.postUrl},e.next=3,yt.post("/pish/hive/votings",i);case 3:t.init(),t.postUrl=null,t.showSnackbar=!0;case 6:case"end":return e.stop()}}),e)})))()},clickVoted:function(t){var e=this;return Object(tt["a"])(regeneratorRuntime.mark((function i(){var s;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return s={url:e.postUrl},i.next=3,yt.put("/pish/hive/votings/".concat(t.id,"/voted"),s);case 3:e.init();case 4:case"end":return i.stop()}}),i)})))()},clickRemove:function(t){var e=this;return Object(tt["a"])(regeneratorRuntime.mark((function i(){return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:e.showDeleteDialog=!0,e.selectedItem=t;case 2:case"end":return i.stop()}}),i)})))()},runRemove:function(t){var e=this;return Object(tt["a"])(regeneratorRuntime.mark((function i(){var s;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return s={url:e.postUrl},i.next=3,yt.delete("/pish/hive/votings/"+t.id,s);case 3:e.showDeleteDialog=!1,e.init();case 5:case"end":return i.stop()}}),i)})))()},date2str:function(t,e){var i={M:t.getMonth()+1,d:t.getDate(),h:t.getHours(),m:t.getMinutes(),s:t.getSeconds()};return e=e.replace(/(M+|d+|h+|m+|s+)/g,(function(t){return((t.length>1?"0":"")+i[t.slice(-1)]).slice(-2)})),e.replace(/(y+)/g,(function(e){return t.getFullYear().toString().slice(-e.length)}))}}},Ni=Ui,Ai=Object(u["a"])(Ni,Ii,Fi,!1,null,null,null),Li=Ai.exports;m()(Ai,{VBtn:v["a"],VCard:W["a"],VCardActions:st["a"],VCardText:st["b"],VDataTable:rt["a"],VDialog:ot["a"],VIcon:z["a"],VSnackbar:Di["a"],VSpacer:b["a"],VTextField:K["a"]}),s["default"].use(S["a"]);var Vi=new S["a"]({routes:[{path:"/",name:"Intro",component:si},{path:"/intro",name:"Intro",component:si},{path:"/signin",name:"SignIn",component:Xe},{path:"/bots",name:"BotList",component:mi},{path:"/mulbot",name:"Mulbot",component:Y},{path:"/feebot",name:"Feebot",component:ut},{path:"/tribot",name:"Tribot",component:Bt},{path:"/tribot/binance",name:"TribotBinance",component:Gt},{path:"/tribot/sea",name:"TribotBinanceSea",component:ae},{path:"/range",name:"Rangebot",component:_e},{path:"/cscal",name:"Cscalper",component:ke},{path:"/accounts",name:"Accounts",component:Le},{path:"/voting",name:"Voting",component:Ri},{path:"/prediction",name:"Prediction",component:fi},{path:"/prediction2",name:"Prediction2",component:Ci},{path:"/voting/admin",name:"VotingAdmin",component:Li},{path:"/",name:"Sunshine",component:Me}]}),ji=i("c46f"),Bi=i("0e44");i("1a36");s["default"].config.productionTip=!1,s["default"].prototype.$http=ft.a,s["default"].prototype.$underscore=ji["a"],s["default"].prototype.$server="http://variouscafe.cafe24.com:8881",s["default"].use(n["a"]),s["default"].use(T.a);var Hi=new n["a"].Store({plugins:[Object(Bi["a"])()],state:{count:0,accounts:[],telegramId:null},mutations:{increment:function(t){t.count++},accounts:function(t,e){t.accounts=e},telegramId:function(t,e){t.telegramId=e}}});new s["default"]({store:Hi,vuetify:k,router:Vi,render:function(t){return t(x)}}).$mount("#app")},"5ee8":function(t,e,i){"use strict";i("5f2f")},"5f2f":function(t,e,i){},7772:function(t,e,i){"use strict";i("f6e7")},"85ec":function(t,e,i){},"9a11":function(t,e,i){"use strict";i("18a5")},aa90:function(t,e,i){"use strict";i("1b96")},f6e7:function(t,e,i){},fd68:function(t,e){}});
//# sourceMappingURL=app.81e014b6.js.map